---
title: 用正则表达式匹配多行注释
date: 2020-10-29 09:55:36
tags:
top_img: false
cover: /img/cover.png
---

在写编译原理词法分析大作业的时候，一个比较棘手的问题就是**如何匹配多行注释**。

多行注释由`/*`开始，`*/`结尾，中间除了不能出现`*/`字符串以外，任何字符串都能出现。问题就聚焦到了如何写一个正则去匹配**不包含`*/`的字符串**。

和室友想了好几天，最后写出来了，我自以为比较有挑战性，也很有技巧性。

```regex
\/\*[\/]*([^\*\/][\/]*|\*|[^\*\/])*\*\/
```

感觉可以拓展到**匹配任意不包含字符串`str`**，有空再想。