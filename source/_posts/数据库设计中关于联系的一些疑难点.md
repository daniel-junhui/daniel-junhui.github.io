---
title: 数据库设计中关于E-R图的一些疑难点
top_img: false
cover: /img/cover.png
date: 2020-10-31 17:07:57
tags:
- 数据库
katex: true
---

上课的时候对于E-R图中**one-to-many**的chen's图感到特别困惑，所以特地梳理一下。
# Mapping Cardinality (基数)
{% img "/img/db1.png" %}
- 图a表示**one-to-one**
- 图b表示**one-to-many**，意为一个$instructor$可以对应多个$student$，而一个$student$对应于**至多**一个$instructor$。
- 图c表示**many-to-many**

实际上用上图表示联系是没什么信息量的，因此E-R图也提供了一种更加复杂的约束，用来约束每个实体在联系中出现的**次数**。

*Database System Concepts*原文：

>A line may have an associated minimum and maximum cardinality, shown in the form l..h, where l is the minimum and h the maximum cardinality. A minimum value of 1 indicates total participation of the entity set in the relationship set; that is, each entity in the entity set occurs in at least one relationship in that relationship set. A maximum value of 1 indicates that the entity participates in at most one relationship, while a maximum value ∗ indicates no limit.

若一个entity的cardinality**最小值为$1$**，代表**完全参与联系**，也就是说，该entity中每一个实例都至少在联系中参与一次。

{% img "/img/db2.png" %}

以上图为例，$advisitor$和$student$连线的基数为$1..1$，这意味着$student$表中每一个学生实例都必须在联系中出现一次，也就是说每个学生都必须有且仅有一个$instructor$。而左边的$0..*$意味着一个$instructor$可以对应于零个或多个$student$。因此这张图表示的是一个**one-to-many**关系，这很容易和上面的传统表示方法混淆。

实际上，带有$m..n$的联系表示方法涵盖的信息已经包括了传统表示方法能涵盖的所有信息。而这种表示方法和**crow's foot**表示方法相比，当表示的信息相同时，**联系左右的表示是相反的**。