(function(e){function t(t){for(var n,o,c=t[0],s=t[1],i=t[2],b=0,f=[];b<c.length;b++)o=c[b],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(f.length)f.shift()();return l.push.apply(l,i||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,c=1;c<a.length;c++){var s=a[c];0!==r[s]&&(n=!1)}n&&(l.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},l=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var i=0;i<c.length;i++)t(c[i]);var u=s;l.push([1,"chunk-vendors"]),a()})({0:function(e,t){},1:function(e,t,a){e.exports=a("56d7")},"138d":function(e,t,a){"use strict";a("6ffc")},2:function(e,t){},3:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("f2bf"),r=a("ac42"),l=a.n(r),o=Object(n["m"])("img",{src:l.a,height:"280"},null,-1),c={style:{width:"100%"}},s={style:{float:"right",width:"48%","margin-left":"5%"}};function i(e,t,a,r,l,i){var u=Object(n["M"])("HelloWorld"),b=Object(n["M"])("ExcelDetail"),f=Object(n["M"])("Process");return Object(n["D"])(),Object(n["i"])(n["b"],null,[o,Object(n["m"])(u,{msg:"这是一个自动在线随机分组工具"}),Object(n["m"])("div",c,[Object(n["m"])(b,{style:{float:"left",width:"40%"}}),Object(n["m"])("div",s,[Object(n["m"])(f)])])],64)}var u=Object(n["eb"])("data-v-43f48a4c");Object(n["G"])("data-v-43f48a4c");var b={class:"hello"};Object(n["E"])();var f=u((function(e,t,a,r,l,o){return Object(n["D"])(),Object(n["i"])("div",b,[Object(n["m"])("h1",null,Object(n["Q"])(a.msg),1)])})),d={name:"HelloWorld",props:{msg:String}};a("ffd7");d.render=f,d.__scopeId="data-v-43f48a4c";var p=d,m=(a("b0c0"),Object(n["eb"])("data-v-210b5e6b"));Object(n["G"])("data-v-210b5e6b");var h={id:"detail"},j=Object(n["m"])("em",{class:"el-icon-upload"},null,-1),O=Object(n["m"])("div",{class:"el-upload__text"},[Object(n["l"])("将学生名单文件拖到此处，或"),Object(n["m"])("em",null,"点击上传")],-1),g=Object(n["m"])("div",{class:"el-upload__tip"},"暂时只能解析.xls/.xlsx文件",-1),v=Object(n["m"])("div",{class:"el-upload__tip"},"注意：请确保表格有表头",-1);Object(n["E"])();var y=m((function(e,t,a,r,l,o){var c=Object(n["M"])("el-upload"),s=Object(n["M"])("el-tooltip"),i=Object(n["M"])("el-table-column"),u=Object(n["M"])("el-table"),b=Object(n["M"])("el-main");return Object(n["D"])(),Object(n["i"])("div",h,[Object(n["m"])(s,{class:"item",effect:"dark",content:"你的文件不会被保存，放心上传",placement:"top-start",style:{"margin-bottom":"10px"}},{default:m((function(){return[Object(n["m"])(c,{class:"upload-demo",drag:"","auto-upload":!1,"on-change":o.handleChange,"show-file-list":!1,accept:".xls,.xlsx"},{default:m((function(){return[j,O,g,v]})),_:1},8,["on-change"])]})),_:1}),Object(n["m"])(b,{id:"detailTable"},{default:m((function(){return[Object(n["m"])(u,{id:"detailList",data:l.tableData,height:"100%"},{default:m((function(){return[(Object(n["D"])(!0),Object(n["i"])(n["b"],null,Object(n["K"])(l.items,(function(e,t){return Object(n["D"])(),Object(n["i"])(i,{key:t,prop:e.id,label:e.name,width:"180"},null,8,["prop","label"])})),128)),Object(n["m"])("span",{innerHTML:e.rawColumn},null,8,["innerHTML"])]})),_:1},8,["data"])]})),_:1})])})),w=(a("99af"),a("baa5"),a("d3b7"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("2909")),D=(a("96cf"),a("1da1")),x={name:"ExcelDetail",data:function(){return{items:[],tableData:[],fileContent:""}},methods:{handleChange:function(e){this.items=[],this.tableData=[],this.tableData=[],this.fileContent=e.raw;var t=e.name,a=t.substring(t.lastIndexOf(".")+1);this.fileContent?"xlsx"===a||"xls"===a?this.importfile(this.fileContent):this.$message({type:"warning",message:"附件格式错误，请重新上传！"}):this.$message({type:"warning",message:"请上传附件！"})},importfile:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=new FileReader,l=t,r.readAsArrayBuffer(e),r.onload=function(){for(var e=r.result,t=new Uint8Array(e),n=t.byteLength,o="",c=0;c<n;c++)o+=String.fromCharCode(t[c]);var s=a("1146"),i=s.read(o,{type:"binary"}),u=s.utils.sheet_to_json(i.Sheets[i.SheetNames[0]],{header:1});this.data=Object(w["a"])(u);for(var b=[],f=0;f<this.data[0].length;f++){var d={};d.id="type"+f,d.name=this.data[0][f],l.items.push(d)}for(var p=1,m=l.items;p<this.data.length;p++){var h={};console.log(this.data[p]);for(var j=0;j<m.length;j++)h["type"+j]=this.data[p][j];b.push(h)}l.tableData=l.tableData.concat(b),l.$store.commit("setRawData",b),l.$store.commit("setNum",b.length),l.$store.commit("setTypes",l.items),l.$store.commit("setProcess",1),console.log(l.tableData),console.log(l.items)};case 4:case"end":return n.stop()}}),n)})))()}}};a("6b3e");x.render=y,x.__scopeId="data-v-210b5e6b";var _=x,M=a("dad4"),P=a.n(M),k=Object(n["eb"])("data-v-b2591e96");Object(n["G"])("data-v-b2591e96");var C=Object(n["m"])("span",{class:"processParam"}," 每组人数：",-1),S=Object(n["l"])("开始分组"),A={class:"processParam"},N=Object(n["l"])(" 下载分组结果 "),T={style:{float:"right",width:"100%"}},$={style:{"margin-bottom":"10px"}},V=Object(n["m"])("div",{style:{"margin-top":"10px","margin-bottom":"10px","font-family":"Avenir, Helvetica, Arial, sans-serif","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"}},[Object(n["m"])("span",null,[Object(n["m"])("a",{href:"https://www.zhihu.com/question/426826559"},"当代大学生是如何被内卷的？"),Object(n["l"])(" - 知乎 ")])],-1),I=Object(n["m"])("img",{src:P.a,height:"220"},null,-1);Object(n["E"])();var B=k((function(e,t,a,r,l,o){var c=Object(n["M"])("el-option"),s=Object(n["M"])("el-select"),i=Object(n["M"])("el-button"),u=Object(n["M"])("el-table-column"),b=Object(n["M"])("el-table"),f=Object(n["M"])("el-tab-pane"),d=Object(n["M"])("el-tabs"),p=Object(n["M"])("el-main");return Object(n["D"])(),Object(n["i"])(n["b"],null,[C,Object(n["m"])(s,{class:"processParam",modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.value=e}),placeholder:"小组人数",style:{"margin-right":"10px"}},{default:k((function(){return[(Object(n["D"])(!0),Object(n["i"])(n["b"],null,Object(n["K"])(l.options,(function(e){return Object(n["D"])(),Object(n["i"])(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"]),Object(n["m"])(i,{onClick:o.start,class:"processParam",type:"success"},{default:k((function(){return[S]})),_:1},8,["onClick"]),Object(n["m"])("span",A," 一共读取到 "+Object(n["Q"])(o.getNum)+" 条数据",1),Object(n["m"])(i,{onClick:o.download,type:"success",class:"processParam"},{default:k((function(){return[N]})),_:1},8,["onClick"]),Object(n["m"])("div",T,[Object(n["m"])(p,{id:"result"},{default:k((function(){return[Object(n["m"])("div",$,Object(n["Q"])(o.Note),1),Object(n["m"])(d,{modelValue:e.editableTabsValue,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.editableTabsValue=t}),type:"card"},{default:k((function(){return[(Object(n["D"])(!0),Object(n["i"])(n["b"],null,Object(n["K"])(l.afterData,(function(e){return Object(n["D"])(),Object(n["i"])(f,{key:e.groupId,label:e.group,name:e.group},{default:k((function(){return[Object(n["m"])(b,{id:"detailList",data:e.people,height:"550px"},{default:k((function(){return[(Object(n["D"])(!0),Object(n["i"])(n["b"],null,Object(n["K"])(l.types,(function(e,t){return Object(n["D"])(),Object(n["i"])(u,{key:t,prop:e.id,label:e.name,width:"180"},null,8,["prop","label"])})),128))]})),_:2},1032,["data"])]})),_:2},1032,["label","name"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),V]),I],64)})),E=(a("c19f"),a("21a6")),H=a.n(E),L={data:function(){return{options:[{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"}],value:"",rawData:[],types:[],afterData:[]}},methods:{download:function(){for(var e=a("1146"),t={bookType:"xlsx",bookSST:!0,type:"binary"},n=[],r=0;r<this.afterData.length;r++)n.push("第"+(r+1)+"组");var l={SheetNames:n,Sheets:{},Props:{}};console.log(this.afterData[0]);for(var o=0;o<this.afterData.length;o++)l.Sheets["第"+(o+1)+"组"]=e.utils.json_to_sheet(this.afterData[o].people);H.a.saveAs(new Blob([this.changeData(e.write(l,t))],{type:"application/octet-stream"}),"分组结果.xlsx")},changeData:function(e){if("undefined"!==typeof ArrayBuffer){for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),n=0;n<e.length;++n)a[n]=255&e.charCodeAt(n);return t}for(t=new Array(e.length),n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t},start:function(){if(""==this.value)this.$message({type:"warning",message:"请选择人数！"});else{this.types=this.$store.getters.getTypes,this.afterData=[];for(var e=this.$store.getters.getNum,t=[],a=this.$store.getters.getData,n=0;n<e;n++){var r={};r.id=n,r.weight=Math.random(),t.push(r)}t.sort(this.sortByNum);for(var l=Math.ceil(e/this.value),o=0;o<l-1;o++){var c={};c.groupId=o,c.group="第"+(o+1)+"组";for(var s=[],i=0;i<this.value;i++)s.push(a[t[this.value*o+i].id]);c.people=s,this.afterData.push(c)}var u={};u.groupId=l-1,u.group="第"+l+"组";s=[];for(var b=(l-1)*this.value;b<e;b++)s.push(a[t[b].id]);u.people=s,this.afterData.push(u),this.$store.commit("setProcess",2),console.log(this.afterData)}},sortByNum:function(e,t){return e.weight-t.weight}},computed:{getNum:function(){return this.$store.getters.getNum},Note:function(){switch(this.$store.getters.getProcess){case 0:return"请先导入数据";case 1:return"请开始分组";default:return""}}}};a("f870");L.render=B,L.__scopeId="data-v-b2591e96";var R=L,K={name:"App",components:{HelloWorld:p,ExcelDetail:_,Process:R}};a("138d");K.render=i;var U=K,G=a("3fd4"),Q=(a("7dd6"),a("3ef0")),W=a.n(Q),z=function(e){e.use(G["a"],{locale:W.a})},J=a("5502"),q=Object(J["a"])({state:{rawData:[],num:"",types:[],process:0},getters:{getData:function(e){return e.rawData},getNum:function(e){return e.num},getTypes:function(e){return e.types},getProcess:function(e){return e.process}},mutations:{setRawData:function(e,t){return e.rawData=t},setNum:function(e,t){return e.num=t},setTypes:function(e,t){return e.types=t},setProcess:function(e,t){return e.process=t}},actions:{},modules:{}}),F=Object(n["h"])(U).use(q);z(F),F.mount("#app")},"6b3e":function(e,t,a){"use strict";a("d7e5")},"6ffc":function(e,t,a){},"76b1":function(e,t,a){},ac42:function(e,t,a){e.exports=a.p+"img/cbd.cf367282.jpg"},d7e5:function(e,t,a){},dad4:function(e,t,a){e.exports=a.p+"img/jack.88d8e1ca.jpg"},f540:function(e,t,a){},f870:function(e,t,a){"use strict";a("76b1")},ffd7:function(e,t,a){"use strict";a("f540")}});
//# sourceMappingURL=app.699f21d7.js.map